!(function(){var Qn=Object.defineProperty,Hn=Object.defineProperties;var jn=Object.getOwnPropertyDescriptors;var Xn=Object.getOwnPropertySymbols;var qn=Object.prototype.hasOwnProperty,_n=Object.prototype.propertyIsEnumerable;var Yn=(E,V,r)=>V in E?Qn(E,V,{enumerable:!0,configurable:!0,writable:!0,value:r}):E[V]=r,xn=(E,V)=>{for(var r in V||(V={}))qn.call(V,r)&&Yn(E,r,V[r]);if(Xn)for(var r of Xn(V))_n.call(V,r)&&Yn(E,r,V[r]);return E},Kn=(E,V)=>Hn(E,jn(V));var Ee=(E,V,r)=>(Yn(E,typeof V!="symbol"?V+"":V,r),r);(self.webpackChunkpanan=self.webpackChunkpanan||[]).push([[8026],{72137:function(E,V,r){"use strict";r.d(V,{k:function(){return y}});var s=r(90494);function m(p,c,o,i){for(;p.length;){const a=p.shift();if(o(a))return!0;c.add(a.id),i(a.id).forEach(O=>{c.has(O.id)||(c.add(O.id),p.push(O))})}return!1}function v(p,c,o,i){if(o(p))return!0;c.add(p.id);for(const h of i(p.id))if(!c.has(h.id)&&v(h,c,o,i))return!0;return!1}const b=()=>!0;class f{constructor(c){Ee(this,"graph");Ee(this,"nodeFilter");Ee(this,"edgeFilter");Ee(this,"cacheEnabled");Ee(this,"inEdgesMap",new Map);Ee(this,"outEdgesMap",new Map);Ee(this,"bothEdgesMap",new Map);Ee(this,"allNodesMap",new Map);Ee(this,"allEdgesMap",new Map);Ee(this,"clearCache",()=>{this.inEdgesMap.clear(),this.outEdgesMap.clear(),this.bothEdgesMap.clear(),this.allNodesMap.clear(),this.allEdgesMap.clear()});Ee(this,"refreshCache",()=>{this.clearCache(),this.updateCache(this.graph.getAllNodes().map(c=>c.id))});Ee(this,"updateCache",c=>{const o=new Set;c.forEach(i=>{const a=this.bothEdgesMap.get(i);if(a&&a.forEach(h=>o.add(h.id)),!this.hasNode(i))this.inEdgesMap.delete(i),this.outEdgesMap.delete(i),this.bothEdgesMap.delete(i),this.allNodesMap.delete(i);else{const h=this.graph.getRelatedEdges(i,"in").filter(this.edgeFilter),O=this.graph.getRelatedEdges(i,"out").filter(this.edgeFilter),W=Array.from(new Set([...h,...O]));W.forEach(z=>o.add(z.id)),this.inEdgesMap.set(i,h),this.outEdgesMap.set(i,O),this.bothEdgesMap.set(i,W),this.allNodesMap.set(i,this.graph.getNode(i))}}),o.forEach(i=>{this.hasEdge(i)?this.allEdgesMap.set(i,this.graph.getEdge(i)):this.allEdgesMap.delete(i)})});Ee(this,"handleGraphChanged",c=>{const o=new Set;c.changes.forEach(i=>{switch(i.type){case"NodeAdded":o.add(i.value.id);break;case"NodeDataUpdated":o.add(i.id);break;case"EdgeAdded":o.add(i.value.source),o.add(i.value.target);break;case"EdgeUpdated":(i.propertyName==="source"||i.propertyName==="target")&&(o.add(i.oldValue),o.add(i.newValue));break;case"EdgeDataUpdated":if(c.graph.hasEdge(i.id)){const a=c.graph.getEdge(i.id);o.add(a.source),o.add(a.target)}break;case"EdgeRemoved":o.add(i.value.source),o.add(i.value.target);break;case"NodeRemoved":o.add(i.value.id);break;default:break}}),this.updateCache(o)});this.graph=c.graph;const o=c.nodeFilter||b,i=c.edgeFilter||b;this.nodeFilter=o,this.edgeFilter=a=>{const{source:h,target:O}=this.graph.getEdgeDetail(a.id);return!o(h)||!o(O)?!1:i(a,h,O)},c.cache==="auto"?(this.cacheEnabled=!0,this.startAutoCache()):c.cache==="manual"?this.cacheEnabled=!0:this.cacheEnabled=!1}startAutoCache(){this.refreshCache(),this.graph.on("changed",this.handleGraphChanged)}stopAutoCache(){this.graph.off("changed",this.handleGraphChanged)}checkNodeExistence(c){this.getNode(c)}hasNode(c){if(!this.graph.hasNode(c))return!1;const o=this.graph.getNode(c);return this.nodeFilter(o)}areNeighbors(c,o){return this.checkNodeExistence(c),this.getNeighbors(o).some(i=>i.id===c)}getNode(c){const o=this.graph.getNode(c);if(!this.nodeFilter(o))throw new Error("Node not found for id: "+c);return o}getRelatedEdges(c,o){return this.checkNodeExistence(c),this.cacheEnabled?o==="in"?this.inEdgesMap.get(c):o==="out"?this.outEdgesMap.get(c):this.bothEdgesMap.get(c):this.graph.getRelatedEdges(c,o).filter(this.edgeFilter)}getDegree(c,o){return this.getRelatedEdges(c,o).length}getSuccessors(c){const i=this.getRelatedEdges(c,"out").map(a=>this.getNode(a.target));return Array.from(new Set(i))}getPredecessors(c){const i=this.getRelatedEdges(c,"in").map(a=>this.getNode(a.source));return Array.from(new Set(i))}getNeighbors(c){const o=this.getPredecessors(c),i=this.getSuccessors(c);return Array.from(new Set([...o,...i]))}hasEdge(c){if(!this.graph.hasEdge(c))return!1;const o=this.graph.getEdge(c);return this.edgeFilter(o)}getEdge(c){const o=this.graph.getEdge(c);if(!this.edgeFilter(o))throw new Error("Edge not found for id: "+c);return o}getEdgeDetail(c){const o=this.getEdge(c);return{edge:o,source:this.getNode(o.source),target:this.getNode(o.target)}}hasTreeStructure(c){return this.graph.hasTreeStructure(c)}getRoots(c){return this.graph.getRoots(c).filter(this.nodeFilter)}getChildren(c,o){return this.checkNodeExistence(c),this.graph.getChildren(c,o).filter(this.nodeFilter)}getParent(c,o){this.checkNodeExistence(c);const i=this.graph.getParent(c,o);return!i||!this.nodeFilter(i)?null:i}getAllNodes(){return this.cacheEnabled?Array.from(this.allNodesMap.values()):this.graph.getAllNodes().filter(this.nodeFilter)}getAllEdges(){return this.cacheEnabled?Array.from(this.allEdgesMap.values()):this.graph.getAllEdges().filter(this.edgeFilter)}bfs(c,o,i="out"){const a={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];m([this.getNode(c)],new Set,o,a)}dfs(c,o,i="out"){const a={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];v(this.getNode(c),new Set,o,a)}}class y extends s.Z{constructor(o){super();Ee(this,"nodeMap",new Map);Ee(this,"edgeMap",new Map);Ee(this,"inEdgesMap",new Map);Ee(this,"outEdgesMap",new Map);Ee(this,"bothEdgesMap",new Map);Ee(this,"treeIndices",new Map);Ee(this,"changes",[]);Ee(this,"batchCount",0);Ee(this,"onChanged",()=>{});Ee(this,"batch",o=>{this.batchCount+=1,o(),this.batchCount-=1,this.batchCount||this.commit()});o&&(o.nodes&&this.addNodes(o.nodes),o.edges&&this.addEdges(o.edges),o.tree&&this.addTree(o.tree),o.onChanged&&(this.onChanged=o.onChanged))}commit(){const o=this.changes;this.changes=[];const i={graph:this,changes:o};this.emit("changed",i),this.onChanged(i)}reduceChanges(o){let i=[];return o.forEach(a=>{switch(a.type){case"NodeRemoved":{let h=!1;i=i.filter(O=>{if(O.type==="NodeAdded"){const W=O.value.id===a.value.id;return W&&(h=!0),!W}else{if(O.type==="NodeDataUpdated")return O.id!==a.value.id;if(O.type==="TreeStructureChanged")return O.nodeId!==a.value.id}return!0}),h||i.push(a);break}case"EdgeRemoved":{let h=!1;i=i.filter(O=>{if(O.type==="EdgeAdded"){const W=O.value.id===a.value.id;return W&&(h=!0),!W}else if(O.type==="EdgeDataUpdated"||O.type==="EdgeUpdated")return O.id!==a.value.id;return!0}),h||i.push(a);break}case"NodeDataUpdated":case"EdgeDataUpdated":case"EdgeUpdated":{const h=i.findIndex(W=>W.type===a.type&&W.id===a.id&&(a.propertyName===void 0||W.propertyName===a.propertyName)),O=i[h];O?a.propertyName!==void 0?O.newValue=a.newValue:(i.splice(h,1),i.push(a)):i.push(a);break}case"TreeStructureDetached":{i=i.filter(h=>h.type==="TreeStructureAttached"||h.type==="TreeStructureChanged"?h.treeKey!==a.treeKey:!0),i.push(a);break}case"TreeStructureChanged":{const h=i.find(O=>O.type==="TreeStructureChanged"&&O.treeKey===a.treeKey&&O.nodeId===a.nodeId);h?h.newParentId=a.newParentId:i.push(a);break}default:i.push(a);break}}),i}checkNodeExistence(o){this.getNode(o)}hasNode(o){return this.nodeMap.has(o)}areNeighbors(o,i){return this.getNeighbors(i).some(a=>a.id===o)}getNode(o){const i=this.nodeMap.get(o);if(!i)throw new Error("Node not found for id: "+o);return i}getRelatedEdges(o,i){if(this.checkNodeExistence(o),i==="in"){const a=this.inEdgesMap.get(o);return Array.from(a)}else if(i==="out"){const a=this.outEdgesMap.get(o);return Array.from(a)}else{const a=this.bothEdgesMap.get(o);return Array.from(a)}}getDegree(o,i){return this.getRelatedEdges(o,i).length}getSuccessors(o){const a=this.getRelatedEdges(o,"out").map(h=>this.getNode(h.target));return Array.from(new Set(a))}getPredecessors(o){const a=this.getRelatedEdges(o,"in").map(h=>this.getNode(h.source));return Array.from(new Set(a))}getNeighbors(o){const i=this.getPredecessors(o),a=this.getSuccessors(o);return Array.from(new Set([...i,...a]))}doAddNode(o){if(this.hasNode(o.id))throw new Error("Node already exists: "+o.id);this.nodeMap.set(o.id,o),this.inEdgesMap.set(o.id,new Set),this.outEdgesMap.set(o.id,new Set),this.bothEdgesMap.set(o.id,new Set),this.treeIndices.forEach(i=>{i.childrenMap.set(o.id,new Set)}),this.changes.push({type:"NodeAdded",value:o})}addNodes(o){this.batch(()=>{for(const i of o)this.doAddNode(i)})}addNode(o){this.addNodes([o])}doRemoveNode(o){const i=this.getNode(o),a=this.bothEdgesMap.get(o);a==null||a.forEach(h=>this.doRemoveEdge(h.id)),this.nodeMap.delete(o),this.treeIndices.forEach(h=>{var W,z;(W=h.childrenMap.get(o))==null||W.forEach(C=>{h.parentMap.delete(C.id)});const O=h.parentMap.get(o);O&&((z=h.childrenMap.get(O.id))==null||z.delete(i)),h.parentMap.delete(o),h.childrenMap.delete(o)}),this.bothEdgesMap.delete(o),this.inEdgesMap.delete(o),this.outEdgesMap.delete(o),this.changes.push({type:"NodeRemoved",value:i})}removeNodes(o){this.batch(()=>{o.forEach(i=>this.doRemoveNode(i))})}removeNode(o){this.removeNodes([o])}updateNodeDataProperty(o,i,a){const h=this.getNode(o);this.batch(()=>{const O=h.data[i],W=a;h.data[i]=W,this.changes.push({type:"NodeDataUpdated",id:o,propertyName:i,oldValue:O,newValue:W})})}mergeNodeData(o,i){this.batch(()=>{Object.entries(i).forEach(([a,h])=>{this.updateNodeDataProperty(o,a,h)})})}updateNodeData(...o){const i=o[0],a=this.getNode(i);if(typeof o[1]=="string"){this.updateNodeDataProperty(i,o[1],o[2]);return}let h;if(typeof o[1]=="function"){const O=o[1];h=O(a.data)}else typeof o[1]=="object"&&(h=o[1]);this.batch(()=>{const O=a.data,W=h;a.data=h,this.changes.push({type:"NodeDataUpdated",id:i,oldValue:O,newValue:W})})}checkEdgeExistence(o){if(!this.hasEdge(o))throw new Error("Edge not found for id: "+o)}hasEdge(o){return this.edgeMap.has(o)}getEdge(o){return this.checkEdgeExistence(o),this.edgeMap.get(o)}getEdgeDetail(o){const i=this.getEdge(o);return{edge:i,source:this.getNode(i.source),target:this.getNode(i.target)}}doAddEdge(o){if(this.hasEdge(o.id))throw new Error("Edge already exists: "+o.id);this.checkNodeExistence(o.source),this.checkNodeExistence(o.target),this.edgeMap.set(o.id,o);const i=this.inEdgesMap.get(o.target),a=this.outEdgesMap.get(o.source),h=this.bothEdgesMap.get(o.source),O=this.bothEdgesMap.get(o.target);i.add(o),a.add(o),h.add(o),O.add(o),this.changes.push({type:"EdgeAdded",value:o})}addEdges(o){this.batch(()=>{for(const i of o)this.doAddEdge(i)})}addEdge(o){this.addEdges([o])}doRemoveEdge(o){const i=this.getEdge(o),a=this.outEdgesMap.get(i.source),h=this.inEdgesMap.get(i.target),O=this.bothEdgesMap.get(i.source),W=this.bothEdgesMap.get(i.target);a.delete(i),h.delete(i),O.delete(i),W.delete(i),this.edgeMap.delete(o),this.changes.push({type:"EdgeRemoved",value:i})}removeEdges(o){this.batch(()=>{o.forEach(i=>this.doRemoveEdge(i))})}removeEdge(o){this.removeEdges([o])}updateEdgeSource(o,i){const a=this.getEdge(o);this.checkNodeExistence(i);const h=a.source,O=i;this.outEdgesMap.get(h).delete(a),this.bothEdgesMap.get(h).delete(a),this.outEdgesMap.get(O).add(a),this.bothEdgesMap.get(O).add(a),a.source=i,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:o,propertyName:"source",oldValue:h,newValue:O})})}updateEdgeTarget(o,i){const a=this.getEdge(o);this.checkNodeExistence(i);const h=a.target,O=i;this.inEdgesMap.get(h).delete(a),this.bothEdgesMap.get(h).delete(a),this.inEdgesMap.get(O).add(a),this.bothEdgesMap.get(O).add(a),a.target=i,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:o,propertyName:"target",oldValue:h,newValue:O})})}updateEdgeDataProperty(o,i,a){const h=this.getEdge(o);this.batch(()=>{const O=h.data[i],W=a;h.data[i]=W,this.changes.push({type:"EdgeDataUpdated",id:o,propertyName:i,oldValue:O,newValue:W})})}updateEdgeData(...o){const i=o[0],a=this.getEdge(i);if(typeof o[1]=="string"){this.updateEdgeDataProperty(i,o[1],o[2]);return}let h;if(typeof o[1]=="function"){const O=o[1];h=O(a.data)}else typeof o[1]=="object"&&(h=o[1]);this.batch(()=>{const O=a.data,W=h;a.data=h,this.changes.push({type:"EdgeDataUpdated",id:i,oldValue:O,newValue:W})})}mergeEdgeData(o,i){this.batch(()=>{Object.entries(i).forEach(([a,h])=>{this.updateEdgeDataProperty(o,a,h)})})}checkTreeExistence(o){if(!this.hasTreeStructure(o))throw new Error("Tree structure not found for treeKey: "+o)}hasTreeStructure(o){return this.treeIndices.has(o)}attachTreeStructure(o){this.treeIndices.has(o)||(this.treeIndices.set(o,{parentMap:new Map,childrenMap:new Map}),this.batch(()=>{this.changes.push({type:"TreeStructureAttached",treeKey:o})}))}detachTreeStructure(o){this.checkTreeExistence(o),this.treeIndices.delete(o),this.batch(()=>{this.changes.push({type:"TreeStructureDetached",treeKey:o})})}addTree(o,i){this.batch(()=>{this.attachTreeStructure(i);const a=[],h=Array.isArray(o)?o:[o];for(;h.length;){const O=h.shift();a.push(O),O.children&&h.push(...O.children)}this.addNodes(a),a.forEach(O=>{var W;(W=O.children)==null||W.forEach(z=>{this.setParent(z.id,O.id,i)})})})}getRoots(o){return this.checkTreeExistence(o),this.getAllNodes().filter(i=>!this.getParent(i.id,o))}getChildren(o,i){this.checkNodeExistence(o),this.checkTreeExistence(i);const h=this.treeIndices.get(i).childrenMap.get(o);return Array.from(h||[])}getParent(o,i){return this.checkNodeExistence(o),this.checkTreeExistence(i),this.treeIndices.get(i).parentMap.get(o)||null}getAncestors(o,i){const a=[];let h=this.getNode(o),O;for(;O=this.getParent(h.id,i);)a.push(O),h=O;return a}setParent(o,i,a){var P,U;this.checkTreeExistence(a);const h=this.treeIndices.get(a),O=this.getNode(o),W=h.parentMap.get(o);if((W==null?void 0:W.id)===i)return;if(i===void 0){W&&((P=h.childrenMap.get(W.id))==null||P.delete(O)),h.parentMap.delete(o);return}const z=this.getNode(i);h.parentMap.set(o,z),W&&((U=h.childrenMap.get(W.id))==null||U.delete(O));let C=h.childrenMap.get(z.id);C||(C=new Set,h.childrenMap.set(z.id,C)),C.add(O),this.batch(()=>{this.changes.push({type:"TreeStructureChanged",treeKey:a,nodeId:o,oldParentId:W==null?void 0:W.id,newParentId:z.id})})}dfsTree(o,i,a){const h=O=>this.getChildren(O,a);return v(this.getNode(o),new Set,i,h)}bfsTree(o,i,a){const h=O=>this.getChildren(O,a);return m([this.getNode(o)],new Set,i,h)}getAllNodes(){return Array.from(this.nodeMap.values())}getAllEdges(){return Array.from(this.edgeMap.values())}bfs(o,i,a="out"){const h={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[a];return m([this.getNode(o)],new Set,i,h)}dfs(o,i,a="out"){const h={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[a];return v(this.getNode(o),new Set,i,h)}clone(){const o=this.getAllNodes().map(h=>Kn(xn({},h),{data:xn({},h.data)})),i=this.getAllEdges().map(h=>Kn(xn({},h),{data:xn({},h.data)})),a=new y({nodes:o,edges:i});return this.treeIndices.forEach(({parentMap:h,childrenMap:O},W)=>{const z=new Map;h.forEach((P,U)=>{z.set(U,a.getNode(P.id))});const C=new Map;O.forEach((P,U)=>{C.set(U,new Set(Array.from(P).map(X=>a.getNode(X.id))))}),a.treeIndices.set(W,{parentMap:z,childrenMap:C})}),a}toJSON(){return JSON.stringify({nodes:this.getAllNodes(),edges:this.getAllEdges()})}createView(o){return new f(xn({graph:this},o))}}},28104:function(E,V,r){"use strict";r.d(V,{b:function(){return dn}});var s=r(97582),m=r(72137),v=r(61035),b=function(d){return d==null},f=b;const y=(d,g)=>{if(d!=="next"&&d!=="prev")return g},p=d=>{d.prev.next=d.next,d.next.prev=d.prev,delete d.next,delete d.prev};class c{constructor(){const g={};g.prev=g,g.next=g.prev,this.shortcut=g}dequeue(){const g=this.shortcut,N=g.prev;if(N&&N!==g)return p(N),N}enqueue(g){const N=this.shortcut;g.prev&&g.next&&p(g),g.next=N.next,N.next.prev=g,N.next=g,g.prev=N}toString(){const g=[],N=this.shortcut;let D=N.prev;for(;D!==N;)g.push(JSON.stringify(D,y)),D=D==null?void 0:D.prev;return`[${g.join(", ")}]`}}class o extends c{}const i=()=>1,a=(d,g)=>{var N;if(d.getAllNodes().length<=1)return[];const D=W(d,g||i);return(N=h(D.graph,D.buckets,D.zeroIdx).map(K=>d.getRelatedEdges(K.v,"out").filter(({target:tt})=>tt===K.w)))===null||N===void 0?void 0:N.flat()},h=(d,g,N)=>{let D=[];const B=g[g.length-1],K=g[0];let tt;for(;d.getAllNodes().length;){for(;tt=K.dequeue();)O(d,g,N,tt);for(;tt=B.dequeue();)O(d,g,N,tt);if(d.getAllNodes().length){for(let nt=g.length-2;nt>0;--nt)if(tt=g[nt].dequeue(),tt){D=D.concat(O(d,g,N,tt,!0));break}}}return D},O=(d,g,N,D,B)=>{var K,tt;const nt=[];return d.hasNode(D.v)&&((K=d.getRelatedEdges(D.v,"in"))===null||K===void 0||K.forEach(rt=>{const j=rt.data.weight,lt=d.getNode(rt.source);B&&nt.push({v:rt.source,w:rt.target,in:0,out:0}),lt.data.out===void 0&&(lt.data.out=0),lt.data.out-=j,z(g,N,Object.assign({v:lt.id},lt.data))}),(tt=d.getRelatedEdges(D.v,"out"))===null||tt===void 0||tt.forEach(rt=>{const j=rt.data.weight,lt=rt.target,Rt=d.getNode(lt);Rt.data.in===void 0&&(Rt.data.in=0),Rt.data.in-=j,z(g,N,Object.assign({v:Rt.id},Rt.data))}),d.removeNode(D.v)),B?nt:void 0},W=(d,g)=>{const N=new m.k;let D=0,B=0;d.getAllNodes().forEach(rt=>{N.addNode({id:rt.id,data:{v:rt.id,in:0,out:0}})}),d.getAllEdges().forEach(rt=>{const j=N.getRelatedEdges(rt.source,"out").find(Rt=>Rt.target===rt.target),lt=(g==null?void 0:g(rt))||1;j?N.updateEdgeData(j==null?void 0:j.id,Object.assign(Object.assign({},j.data),{weight:j.data.weight+lt})):N.addEdge({id:rt.id,source:rt.source,target:rt.target,data:{weight:lt}}),B=Math.max(B,N.getNode(rt.source).data.out+=lt),D=Math.max(D,N.getNode(rt.target).data.in+=lt)});const K=[],tt=B+D+3;for(let rt=0;rt<tt;rt++)K.push(new o);const nt=D+1;return N.getAllNodes().forEach(rt=>{z(K,nt,Object.assign({v:rt.id},N.getNode(rt.id).data))}),{buckets:K,zeroIdx:nt,graph:N}},z=(d,g,N)=>{N.out?N.in?d[N.out-N.in+g].enqueue(N):d[d.length-1].enqueue(N):d[0].enqueue(N)},C=(d,g)=>{const D=g==="greedy"?a(d,(B=>K=>K.data.weight||1)(d)):P(d);D==null||D.forEach(B=>{const K=B.data;d.removeEdge(B.id),K.forwardName=B.data.name,K.reversed=!0,d.addEdge({id:B.id,source:B.target,target:B.source,data:Object.assign({},K)})})},P=d=>{const g=[],N={},D={},B=K=>{D[K]||(D[K]=!0,N[K]=!0,d.getRelatedEdges(K,"out").forEach(tt=>{N[tt.target]?g.push(tt):B(tt.target)}),delete N[K])};return d.getAllNodes().forEach(K=>B(K.id)),g},U=d=>{d.getAllEdges().forEach(g=>{const N=g.data;if(N.reversed){d.removeEdge(g.id);const D=N.forwardName;delete N.reversed,delete N.forwardName,d.addEdge({id:g.id,source:g.target,target:g.source,data:Object.assign(Object.assign({},N),{forwardName:D})})}})},X=(d,g)=>Number(d)-Number(g),_=(d,g,N,D)=>{let B;do B=`${D}${Math.random()}`;while(d.hasNode(B));return N.dummy=g,d.addNode({id:B,data:N}),B},$=d=>{const g=new m.k;return d.getAllNodes().forEach(N=>{g.addNode(Object.assign({},N))}),d.getAllEdges().forEach(N=>{const D=g.getRelatedEdges(N.source,"out").find(B=>B.target===N.target);D?g.updateEdgeData(D==null?void 0:D.id,Object.assign(Object.assign({},D.data),{weight:D.data.weight+N.data.weight||0,minlen:Math.max(D.data.minlen,N.data.minlen||1)})):g.addEdge({id:N.id,source:N.source,target:N.target,data:{weight:N.data.weight||0,minlen:N.data.minlen||1}})}),g},Y=d=>{const g=new m.k;return d.getAllNodes().forEach(N=>{d.getChildren(N.id).length||g.addNode(Object.assign({},N))}),d.getAllEdges().forEach(N=>{g.addEdge(N)}),g},k=(d,g)=>d==null?void 0:d.reduce((N,D,B)=>(N[D]=g[B],N),{}),A=d=>{const g={};return d.getAllNodes().forEach(N=>{const D={};d.getRelatedEdges(N.id,"out").forEach(B=>{D[B.target]=(D[B.target]||0)+(B.data.weight||0)}),g[N.id]=D}),g},w=d=>{const g=d.getAllNodes(),N=g.map(D=>{const B={};return d.getRelatedEdges(D.id,"in").forEach(K=>{B[K.source]=(B[K.source]||0)+K.data.weight}),B});return k(g.map(D=>D.id),N)},x=(d,g)=>{const N=Number(d.x),D=Number(d.y),B=Number(g.x)-N,K=Number(g.y)-D;let tt=Number(d.width)/2,nt=Number(d.height)/2;if(!B&&!K)return{x:0,y:0};let rt,j;return Math.abs(K)*tt>Math.abs(B)*nt?(K<0&&(nt=-nt),rt=nt*B/K,j=nt):(B<0&&(tt=-tt),rt=tt,j=tt*K/B),{x:N+rt,y:D+j}},L=d=>{const g=[],N=Q(d)+1;for(let D=0;D<N;D++)g.push([]);d.getAllNodes().forEach(D=>{const B=D.data.rank;B!==void 0&&g[B]&&g[B].push(D.id)});for(let D=0;D<N;D++)g[D]=g[D].sort((B,K)=>X(d.getNode(B).data.order,d.getNode(K).data.order));return g},F=d=>{const g=d.getAllNodes().filter(D=>D.data.rank!==void 0).map(D=>D.data.rank),N=Math.min(...g);d.getAllNodes().forEach(D=>{D.data.hasOwnProperty("rank")&&N!==1/0&&(D.data.rank-=N)})},Z=(d,g=0)=>{const N=d.getAllNodes(),D=N.filter(nt=>nt.data.rank!==void 0).map(nt=>nt.data.rank),B=Math.min(...D),K=[];N.forEach(nt=>{const rt=(nt.data.rank||0)-B;K[rt]||(K[rt]=[]),K[rt].push(nt.id)});let tt=0;for(let nt=0;nt<K.length;nt++){const rt=K[nt];rt===void 0?nt%g!==0&&(tt-=1):tt&&(rt==null||rt.forEach(j=>{const lt=d.getNode(j);lt&&(lt.data.rank=lt.data.rank||0,lt.data.rank+=tt)}))}},G=(d,g,N,D)=>{const B={width:0,height:0};return(0,v.Z)(N)&&(0,v.Z)(D)&&(B.rank=N,B.order=D),_(d,"border",B,g)},Q=d=>{let g;return d.getAllNodes().forEach(N=>{const D=N.data.rank;D!==void 0&&(g===void 0||D>g)&&(g=D)}),g||(g=0),g},H=(d,g)=>{const N={lhs:[],rhs:[]};return d==null||d.forEach(D=>{g(D)?N.lhs.push(D):N.rhs.push(D)}),N},J=(d,g)=>d.reduce((N,D)=>{const B=g(N),K=g(D);return B>K?D:N}),q=(d,g,N,D,B,K)=>{D.includes(g.id)||(D.push(g.id),N||K.push(g.id),B(g.id).forEach(tt=>q(d,tt,N,D,B,K)),N&&K.push(g.id))},ft=(d,g,N,D)=>{const B=Array.isArray(g)?g:[g],K=rt=>D?d.getSuccessors(rt):d.getNeighbors(rt),tt=[],nt=[];return B.forEach(rt=>{if(d.hasNode(rt.id))q(d,rt,N==="post",nt,K,tt);else throw new Error(`Graph does not have node: ${rt}`)}),tt},ht=d=>{const g=N=>{const D=d.getChildren(N),B=d.getNode(N);if(D!=null&&D.length&&D.forEach(K=>g(K.id)),B.data.hasOwnProperty("minRank")){B.data.borderLeft=[],B.data.borderRight=[];for(let K=B.data.minRank,tt=B.data.maxRank+1;K<tt;K+=1)vt(d,"borderLeft","_bl",N,B,K),vt(d,"borderRight","_br",N,B,K)}};d.getRoots().forEach(N=>g(N.id))},vt=(d,g,N,D,B,K)=>{const tt={rank:K,borderType:g,width:0,height:0},nt=B.data[g][K-1],rt=_(d,"border",tt,N);B.data[g][K]=rt,d.setParent(rt,D),nt&&d.addEdge({id:`e${Math.random()}`,source:nt,target:rt,data:{weight:1}})},Et=(d,g)=>{const N=g.toLowerCase();(N==="lr"||N==="rl")&&ct(d)},mt=(d,g)=>{const N=g.toLowerCase();(N==="bt"||N==="rl")&&ut(d),(N==="lr"||N==="rl")&&(Ot(d),ct(d))},ct=d=>{d.getAllNodes().forEach(g=>{at(g)}),d.getAllEdges().forEach(g=>{at(g)})},at=d=>{const g=d.data.width;d.data.width=d.data.height,d.data.height=g},ut=d=>{d.getAllNodes().forEach(g=>{wt(g.data)}),d.getAllEdges().forEach(g=>{var N;(N=g.data.points)===null||N===void 0||N.forEach(D=>wt(D)),g.data.hasOwnProperty("y")&&wt(g.data)})},wt=d=>{d!=null&&d.y&&(d.y=-d.y)},Ot=d=>{d.getAllNodes().forEach(g=>{et(g.data)}),d.getAllEdges().forEach(g=>{var N;(N=g.data.points)===null||N===void 0||N.forEach(D=>et(D)),g.data.hasOwnProperty("x")&&et(g.data)})},et=d=>{const g=d.x;d.x=d.y,d.y=g},dt=d=>{const g=_(d,"root",{},"_root"),N=pt(d);let D=Math.max(...Object.values(N));Math.abs(D)===1/0&&(D=1);const B=D-1,K=2*B+1;d.getAllEdges().forEach(nt=>{nt.data.minlen*=K});const tt=At(d)+1;return d.getRoots().forEach(nt=>{ot(d,g,K,tt,B,N,nt.id)}),{nestingRoot:g,nodeRankFactor:K}},ot=(d,g,N,D,B,K,tt)=>{const nt=d.getChildren(tt);if(!(nt!=null&&nt.length)){tt!==g&&d.addEdge({id:`e${Math.random()}`,source:g,target:tt,data:{weight:0,minlen:N}});return}const rt=G(d,"_bt"),j=G(d,"_bb"),lt=d.getNode(tt);d.setParent(rt,tt),lt.data.borderTop=rt,d.setParent(j,tt),lt.data.borderBottom=j,nt==null||nt.forEach(Rt=>{ot(d,g,N,D,B,K,Rt.id);const Dt=Rt.data.borderTop?Rt.data.borderTop:Rt.id,Vt=Rt.data.borderBottom?Rt.data.borderBottom:Rt.id,Jt=Rt.data.borderTop?D:2*D,Qt=Dt!==Vt?1:B-K[tt]+1;d.addEdge({id:`e${Math.random()}`,source:rt,target:Dt,data:{minlen:Qt,weight:Jt,nestingEdge:!0}}),d.addEdge({id:`e${Math.random()}`,source:Vt,target:j,data:{minlen:Qt,weight:Jt,nestingEdge:!0}})}),d.getParent(tt)||d.addEdge({id:`e${Math.random()}`,source:g,target:rt,data:{weight:0,minlen:B+K[tt]}})},pt=d=>{const g={},N=(D,B)=>{const K=d.getChildren(D);K==null||K.forEach(tt=>N(tt.id,B+1)),g[D]=B};return d.getRoots().forEach(D=>N(D.id,1)),g},At=d=>{let g=0;return d.getAllEdges().forEach(N=>{g+=N.data.weight}),g},Pt=(d,g)=>{g&&d.removeNode(g),d.getAllEdges().forEach(N=>{N.data.nestingEdge&&d.removeEdge(N.id)})},Ct="edge",Mt="edge-label",Ut=(d,g)=>{d.getAllEdges().forEach(N=>St(d,N,g))},St=(d,g,N)=>{let D=g.source,B=d.getNode(D).data.rank;const K=g.target,tt=d.getNode(K).data.rank,nt=g.data.labelRank;if(tt===B+1)return;d.removeEdge(g.id);let rt,j,lt;for(lt=0,++B;B<tt;++lt,++B)g.data.points=[],j={originalEdge:g,width:0,height:0,rank:B},rt=_(d,Ct,j,"_d"),B===nt&&(j.width=g.data.width,j.height=g.data.height,j.dummy=Mt,j.labelpos=g.data.labelpos),d.addEdge({id:`e${Math.random()}`,source:D,target:rt,data:{weight:g.data.weight}}),lt===0&&N.push(rt),D=rt;d.addEdge({id:`e${Math.random()}`,source:D,target:K,data:{weight:g.data.weight}})},Kt=(d,g)=>{g.forEach(N=>{let D=d.getNode(N);const{data:B}=D,K=B.originalEdge;let tt;K&&d.addEdge(K);let nt=N;for(;D.data.dummy;)tt=d.getSuccessors(nt)[0],d.removeNode(nt),K.data.points.push({x:D.data.x,y:D.data.y}),D.data.dummy===Mt&&(K.data.x=D.data.x,K.data.y=D.data.y,K.data.width=D.data.width,K.data.height=D.data.height),nt=tt.id,D=d.getNode(nt)})};var re=r(59145),$t=function(d){if(typeof d!="object"||d===null)return d;var g;if((0,re.Z)(d)){g=[];for(var N=0,D=d.length;N<D;N++)typeof d[N]=="object"&&d[N]!=null?g[N]=$t(d[N]):g[N]=d[N]}else{g={};for(var B in d)typeof d[B]=="object"&&d[B]!=null?g[B]=$t(d[B]):g[B]=d[B]}return g},Yt=$t;const qt=(d,g,N)=>{const D={};let B;N==null||N.forEach(K=>{let tt=d.getParent(K),nt,rt;for(;tt;){if(nt=d.getParent(tt.id),nt?(rt=D[nt.id],D[nt.id]=tt.id):(rt=B,B=tt.id),rt&&rt!==tt.id){g.hasNode(rt)||g.addNode({id:rt,data:{}}),g.hasNode(tt.id)||g.addNode({id:tt.id,data:{}}),g.hasEdge(`e${rt}-${tt.id}`)||g.addEdge({id:`e${rt}-${tt.id}`,source:rt,target:tt.id,data:{}});return}tt=nt}})},Lt=(d,g,N)=>{const D=xt(d),B=new m.k({tree:[{id:D,children:[],data:{}}]});return d.getAllNodes().forEach(K=>{const tt=d.getParent(K.id);(K.data.rank===g||K.data.minRank<=g&&g<=K.data.maxRank)&&(B.hasNode(K.id)||B.addNode(Object.assign({},K)),tt!=null&&tt.id&&!B.hasNode(tt==null?void 0:tt.id)&&B.addNode(Object.assign({},tt)),B.setParent(K.id,(tt==null?void 0:tt.id)||D),d.getRelatedEdges(K.id,N).forEach(nt=>{const rt=nt.source===K.id?nt.target:nt.source;B.hasNode(rt)||B.addNode(Object.assign({},d.getNode(rt)));const j=B.getRelatedEdges(rt,"out").find(({target:Rt})=>Rt===K.id),lt=j!==void 0?j.data.weight:0;j?B.updateEdgeData(j.id,Object.assign(Object.assign({},j.data),{weight:nt.data.weight+lt})):B.addEdge({id:nt.id,source:rt,target:K.id,data:{weight:nt.data.weight+lt}})}),K.data.hasOwnProperty("minRank")&&B.updateNodeData(K.id,Object.assign(Object.assign({},K.data),{borderLeft:K.data.borderLeft[g],borderRight:K.data.borderRight[g]})))}),B},xt=d=>{let g;for(;d.hasNode(g=`_root${Math.random()}`););return g},Wt=(d,g,N)=>{const D=k(N,N.map((lt,Rt)=>Rt)),K=g.map(lt=>{const Rt=d.getRelatedEdges(lt,"out").map(Dt=>({pos:D[Dt.target]||0,weight:Dt.data.weight}));return Rt==null?void 0:Rt.sort((Dt,Vt)=>Dt.pos-Vt.pos)}).flat().filter(lt=>lt!==void 0);let tt=1;for(;tt<N.length;)tt<<=1;const nt=2*tt-1;tt-=1;const rt=Array(nt).fill(0,0,nt);let j=0;return K==null||K.forEach(lt=>{if(lt){let Rt=lt.pos+tt;rt[Rt]+=lt.weight;let Dt=0;for(;Rt>0;)Rt%2&&(Dt+=rt[Rt+1]),Rt=Rt-1>>1,rt[Rt]+=lt.weight;j+=lt.weight*Dt}}),j},Zt=(d,g)=>{let N=0;for(let D=1;D<(g==null?void 0:g.length);D+=1)N+=Wt(d,g[D-1],g[D]);return N},Xt=d=>{const g={},N=d.getAllNodes(),D=N.map(j=>{var lt;return(lt=j.data.rank)!==null&&lt!==void 0?lt:-1/0}),B=Math.max(...D),K=[];for(let j=0;j<B+1;j++)K.push([]);const tt=N.sort((j,lt)=>d.getNode(j.id).data.rank-d.getNode(lt.id).data.rank),rt=tt.filter(j=>d.getNode(j.id).data.fixorder!==void 0).sort((j,lt)=>d.getNode(j.id).data.fixorder-d.getNode(lt.id).data.fixorder);return rt==null||rt.forEach(j=>{isNaN(d.getNode(j.id).data.rank)||K[d.getNode(j.id).data.rank].push(j.id),g[j.id]=!0}),tt==null||tt.forEach(j=>d.dfsTree(j.id,lt=>{if(g.hasOwnProperty(lt.id))return!0;g[lt.id]=!0,isNaN(lt.data.rank)||K[lt.data.rank].push(lt.id)})),K},Ft=(d,g)=>g.map(N=>{const D=d.getRelatedEdges(N,"in");if(!(D!=null&&D.length))return{v:N};const B={sum:0,weight:0};return D==null||D.forEach(K=>{const tt=d.getNode(K.source);B.sum+=K.data.weight*tt.data.order,B.weight+=K.data.weight}),{v:N,barycenter:B.sum/B.weight,weight:B.weight}}),ae=(d,g)=>{var N,D,B;const K={};d==null||d.forEach((nt,rt)=>{K[nt.v]={i:rt,indegree:0,in:[],out:[],vs:[nt.v]};const j=K[nt.v];nt.barycenter!==void 0&&(j.barycenter=nt.barycenter,j.weight=nt.weight)}),(N=g.getAllEdges())===null||N===void 0||N.forEach(nt=>{const rt=K[nt.source],j=K[nt.target];rt!==void 0&&j!==void 0&&(j.indegree++,rt.out.push(K[nt.target]))});const tt=(B=(D=Object.values(K)).filter)===null||B===void 0?void 0:B.call(D,nt=>!nt.indegree);return Ne(tt)},Ne=d=>{var g,N;const D=[],B=rt=>j=>{j.merged||(j.barycenter===void 0||rt.barycenter===void 0||j.barycenter>=rt.barycenter)&&Oe(rt,j)},K=rt=>j=>{j.in.push(rt),--j.indegree===0&&d.push(j)};for(;d!=null&&d.length;){const rt=d.pop();D.push(rt),(g=rt.in.reverse())===null||g===void 0||g.forEach(j=>B(rt)(j)),(N=rt.out)===null||N===void 0||N.forEach(j=>K(rt)(j))}const tt=D.filter(rt=>!rt.merged),nt=["vs","i","barycenter","weight"];return tt.map(rt=>{const j={};return nt==null||nt.forEach(lt=>{rt[lt]!==void 0&&(j[lt]=rt[lt])}),j})},Oe=(d,g)=>{var N;let D=0,B=0;d.weight&&(D+=d.barycenter*d.weight,B+=d.weight),g.weight&&(D+=g.barycenter*g.weight,B+=g.weight),d.vs=(N=g.vs)===null||N===void 0?void 0:N.concat(d.vs),d.barycenter=D/B,d.weight=B,d.i=Math.min(g.i,d.i),g.merged=!0};var me=ae;const we=(d,g,N,D)=>{const B=H(d,Dt=>{const Vt=Dt.hasOwnProperty("fixorder")&&!isNaN(Dt.fixorder);return D?!Vt&&Dt.hasOwnProperty("barycenter"):Vt||Dt.hasOwnProperty("barycenter")}),K=B.lhs,tt=B.rhs.sort((Dt,Vt)=>-Dt.i- -Vt.i),nt=[];let rt=0,j=0,lt=0;K==null||K.sort(Be(!!g,!!N)),lt=fe(nt,tt,lt),K==null||K.forEach(Dt=>{var Vt;lt+=(Vt=Dt.vs)===null||Vt===void 0?void 0:Vt.length,nt.push(Dt.vs),rt+=Dt.barycenter*Dt.weight,j+=Dt.weight,lt=fe(nt,tt,lt)});const Rt={vs:nt.flat()};return j&&(Rt.barycenter=rt/j,Rt.weight=j),Rt},fe=(d,g,N)=>{let D=N,B;for(;g.length&&(B=g[g.length-1]).i<=D;)g.pop(),d==null||d.push(B.vs),D++;return D},Be=(d,g)=>(N,D)=>{if(N.fixorder!==void 0&&D.fixorder!==void 0)return N.fixorder-D.fixorder;if(N.barycenter<D.barycenter)return-1;if(N.barycenter>D.barycenter)return 1;if(g&&N.order!==void 0&&D.order!==void 0){if(N.order<D.order)return-1;if(N.order>D.order)return 1}return d?D.i-N.i:N.i-D.i},Te=(d,g,N,D,B,K)=>{var tt,nt,rt,j;let lt=d.getChildren(g).map(ie=>ie.id);const Rt=d.getNode(g),Dt=Rt?Rt.data.borderLeft:void 0,Vt=Rt?Rt.data.borderRight:void 0,Jt={};Dt&&(lt=lt==null?void 0:lt.filter(ie=>ie!==Dt&&ie!==Vt));const Qt=Ft(d,lt||[]);Qt==null||Qt.forEach(ie=>{var ve;if(!((ve=d.getChildren(ie.v))===null||ve===void 0)&&ve.length){const pe=Te(d,ie.v,N,D,K);Jt[ie.v]=pe,pe.hasOwnProperty("barycenter")&&Bn(ie,pe)}});const te=me(Qt,N);Fe(te,Jt),(tt=te.filter(ie=>ie.vs.length>0))===null||tt===void 0||tt.forEach(ie=>{const ve=d.getNode(ie.vs[0]);ve&&(ie.fixorder=ve.data.fixorder,ie.order=ve.data.order)});const _t=we(te,D,B,K);if(Dt&&(_t.vs=[Dt,_t.vs,Vt].flat(),!((nt=d.getPredecessors(Dt))===null||nt===void 0)&&nt.length)){const ie=d.getNode(((rt=d.getPredecessors(Dt))===null||rt===void 0?void 0:rt[0].id)||""),ve=d.getNode(((j=d.getPredecessors(Vt))===null||j===void 0?void 0:j[0].id)||"");_t.hasOwnProperty("barycenter")||(_t.barycenter=0,_t.weight=0),_t.barycenter=(_t.barycenter*_t.weight+ie.data.order+ve.data.order)/(_t.weight+2),_t.weight+=2}return _t},Fe=(d,g)=>{d==null||d.forEach(N=>{var D;const B=(D=N.vs)===null||D===void 0?void 0:D.map(K=>g[K]?g[K].vs:K);N.vs=B.flat()})},Bn=(d,g)=>{d.barycenter!==void 0?(d.barycenter=(d.barycenter*d.weight+g.barycenter*g.weight)/(d.weight+g.weight),d.weight+=g.weight):(d.barycenter=g.barycenter,d.weight=g.weight)},Rn=(d,g)=>{const N=Q(d),D=[],B=[];for(let lt=1;lt<N+1;lt++)D.push(lt);for(let lt=N-1;lt>-1;lt--)B.push(lt);const K=De(d,D,"in"),tt=De(d,B,"out");let nt=Xt(d);sn(d,nt);let rt=Number.POSITIVE_INFINITY,j;for(let lt=0,Rt=0;Rt<4;++lt,++Rt){In(lt%2?K:tt,lt%4>=2,!1,g),nt=L(d);const Dt=Zt(d,nt);Dt<rt&&(Rt=0,j=Yt(nt),rt=Dt)}nt=Xt(d),sn(d,nt);for(let lt=0,Rt=0;Rt<4;++lt,++Rt){In(lt%2?K:tt,lt%4>=2,!0,g),nt=L(d);const Dt=Zt(d,nt);Dt<rt&&(Rt=0,j=Yt(nt),rt=Dt)}sn(d,j)},De=(d,g,N)=>g.map(D=>Lt(d,D,N)),In=(d,g,N,D)=>{const B=new m.k;d==null||d.forEach(K=>{var tt;const nt=K.getRoots()[0].id,rt=Te(K,nt,B,g,N,D);for(let j=0;j<((tt=rt.vs)===null||tt===void 0?void 0:tt.length);j++){const lt=K.getNode(rt.vs[j]);lt&&(lt.data.order=j)}qt(K,B,rt.vs)})},sn=(d,g)=>{g==null||g.forEach(N=>{N==null||N.forEach((D,B)=>{d.getNode(D).data.order=B})})},We=(d,g)=>{const D=d.getAllNodes().filter(tt=>{var nt;return!(!((nt=d.getChildren(tt.id))===null||nt===void 0)&&nt.length)}).map(tt=>tt.data.rank),B=Math.max(...D),K=[];for(let tt=0;tt<B+1;tt++)K[tt]=[];g==null||g.forEach(tt=>{const nt=d.getNode(tt);!nt||nt.data.dummy||isNaN(nt.data.rank)||(nt.data.fixorder=K[nt.data.rank].length,K[nt.data.rank].push(tt))})},bn=d=>{const g={};let N=0;const D=B=>{const K=N;d.getChildren(B).forEach(tt=>D(tt.id)),g[B]={low:K,lim:N++}};return d.getRoots().forEach(B=>D(B.id)),g},on=(d,g,N,D)=>{var B,K;const tt=[],nt=[],rt=Math.min(g[N].low,g[D].low),j=Math.max(g[N].lim,g[D].lim);let lt,Rt;lt=N;do lt=(B=d.getParent(lt))===null||B===void 0?void 0:B.id,tt.push(lt);while(lt&&(g[lt].low>rt||j>g[lt].lim));for(Rt=lt,lt=D;lt&&lt!==Rt;)nt.push(lt),lt=(K=d.getParent(lt))===null||K===void 0?void 0:K.id;return{lca:Rt,path:tt.concat(nt.reverse())}},Un=(d,g)=>{const N=bn(d);g.forEach(D=>{var B,K;let tt=D,nt=d.getNode(tt);const rt=nt.data.originalEdge;if(!rt)return;const j=on(d,N,rt.source,rt.target),lt=j.path,Rt=j.lca;let Dt=0,Vt=lt[Dt],Jt=!0;for(;tt!==rt.target;){if(nt=d.getNode(tt),Jt){for(;Vt!==Rt&&((B=d.getNode(Vt))===null||B===void 0?void 0:B.data.maxRank)<nt.data.rank;)Dt++,Vt=lt[Dt];Vt===Rt&&(Jt=!1)}if(!Jt){for(;Dt<lt.length-1&&((K=d.getNode(lt[Dt+1]))===null||K===void 0?void 0:K.data.minRank)<=nt.data.rank;)Dt++;Vt=lt[Dt]}d.hasNode(Vt)&&d.setParent(tt,Vt),tt=d.getSuccessors(tt)[0].id}})},Nn=(d,g)=>{const N={},D=(B,K)=>{let tt=0,nt=0;const rt=B.length,j=K==null?void 0:K[(K==null?void 0:K.length)-1];return K==null||K.forEach((lt,Rt)=>{var Dt;const Vt=Vn(d,lt),Jt=Vt?d.getNode(Vt.id).data.order:rt;(Vt||lt===j)&&((Dt=K.slice(nt,Rt+1))===null||Dt===void 0||Dt.forEach(Qt=>{var te;(te=d.getPredecessors(Qt))===null||te===void 0||te.forEach(_t=>{var ie;const ve=d.getNode(_t.id),pe=ve.data.order;(pe<tt||Jt<pe)&&!(ve.data.dummy&&(!((ie=d.getNode(Qt))===null||ie===void 0)&&ie.data.dummy))&&Tn(N,_t.id,Qt)})}),nt=Rt+1,tt=Jt)}),K};return g!=null&&g.length&&g.reduce(D),N},gn=(d,g)=>{const N={};function D(nt,rt,j,lt,Rt){var Dt,Vt;let Jt;for(let Qt=rt;Qt<j;Qt++)Jt=nt[Qt],!((Dt=d.getNode(Jt))===null||Dt===void 0)&&Dt.data.dummy&&((Vt=d.getPredecessors(Jt))===null||Vt===void 0||Vt.forEach(te=>{const _t=d.getNode(te.id);_t.data.dummy&&(_t.data.order<lt||_t.data.order>Rt)&&Tn(N,te.id,Jt)}))}function B(nt){return JSON.stringify(nt.slice(1))}function K(nt,rt){const j=B(nt);rt.get(j)||(D(...nt),rt.set(j,!0))}const tt=(nt,rt)=>{let j=-1,lt,Rt=0;const Dt=new Map;return rt==null||rt.forEach((Vt,Jt)=>{var Qt;if(((Qt=d.getNode(Vt))===null||Qt===void 0?void 0:Qt.data.dummy)==="border"){const te=d.getPredecessors(Vt)||[];te.length&&(lt=d.getNode(te[0].id).data.order,K([rt,Rt,Jt,j,lt],Dt),Rt=Jt,j=lt)}K([rt,Rt,rt.length,lt,nt.length],Dt)}),rt};return g!=null&&g.length&&g.reduce(tt),N},Vn=(d,g)=>{var N,D;if(!((N=d.getNode(g))===null||N===void 0)&&N.data.dummy)return(D=d.getPredecessors(g))===null||D===void 0?void 0:D.find(B=>d.getNode(B.id).data.dummy)},Tn=(d,g,N)=>{let D=g,B=N;if(D>B){const tt=D;D=B,B=tt}let K=d[D];K||(d[D]=K={}),K[B]=!0},Wn=(d,g,N)=>{let D=g,B=N;if(D>B){const K=g;D=B,B=K}return!!d[D]},Dn=(d,g,N,D)=>{const B={},K={},tt={};return g==null||g.forEach(nt=>{nt==null||nt.forEach((rt,j)=>{B[rt]=rt,K[rt]=rt,tt[rt]=j})}),g==null||g.forEach(nt=>{let rt=-1;nt==null||nt.forEach(j=>{let lt=D(j).map(Rt=>Rt.id);if(lt.length){lt=lt.sort((Dt,Vt)=>tt[Dt]-tt[Vt]);const Rt=(lt.length-1)/2;for(let Dt=Math.floor(Rt),Vt=Math.ceil(Rt);Dt<=Vt;++Dt){const Jt=lt[Dt];K[j]===j&&rt<tt[Jt]&&!Wn(N,j,Jt)&&(K[Jt]=j,K[j]=B[j]=B[Jt],rt=tt[Jt])}}})}),{root:B,align:K}},Ln=(d,g,N,D,B,K,tt)=>{var nt;const rt={},j=Gn(d,g,N,B,K,tt),lt=tt?"borderLeft":"borderRight",Rt=(Jt,Qt)=>{let te=j.getAllNodes(),_t=te.pop();const ie={};for(;_t;)ie[_t.id]?Jt(_t.id):(ie[_t.id]=!0,te.push(_t),te=te.concat(Qt(_t.id))),_t=te.pop()},Dt=Jt=>{rt[Jt]=(j.getRelatedEdges(Jt,"in")||[]).reduce((Qt,te)=>Math.max(Qt,(rt[te.source]||0)+te.data.weight),0)},Vt=Jt=>{const Qt=(j.getRelatedEdges(Jt,"out")||[]).reduce((_t,ie)=>Math.min(_t,(rt[ie.target]||0)-ie.data.weight),Number.POSITIVE_INFINITY),te=d.getNode(Jt);Qt!==Number.POSITIVE_INFINITY&&te.data.borderType!==lt&&(rt[Jt]=Math.max(rt[Jt],Qt))};return Rt(Dt,j.getPredecessors.bind(j)),Rt(Vt,j.getSuccessors.bind(j)),(nt=Object.values(D))===null||nt===void 0||nt.forEach(Jt=>{rt[Jt]=rt[N[Jt]]}),rt},Gn=(d,g,N,D,B,K)=>{const tt=new m.k,nt=Zn(D,B,K);return g==null||g.forEach(rt=>{let j;rt==null||rt.forEach(lt=>{const Rt=N[lt];if(tt.hasNode(Rt)||tt.addNode({id:Rt,data:{}}),j){const Dt=N[j],Vt=tt.getRelatedEdges(Dt,"out").find(Jt=>Jt.target===Rt);Vt?tt.updateEdgeData(Vt.id,Object.assign(Object.assign({},Vt.data),{weight:Math.max(nt(d,lt,j),Vt.data.weight||0)})):tt.addEdge({id:`e${Math.random()}`,source:Dt,target:Rt,data:{weight:Math.max(nt(d,lt,j),0)}})}j=lt})}),tt},Mn=(d,g)=>J(Object.values(g),N=>{var D;let B=Number.NEGATIVE_INFINITY,K=Number.POSITIVE_INFINITY;return(D=Object.keys(N))===null||D===void 0||D.forEach(tt=>{const nt=N[tt],rt=mn(d,tt)/2;B=Math.max(nt+rt,B),K=Math.min(nt-rt,K)}),B-K});function Cn(d,g){const N=Object.values(g),D=Math.min(...N),B=Math.max(...N);["u","d"].forEach(K=>{["l","r"].forEach(tt=>{const nt=K+tt,rt=d[nt];let j;if(rt===g)return;const lt=Object.values(rt);j=tt==="l"?D-Math.min(...lt):B-Math.max(...lt),j&&(d[nt]={},Object.keys(rt).forEach(Rt=>{d[nt][Rt]=rt[Rt]+j}))})})}const kn=(d,g)=>{const N={};return Object.keys(d.ul).forEach(D=>{if(g)N[D]=d[g.toLowerCase()][D];else{const B=Object.values(d).map(K=>K[D]);N[D]=(B[0]+B[1])/2}}),N},$n=(d,g)=>{const{align:N,nodesep:D=0,edgesep:B=0}=g||{},K=buildLayerMatrix(d),tt=Object.assign(Nn(d,K),gn(d,K)),nt={};let rt;["u","d"].forEach(lt=>{rt=lt==="u"?K:Object.values(K).reverse(),["l","r"].forEach(Rt=>{Rt==="r"&&(rt=rt.map(Qt=>Object.values(Qt).reverse()));const Dt=(lt==="u"?d.getPredecessors:d.getSuccessors).bind(d),Vt=Dn(d,rt,tt,Dt),Jt=Ln(d,rt,Vt.root,Vt.align,D,B,Rt==="r");Rt==="r"&&Object.keys(Jt).forEach(Qt=>{Jt[Qt]=-Jt[Qt]}),nt[lt+Rt]=Jt})});const j=Mn(d,nt);return Cn(nt,j),kn(nt,N)},Zn=(d,g,N)=>(D,B,K)=>{const tt=D.getNode(B),nt=D.getNode(K);let rt=0,j=0;if(rt+=tt.data.width/2,tt.data.hasOwnProperty("labelpos"))switch((tt.data.labelpos||"").toLowerCase()){case"l":j=-tt.data.width/2;break;case"r":j=tt.data.width/2;break}if(j&&(rt+=N?j:-j),j=0,rt+=(tt.data.dummy?g:d)/2,rt+=(nt.data.dummy?g:d)/2,rt+=nt.data.width/2,nt.data.labelpos)switch((nt.data.labelpos||"").toLowerCase()){case"l":j=nt.data.width/2;break;case"r":j=-nt.data.width/2;break}return j&&(rt+=N?j:-j),j=0,rt},mn=(d,g)=>d.getNode(g).data.width||0,zn=(d,g)=>{const{ranksep:N=0}=g||{},D=L(d);let B=0;D==null||D.forEach(K=>{const tt=K.map(rt=>d.getNode(rt).data.height),nt=Math.max(...tt,0);K==null||K.forEach(rt=>{d.getNode(rt).data.y=B+nt/2}),B+=nt+N})},Fn=(d,g)=>{const{align:N,nodesep:D=0,edgesep:B=0}=g||{},K=L(d),tt=Object.assign(Nn(d,K),gn(d,K)),nt={};let rt=[];["u","d"].forEach(lt=>{rt=lt==="u"?K:Object.values(K).reverse(),["l","r"].forEach(Rt=>{Rt==="r"&&(rt=rt.map(Qt=>Object.values(Qt).reverse()));const Dt=(lt==="u"?d.getPredecessors:d.getSuccessors).bind(d),Vt=Dn(d,rt,tt,Dt),Jt=Ln(d,rt,Vt.root,Vt.align,D,B,Rt==="r");Rt==="r"&&Object.keys(Jt).forEach(Qt=>Jt[Qt]=-Jt[Qt]),nt[lt+Rt]=Jt})});const j=Mn(d,nt);return j&&Cn(nt,j),kn(nt,N)},M=(d,g)=>{var N;const D=Y(d);zn(D,g);const B=Fn(D,g);(N=Object.keys(B))===null||N===void 0||N.forEach(K=>{D.getNode(K).data.x=B[K]})},I=d=>{const g={},N=D=>{var B;const K=d.getNode(D);if(!K)return 0;if(g[D])return K.data.rank;g[D]=!0;let tt;return(B=d.getRelatedEdges(D,"out"))===null||B===void 0||B.forEach(nt=>{const rt=N(nt.target),j=nt.data.minlen,lt=rt-j;lt&&(tt===void 0||lt<tt)&&(tt=lt)}),tt||(tt=0),K.data.rank=tt,tt};d.getAllNodes().filter(D=>d.getRelatedEdges(D.id,"in").length===0).forEach(D=>N(D.id))},u=d=>{const g={};let N;const D=tt=>{var nt;const rt=d.getNode(tt);if(!rt)return 0;if(g[tt])return rt.data.rank;g[tt]=!0;let j;return(nt=d.getRelatedEdges(tt,"out"))===null||nt===void 0||nt.forEach(lt=>{const Rt=D(lt.target),Dt=lt.data.minlen,Vt=Rt-Dt;Vt&&(j===void 0||Vt<j)&&(j=Vt)}),j||(j=0),(N===void 0||j<N)&&(N=j),rt.data.rank=j,j};d.getAllNodes().filter(tt=>d.getRelatedEdges(tt.id,"in").length===0).forEach(tt=>{tt&&D(tt.id)}),N===void 0&&(N=0);const B={},K=(tt,nt)=>{var rt;const j=d.getNode(tt),lt=isNaN(j.data.layer)?nt:j.data.layer;(j.data.rank===void 0||j.data.rank<lt)&&(j.data.rank=lt),!B[tt]&&(B[tt]=!0,(rt=d.getRelatedEdges(tt,"out"))===null||rt===void 0||rt.forEach(Rt=>{K(Rt.target,lt+Rt.data.minlen)}))};d.getAllNodes().forEach(tt=>{const nt=tt.data;nt&&(isNaN(nt.layer)?nt.rank-=N:K(tt.id,nt.layer))})},t=(d,g)=>d.getNode(g.target).data.rank-d.getNode(g.source).data.rank-g.data.minlen,e=d=>{const g=new m.k({tree:[]}),N=d.getAllNodes()[0],D=d.getAllNodes().length;g.addNode(N);let B,K;for(;n(g,d)<D;)B=S(g,d),K=g.hasNode(B.source)?t(d,B):-t(d,B),T(g,d,K);return g},n=(d,g)=>{const N=D=>{g.getRelatedEdges(D,"both").forEach(B=>{const K=B.source,tt=D===K?B.target:K;!d.hasNode(tt)&&!t(g,B)&&(d.addNode({id:tt,data:{}}),d.addEdge({id:B.id,source:D,target:tt,data:{}}),N(tt))})};return d.getAllNodes().forEach(D=>N(D.id)),d.getAllNodes().length},l=d=>{const g=new m.k({tree:[]}),N=d.getAllNodes()[0],D=d.getAllNodes().length;g.addNode(N);let B,K;for(;R(g,d)<D;)B=S(g,d),K=g.hasNode(B.source)?t(d,B):-t(d,B),T(g,d,K);return g},R=(d,g)=>{const N=D=>{var B;(B=g.getRelatedEdges(D,"both"))===null||B===void 0||B.forEach(K=>{const tt=K.source,nt=D===tt?K.target:tt;!d.hasNode(nt)&&(g.getNode(nt).data.layer!==void 0||!t(g,K))&&(d.addNode({id:nt,data:{}}),d.addEdge({id:K.id,source:D,target:nt,data:{}}),N(nt))})};return d.getAllNodes().forEach(D=>N(D.id)),d.getAllNodes().length},S=(d,g)=>J(g.getAllEdges(),N=>d.hasNode(N.source)!==d.hasNode(N.target)?t(g,N):1/0),T=(d,g,N)=>{d.getAllNodes().forEach(D=>{const B=g.getNode(D.id);B.data.rank||(B.data.rank=0),B.data.rank+=N})},st=d=>{const g=$(d);I(g);const N=e(g);bt(N),it(N,g);let D,B;for(;D=jt(N);)B=gt(N,g,D),Nt(N,g,D,B)},it=(d,g)=>{let N=ft(d,d.getAllNodes(),"post",!1);N=N.slice(0,(N==null?void 0:N.length)-1),N.forEach(D=>{yt(d,g,D)})},yt=(d,g,N)=>{const B=d.getNode(N).data.parent,K=d.getRelatedEdges(N,"both").find(tt=>tt.target===B||tt.source===B);K.data.cutvalue=It(d,g,N)},It=(d,g,N)=>{const B=d.getNode(N).data.parent;let K=!0,tt=g.getRelatedEdges(N,"out").find(rt=>rt.target===B),nt=0;return tt||(K=!1,tt=g.getRelatedEdges(B,"out").find(rt=>rt.target===N)),nt=tt.data.weight,g.getRelatedEdges(N,"both").forEach(rt=>{const j=rt.source===N,lt=j?rt.target:rt.source;if(lt!==B){const Rt=j===K,Dt=rt.data.weight;if(nt+=Rt?Dt:-Dt,Gt(d,N,lt)){const Vt=d.getRelatedEdges(N,"both").find(Jt=>Jt.source===lt||Jt.target===lt).data.cutvalue;nt+=Rt?-Vt:Vt}}}),nt},bt=(d,g=d.getAllNodes()[0].id)=>{zt(d,{},1,g)},zt=(d,g,N,D,B)=>{var K;const tt=N;let nt=N;const rt=d.getNode(D);return g[D]=!0,(K=d.getNeighbors(D))===null||K===void 0||K.forEach(j=>{g[j.id]||(nt=zt(d,g,nt,j.id,D))}),rt.data.low=tt,rt.data.lim=nt++,B?rt.data.parent=B:delete rt.data.parent,nt},jt=d=>d.getAllEdges().find(g=>g.data.cutvalue<0),gt=(d,g,N)=>{let D=N.source,B=N.target;g.getRelatedEdges(D,"out").find(lt=>lt.target===B)||(D=N.target,B=N.source);const K=d.getNode(D),tt=d.getNode(B);let nt=K,rt=!1;K.data.lim>tt.data.lim&&(nt=tt,rt=!0);const j=g.getAllEdges().filter(lt=>rt===kt(d.getNode(lt.source),nt)&&rt!==kt(d.getNode(lt.target),nt));return J(j,lt=>t(g,lt))},Nt=(d,g,N,D)=>{const B=d.getRelatedEdges(N.source,"both").find(K=>K.source===N.target||K.target===N.target);B&&d.removeEdge(B.id),d.addEdge({id:`e${Math.random()}`,source:D.source,target:D.target,data:{}}),bt(d),it(d,g),Tt(d,g)},Tt=(d,g)=>{const N=d.getAllNodes().find(B=>!B.data.parent);let D=ft(d,N,"pre",!1);D=D.slice(1),D.forEach(B=>{const K=d.getNode(B).data.parent;let tt=g.getRelatedEdges(B,"out").find(rt=>rt.target===K),nt=!1;!tt&&g.hasNode(K)&&(tt=g.getRelatedEdges(K,"out").find(rt=>rt.target===B),nt=!0),g.getNode(B).data.rank=(g.hasNode(K)&&g.getNode(K).data.rank||0)+(nt?tt==null?void 0:tt.data.minlen:-(tt==null?void 0:tt.data.minlen))})},Gt=(d,g,N)=>d.getRelatedEdges(g,"both").find(D=>D.source===N||D.target===N),kt=(d,g)=>g.data.low<=d.data.lim&&d.data.lim<=g.data.lim,ue=(d,g)=>{switch(g){case"network-simplex":se(d);break;case"tight-tree":Ht(d);break;case"longest-path":de(d);break;default:Ht(d)}},de=I,Ht=d=>{u(d),l(d)},se=d=>{st(d)},ge=(d,g)=>{const{edgeLabelSpace:N,keepNodeOrder:D,prevGraph:B,rankdir:K,ranksep:tt}=g;!D&&B&&Bt(d,B);const nt=Ge(d);N&&(g.ranksep=ke(nt,{rankdir:K,ranksep:tt}));let rt;try{rt=Ae(nt,g)}catch(j){if(j.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,j);return}throw j}return Le(d,nt),rt},Ae=(d,g)=>{const{acyclicer:N,ranker:D,rankdir:B="tb",nodeOrder:K,keepNodeOrder:tt,align:nt,nodesep:rt=50,edgesep:j=20,ranksep:lt=50}=g;ce(d),C(d,N);const{nestingRoot:Rt,nodeRankFactor:Dt}=dt(d);ue(Y(d),D),Ue(d),Z(d,Dt),Pt(d,Rt),F(d),Se(d),qe(d);const Vt=[];Ut(d,Vt),Un(d,Vt),ht(d),tt&&We(d,K),Rn(d,tt),nn(d),Et(d,B),M(d,{align:nt,nodesep:rt,edgesep:j,ranksep:lt}),vn(d),an(d),Kt(d,Vt),On(d),mt(d,B);const{width:Jt,height:Qt}=_e(d);return tn(d),en(d),U(d),{width:Jt,height:Qt}},Bt=(d,g)=>{d.getAllNodes().forEach(N=>{const D=d.getNode(N.id);if(g.hasNode(N.id)){const B=g.getNode(N.id);D.data.fixorder=B.data._order,delete B.data._order}else delete D.data.fixorder})},Le=(d,g)=>{d.getAllNodes().forEach(N=>{var D;const B=d.getNode(N.id);if(B){const K=g.getNode(N.id);B.data.x=K.data.x,B.data.y=K.data.y,B.data._order=K.data.order,B.data._rank=K.data.rank,!((D=g.getChildren(N.id))===null||D===void 0)&&D.length&&(B.data.width=K.data.width,B.data.height=K.data.height)}}),d.getAllEdges().forEach(N=>{const D=d.getEdge(N.id),B=g.getEdge(N.id);D.data.points=B?B.data.points:[],B&&B.data.hasOwnProperty("x")&&(D.data.x=B.data.x,D.data.y=B.data.y)})},Pe=["width","height","layer","fixorder"],he={width:0,height:0},Ke=["minlen","weight","width","height","labeloffset"],$e={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},xe=["labelpos"],Ge=d=>{const g=new m.k({tree:[]});return d.getAllNodes().forEach(N=>{const D=Xe(d.getNode(N.id).data),B=Object.assign(Object.assign({},he),D),K=le(B,Pe);g.hasNode(N.id)||g.addNode({id:N.id,data:Object.assign({},K)});const tt=d.hasTreeStructure("combo")?d.getParent(N.id,"combo"):d.getParent(N.id);f(tt)||(g.hasNode(tt.id)||g.addNode(Object.assign({},tt)),g.setParent(N.id,tt.id))}),d.getAllEdges().forEach(N=>{const D=Xe(d.getEdge(N.id).data),B={};xe==null||xe.forEach(K=>{D[K]!==void 0&&(B[K]=D[K])}),g.addEdge({id:N.id,source:N.source,target:N.target,data:Object.assign({},$e,le(D,Ke),B)})}),g},ke=(d,g)=>{const{ranksep:N=0,rankdir:D}=g;return d.getAllNodes().forEach(B=>{isNaN(B.data.layer)||B.data.layer||(B.data.layer=0)}),d.getAllEdges().forEach(B=>{var K;B.data.minlen*=2,((K=B.data.labelpos)===null||K===void 0?void 0:K.toLowerCase())!=="c"&&(D==="TB"||D==="BT"?B.data.width+=B.data.labeloffset:B.data.height+=B.data.labeloffset)}),N/2},Ue=d=>{d.getAllEdges().forEach(g=>{if(g.data.width&&g.data.height){const N=d.getNode(g.source),D=d.getNode(g.target),B={e:g,rank:(D.data.rank-N.data.rank)/2+N.data.rank};_(d,"edge-proxy",B,"_ep")}})},Se=d=>{let g=0;return d.getAllNodes().forEach(N=>{var D,B;N.data.borderTop&&(N.data.minRank=(D=d.getNode(N.data.borderTop))===null||D===void 0?void 0:D.data.rank,N.data.maxRank=(B=d.getNode(N.data.borderBottom))===null||B===void 0?void 0:B.data.rank,g=Math.max(g,N.data.maxRank||-1/0))}),g},qe=d=>{d.getAllNodes().forEach(g=>{g.data.dummy==="edge-proxy"&&(d.getEdge(g.data.e.id).data.labelRank=g.data.rank,d.removeNode(g.id))})},_e=(d,g)=>{let N,D=0,B,K=0;const{marginx:tt=0,marginy:nt=0}=g||{},rt=j=>{if(!j.data)return;const lt=j.data.x,Rt=j.data.y,Dt=j.data.width,Vt=j.data.height;!isNaN(lt)&&!isNaN(Dt)&&(N===void 0&&(N=lt-Dt/2),N=Math.min(N,lt-Dt/2),D=Math.max(D,lt+Dt/2)),!isNaN(Rt)&&!isNaN(Vt)&&(B===void 0&&(B=Rt-Vt/2),B=Math.min(B,Rt-Vt/2),K=Math.max(K,Rt+Vt/2))};return d.getAllNodes().forEach(j=>{rt(j)}),d.getAllEdges().forEach(j=>{j!=null&&j.data.hasOwnProperty("x")&&rt(j)}),N-=tt,B-=nt,d.getAllNodes().forEach(j=>{j.data.x-=N,j.data.y-=B}),d.getAllEdges().forEach(j=>{var lt;(lt=j.data.points)===null||lt===void 0||lt.forEach(Rt=>{Rt.x-=N,Rt.y-=B}),j.data.hasOwnProperty("x")&&(j.data.x-=N),j.data.hasOwnProperty("y")&&(j.data.y-=B)}),{width:D-N+tt,height:K-B+nt}},tn=d=>{d.getAllEdges().forEach(g=>{const N=d.getNode(g.source),D=d.getNode(g.target);let B,K;g.data.points?(B=g.data.points[0],K=g.data.points[g.data.points.length-1]):(g.data.points=[],B={x:D.data.x,y:D.data.y},K={x:N.data.x,y:N.data.y}),g.data.points.unshift(x(N.data,B)),g.data.points.push(x(D.data,K))})},On=d=>{d.getAllEdges().forEach(g=>{if(g.data.hasOwnProperty("x"))switch((g.data.labelpos==="l"||g.data.labelpos==="r")&&(g.data.width-=g.data.labeloffset),g.data.labelpos){case"l":g.data.x-=g.data.width/2+g.data.labeloffset;break;case"r":g.data.x+=g.data.width/2+g.data.labeloffset;break}})},en=d=>{d.getAllEdges().forEach(g=>{var N;g.data.reversed&&((N=g.data.points)===null||N===void 0||N.reverse())})},an=d=>{d.getAllNodes().forEach(g=>{var N,D,B;if(!((N=d.getChildren(g.id))===null||N===void 0)&&N.length){const K=d.getNode(g.id),tt=d.getNode(K.data.borderTop),nt=d.getNode(K.data.borderBottom),rt=d.getNode(K.data.borderLeft[((D=K.data.borderLeft)===null||D===void 0?void 0:D.length)-1]),j=d.getNode(K.data.borderRight[((B=K.data.borderRight)===null||B===void 0?void 0:B.length)-1]);K.data.width=Math.abs((j==null?void 0:j.data.x)-(rt==null?void 0:rt.data.x))||10,K.data.height=Math.abs((nt==null?void 0:nt.data.y)-(tt==null?void 0:tt.data.y))||10,K.data.x=((rt==null?void 0:rt.data.x)||0)+K.data.width/2,K.data.y=((tt==null?void 0:tt.data.y)||0)+K.data.height/2}}),d.getAllNodes().forEach(g=>{g.data.dummy==="border"&&d.removeNode(g.id)})},ce=d=>{d.getAllEdges().forEach(g=>{if(g.source===g.target){const N=d.getNode(g.source);N.data.selfEdges||(N.data.selfEdges=[]),N.data.selfEdges.push(g),d.removeEdge(g.id)}})},nn=d=>{const g=L(d);g==null||g.forEach(N=>{let D=0;N==null||N.forEach((B,K)=>{var tt;const nt=d.getNode(B);nt.data.order=K+D,(tt=nt.data.selfEdges)===null||tt===void 0||tt.forEach(rt=>{_(d,"selfedge",{width:rt.data.width,height:rt.data.height,rank:nt.data.rank,order:K+ ++D,e:rt},"_se")}),delete nt.data.selfEdges})})},vn=d=>{d.getAllNodes().forEach(g=>{const N=d.getNode(g.id);if(N.data.dummy==="selfedge"){const D=d.getNode(N.data.e.source),B=D.data.x+D.data.width/2,K=D.data.y,tt=N.data.x-B,nt=D.data.height/2;d.hasEdge(N.data.e.id)?d.updateEdgeData(N.data.e.id,N.data.e.data):d.addEdge({id:N.data.e.id,source:N.data.e.source,target:N.data.e.target,data:N.data.e.data}),d.removeNode(g.id),N.data.e.data.points=[{x:B+2*tt/3,y:K-nt},{x:B+5*tt/6,y:K-nt},{y:K,x:B+tt},{x:B+5*tt/6,y:K+nt},{x:B+2*tt/3,y:K+nt}],N.data.e.data.x=N.data.x,N.data.e.data.y=N.data.y}})},le=(d,g)=>{const N={};return g==null||g.forEach(D=>{d[D]!==void 0&&(N[D]=+d[D])}),N},Xe=(d={})=>{const g={};return Object.keys(d).forEach(N=>{g[N.toLowerCase()]=d[N]}),g};var Je=r(78732),un=r(98130);const rn={rankdir:"TB",nodesep:50,ranksep:50,edgeLabelSpace:!0,ranker:"tight-tree",controlPoints:!1,radial:!1,focusNode:null};class dn{constructor(g={}){this.options=g,this.id="antv-dagre",this.options=Object.assign(Object.assign({},rn),g)}execute(g,N){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,g,N)})}assign(g,N){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,g,N)})}genericDagreLayout(g,N,D){return(0,s.mG)(this,void 0,void 0,function*(){const B=Object.assign(Object.assign({},this.options),D),{nodeSize:K,align:tt,rankdir:nt="TB",ranksep:rt,nodesep:j,ranksepFunc:lt,nodesepFunc:Rt,edgeLabelSpace:Dt,ranker:Vt,nodeOrder:Jt,begin:Qt,controlPoints:te,radial:_t,sortByCombo:ie,preset:ve}=B,pe=new m.k({tree:[]}),ze=(0,Je.jE)(rt||50,lt),cn=(0,Je.jE)(j||50,Rt);let yn=cn,wn=ze;(nt==="LR"||nt==="RL")&&(yn=ze,wn=cn);const Qe=(0,Je.gl)(K,void 0),fn=N.getAllNodes(),hn=N.getAllEdges();fn.forEach(oe=>{const Me=Qe(oe),Ie=wn(oe),ee=yn(oe),ye=Me+2*ee,Ce=Me+2*Ie,ne=oe.data.layer;(0,v.Z)(ne)?pe.addNode({id:oe.id,data:{width:ye,height:Ce,layer:ne}}):pe.addNode({id:oe.id,data:{width:ye,height:Ce}})}),ie&&(pe.attachTreeStructure("combo"),fn.forEach(oe=>{const{parentId:Me}=oe.data;Me!==void 0&&pe.hasNode(Me)&&pe.setParent(oe.id,Me,"combo")})),hn.forEach(oe=>{pe.addEdge({id:oe.id,source:oe.source,target:oe.target,data:{weight:oe.data.weight||1}})});let Sn;ve!=null&&ve.length&&(Sn=new m.k({nodes:ve})),ge(pe,{prevGraph:Sn,edgeLabelSpace:Dt,keepNodeOrder:!!Jt,nodeOrder:Jt||[],acyclicer:"greedy",ranker:Vt,rankdir:nt,nodesep:j,align:tt});const Ze=[0,0];if(Qt){let oe=1/0,Me=1/0;pe.getAllNodes().forEach(Ie=>{oe>Ie.data.x&&(oe=Ie.data.x),Me>Ie.data.y&&(Me=Ie.data.y)}),pe.getAllEdges().forEach(Ie=>{var ee;(ee=Ie.data.points)===null||ee===void 0||ee.forEach(ye=>{oe>ye.x&&(oe=ye.x),Me>ye.y&&(Me=ye.y)})}),Ze[0]=Qt[0]-oe,Ze[1]=Qt[1]-Me}const ln=nt==="LR"||nt==="RL";if(!_t){const oe=new Set,Ie=nt==="BT"||nt==="RL"?(ne,be)=>be-ne:(ne,be)=>ne-be;pe.getAllNodes().forEach(ne=>{ne.data.x=ne.data.x+Ze[0],ne.data.y=ne.data.y+Ze[1],oe.add(ln?ne.data.x:ne.data.y)});const ee=Array.from(oe).sort(Ie),ye=ln?(ne,be)=>ne.x!==be.x:(ne,be)=>ne.y!==be.y,Ce=ln?(ne,be,Re)=>{const je=Math.max(be.y,Re.y),Ye=Math.min(be.y,Re.y);return ne.filter(Ve=>Ve.y<=je&&Ve.y>=Ye)}:(ne,be,Re)=>{const je=Math.max(be.x,Re.x),Ye=Math.min(be.x,Re.x);return ne.filter(Ve=>Ve.x<=je&&Ve.x>=Ye)};pe.getAllEdges().forEach((ne,be)=>{var Re;Dt&&te&&ne.data.type!=="loop"&&(ne.data.controlPoints=pn((Re=ne.data.points)===null||Re===void 0?void 0:Re.map(({x:je,y:Ye})=>({x:je+Ze[0],y:Ye+Ze[1]})),pe.getNode(ne.source),pe.getNode(ne.target),ee,ln,ye,Ce))})}let An=[];An=pe.getAllNodes().map(oe=>(0,un.u)(oe));const He=pe.getAllEdges();return g&&(An.forEach(oe=>{N.mergeNodeData(oe.id,{x:oe.data.x,y:oe.data.y})}),He.forEach(oe=>{N.mergeEdgeData(oe.id,{controlPoints:oe.data.controlPoints})})),{nodes:An,edges:He}})}}const pn=(d,g,N,D,B,K,tt)=>{let nt=(d==null?void 0:d.slice(1,d.length-1))||[];if(g&&N){let{x:rt,y:j}=g.data,{x:lt,y:Rt}=N.data;if(B&&(rt=g.data.y,j=g.data.x,lt=N.data.y,Rt=N.data.x),Rt!==j&&rt!==lt){const Dt=D.indexOf(j),Vt=D[Dt+1];if(Vt){const te=nt[0],_t=B?{x:(j+Vt)/2,y:(te==null?void 0:te.y)||lt}:{x:(te==null?void 0:te.x)||lt,y:(j+Vt)/2};(!te||K(te,_t))&&nt.unshift(_t)}const Jt=D.indexOf(Rt),Qt=Math.abs(Jt-Dt);if(Qt===1)nt=tt(nt,g.data,N.data),nt.length||nt.push(B?{x:(j+Rt)/2,y:rt}:{x:rt,y:(j+Rt)/2});else if(Qt>1){const te=D[Jt-1];if(te){const _t=nt[nt.length-1],ie=B?{x:(Rt+te)/2,y:(_t==null?void 0:_t.y)||lt}:{x:(_t==null?void 0:_t.x)||rt,y:(Rt+te)/2};(!_t||K(_t,ie))&&nt.push(ie)}}}}return nt}},63795:function(E,V,r){"use strict";r.d(V,{S:function(){return y}});var s=r(97582),m=r(78732),v=r(98130),b=r(20464);const f={radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1};class y{constructor(a={}){this.options=a,this.id="circular",this.options=Object.assign(Object.assign({},f),a)}execute(a,h){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericCircularLayout(!1,a,h)})}assign(a,h){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericCircularLayout(!0,a,h)})}genericCircularLayout(a,h,O){return(0,s.mG)(this,void 0,void 0,function*(){const W=Object.assign(Object.assign({},this.options),O),{width:z,height:C,center:P,divisions:U,startAngle:X=0,endAngle:_=2*Math.PI,angleRatio:$,ordering:Y,clockwise:k,nodeSpacing:A,nodeSize:w}=W,x=h.getAllNodes(),L=h.getAllEdges(),[F,Z,G]=o(z,C,P),Q=x==null?void 0:x.length;if(!Q||Q===1)return(0,b.P)(h,a,G);const H=(_-X)/Q;let{radius:J,startRadius:q,endRadius:ft}=W;if(A){const ct=(0,m.jE)(10,A),at=(0,m.tO)(10,w);let ut=-1/0;x.forEach(Ot=>{const et=at(Ot);ut<et&&(ut=et)});let wt=0;x.forEach((Ot,et)=>{et===0?wt+=ut||10:wt+=(ct(Ot)||0)+(ut||10)}),J=wt/(2*Math.PI)}else!J&&!q&&!ft?J=Math.min(Z,F)/2:!q&&ft?q=ft:q&&!ft&&(ft=q);const ht=H*$;let vt=[];Y==="topology"?vt=p(h,x):Y==="topology-directed"?vt=p(h,x,!0):Y==="degree"?vt=c(h,x):vt=x.map(ct=>(0,v.u)(ct));const Et=Math.ceil(Q/U);for(let ct=0;ct<Q;++ct){let at=J;!at&&q!==null&&ft!==null&&(at=q+ct*(ft-q)/(Q-1)),at||(at=10+ct*100/(Q-1));let ut=X+ct%Et*ht+2*Math.PI/U*Math.floor(ct/Et);k||(ut=_-ct%Et*ht-2*Math.PI/U*Math.floor(ct/Et)),vt[ct].data.x=G[0]+Math.cos(ut)*at,vt[ct].data.y=G[1]+Math.sin(ut)*at}return a&&vt.forEach(ct=>{h.mergeNodeData(ct.id,{x:ct.data.x,y:ct.data.y})}),{nodes:vt,edges:L}})}}const p=(i,a,h=!1)=>{const O=[(0,v.u)(a[0])],W={},z=a.length;W[a[0].id]=!0;let C=0;return a.forEach((P,U)=>{if(U!==0)if((U===z-1||i.getDegree(P.id,"both")!==i.getDegree(a[U+1].id,"both")||i.areNeighbors(O[C].id,P.id))&&!W[P.id])O.push((0,v.u)(P)),W[P.id]=!0,C++;else{const X=h?i.getSuccessors(O[C].id):i.getNeighbors(O[C].id);let _=!1;for(let Y=0;Y<X.length;Y++){const k=X[Y];if(i.getDegree(k.id)===i.getDegree(P.id)&&!W[k.id]){O.push((0,v.u)(k)),W[k.id]=!0,_=!0;break}}let $=0;for(;!_&&(W[a[$].id]||(O.push((0,v.u)(a[$])),W[a[$].id]=!0,_=!0),$++,$!==z););}}),O};function c(i,a){const h=[];return a.forEach((O,W)=>{h.push((0,v.u)(O))}),h.sort((O,W)=>i.getDegree(O.id,"both")-i.getDegree(W.id,"both")),h}const o=(i,a,h)=>{let O=i,W=a,z=h;return!O&&typeof window!="undefined"&&(O=window.innerWidth),!W&&typeof window!="undefined"&&(W=window.innerHeight),z||(z=[O/2,W/2]),[O,W,z]}},39233:function(E,V,r){"use strict";r.d(V,{u:function(){return W}});var s=r(97582),m=r(72137),v=r(61035),b=r(38027),f=r(97653),y=r(5192),p=r(12368),c=r(64912),o=r(80628),i=r(85087),a=r(20464);const h={gForce:!0,force2:!0,d3force:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0},O={center:[0,0],comboPadding:10,treeKey:"combo"};class W{constructor(C={}){this.options=C,this.id="comboCombined",this.options=Object.assign(Object.assign({},O),C)}execute(C,P){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericComboCombinedLayout(!1,C,P)})}assign(C,P){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericComboCombinedLayout(!0,C,P)})}genericComboCombinedLayout(C,P,U){return(0,s.mG)(this,void 0,void 0,function*(){const X=this.initVals(Object.assign(Object.assign({},this.options),U)),{center:_,treeKey:$,outerLayout:Y}=X,k=P.getAllNodes().filter(mt=>!mt.data._isCombo),A=P.getAllNodes().filter(mt=>mt.data._isCombo),w=P.getAllEdges(),x=k==null?void 0:k.length;if(!x||x===1)return(0,a.P)(P,C,_);const L=[],F=new Map;k.forEach(mt=>{F.set(mt.id,mt)});const Z=new Map;A.forEach(mt=>{Z.set(mt.id,mt)});const G=new Map,Q=this.getInnerGraphs(P,$,F,Z,w,X,G);yield Promise.all(Q);const H=new Map,J=[],q=new Map;let ft=!0;P.getRoots($).forEach(mt=>{const ct=G.get(mt.id),at=Z.get(mt.id)||F.get(mt.id),ut={id:mt.id,data:Object.assign(Object.assign({},mt.data),{x:ct.data.x||at.data.x,y:ct.data.y||at.data.y,fx:ct.data.fx||at.data.fx,fy:ct.data.fy||at.data.fy,mass:ct.data.mass||at.data.mass,size:ct.data.size})};J.push(ut),H.set(mt.id,!0),!isNaN(ut.data.x)&&ut.data.x!==0&&!isNaN(ut.data.y)&&ut.data.y!==0?ft=!1:(ut.data.x=Math.random()*100,ut.data.y=Math.random()*100),(0,o._)(P,[mt],wt=>{wt.id!==mt.id&&q.set(wt.id,mt.id)},"TB",$)});const ht=[];w.forEach(mt=>{const ct=q.get(mt.source)||mt.source,at=q.get(mt.target)||mt.target;ct!==at&&H.has(ct)&&H.has(at)&&ht.push({id:mt.id,source:ct,target:at,data:{}})});let vt;if(J!=null&&J.length){if(J.length===1)J[0].data.x=_[0],J[0].data.y=_[1];else{const mt=new m.k({nodes:J,edges:ht}),ct=Y||new p.y;ft&&h[ct.id]&&(yield(J.length<100?new c.A:new y.W).assign(mt)),vt=yield ct.execute(mt,Object.assign({center:_,kg:5,preventOverlap:!0,animate:!1},ct.id==="force"?{gravity:1,factor:4,linkDistance:(at,ut,wt)=>{const Ot=Math.max(...ut.data.size)||32,et=Math.max(...wt.data.size)||32;return Ot/2+et/2+200}}:{}))}G.forEach(mt=>{var ct;const at=vt.nodes.find(Ot=>Ot.id===mt.id);if(at){const{x:Ot,y:et}=at.data;mt.data.visited=!0,mt.data.x=Ot,mt.data.y=et,L.push({id:mt.id,data:{x:Ot,y:et}})}const{x:ut,y:wt}=mt.data;(ct=mt.data.nodes)===null||ct===void 0||ct.forEach(Ot=>{L.push({id:Ot.id,data:{x:Ot.data.x+ut,y:Ot.data.y+wt}})})}),G.forEach(({data:mt})=>{const{x:ct,y:at,visited:ut,nodes:wt}=mt;wt==null||wt.forEach(Ot=>{if(!ut){const et=L.find(dt=>dt.id===Ot.id);et.data.x+=ct||0,et.data.y+=at||0}})})}return C&&L.forEach(mt=>{P.mergeNodeData(mt.id,{x:mt.data.x,y:mt.data.y})}),{nodes:L,edges:w}})}initVals(C){const P=Object.assign({},C),{nodeSize:U,spacing:X,comboPadding:_}=C;let $,Y;if((0,v.Z)(X)?Y=()=>X:(0,b.Z)(X)?Y=X:Y=()=>0,P.spacing=Y,!U)$=A=>{const w=Y(A);return A.size?(0,i.k)(A.size)?((A.size[0]>A.size[1]?A.size[0]:A.size[1])+w)/2:(0,f.Z)(A.size)?((A.size.width>A.size.height?A.size.width:A.size.height)+w)/2:(A.size+w)/2:32+w/2};else if((0,b.Z)(U))$=A=>{const w=U(A),x=Y(A);return(0,i.k)(A.size)?((A.size[0]>A.size[1]?A.size[0]:A.size[1])+x)/2:((w||32)+x)/2};else if((0,i.k)(U)){const w=(U[0]>U[1]?U[0]:U[1])/2;$=x=>w+Y(x)/2}else{const A=U/2;$=w=>A+Y(w)/2}P.nodeSize=$;let k;return(0,v.Z)(_)?k=()=>_:(0,i.k)(_)?k=()=>Math.max.apply(null,_):(0,b.Z)(_)?k=_:k=()=>0,P.comboPadding=k,P}getInnerGraphs(C,P,U,X,_,$,Y){const{nodeSize:k,comboPadding:A,spacing:w,innerLayout:x}=$,L=x||new y.W({}),F={center:[0,0],preventOverlap:!0,nodeSpacing:w},Z=[],G=Q=>{let H=(A==null?void 0:A(Q))||10;return(0,i.k)(H)&&(H=Math.max(...H)),{size:H?[H*2,H*2]:[30,30],padding:H}};return C.getRoots(P).forEach(Q=>{Y.set(Q.id,{id:Q.id,data:{nodes:[],size:G(Q).size}});let H=Promise.resolve();(0,o._)(C,[Q],J=>{var q;if(!J.data._isCombo)return;const{size:ft,padding:ht}=G(J);if(!(!((q=C.getChildren(J.id,P))===null||q===void 0)&&q.length))Y.set(J.id,{id:J.id,data:Object.assign(Object.assign({},J.data),{size:ft})});else{const vt=Y.get(J.id);Y.set(J.id,{id:J.id,data:Object.assign({nodes:[]},vt==null?void 0:vt.data)});const Et=new Map,mt=C.getChildren(J.id,P).map(ut=>{if(ut.data._isCombo)return Y.has(ut.id)||Y.set(ut.id,{id:ut.id,data:Object.assign({},ut.data)}),Et.set(ut.id,!0),Y.get(ut.id);const wt=U.get(ut.id)||X.get(ut.id);return Et.set(ut.id,!0),{id:ut.id,data:Object.assign(Object.assign({},wt.data),ut.data)}}),ct={nodes:mt,edges:_.filter(ut=>Et.has(ut.source)&&Et.has(ut.target))};let at=1/0;mt.forEach(ut=>{var wt;let{size:Ot}=ut.data;Ot||(Ot=((wt=Y.get(ut.id))===null||wt===void 0?void 0:wt.data.size)||(k==null?void 0:k(ut))||[30,30]),(0,v.Z)(Ot)&&(Ot=[Ot,Ot]);const[et,dt]=Ot;at>et&&(at=et),at>dt&&(at=dt),ut.data.size=Ot}),H=H.then(()=>(0,s.mG)(this,void 0,void 0,function*(){const ut=new m.k(ct),wt=yield L.assign(ut,F),{minX:Ot,minY:et,maxX:dt,maxY:ot}=(0,o.H0)(mt),pt={x:(dt+Ot)/2,y:(ot+et)/2};ct.nodes.forEach(Pt=>{Pt.data.x-=pt.x,Pt.data.y-=pt.y});const At=[Math.max(dt-Ot,at)+ht*2,Math.max(ot-et,at)+ht*2];return Y.get(J.id).data.size=At,Y.get(J.id).data.nodes=mt,wt}))}return!0},"BT",P),Z.push(H)}),Z}}},5192:function(E,V,r){"use strict";r.d(V,{W:function(){return i}});var s=r(97582),m=r(38027),v=r(61035),b=r(97653),f=r(52940),y=r(85087),p=r(98130),c=r(20464);const o={nodeSize:30,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"};class i{constructor(h={}){this.options=h,this.id="concentric",this.options=Object.assign(Object.assign({},o),h)}execute(h,O){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericConcentricLayout(!1,h,O)})}assign(h,O){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericConcentricLayout(!0,h,O)})}genericConcentricLayout(h,O,W){return(0,s.mG)(this,void 0,void 0,function*(){const z=Object.assign(Object.assign({},this.options),W),{center:C,width:P,height:U,sortBy:X,maxLevelDiff:_,sweep:$,clockwise:Y,equidistant:k,preventOverlap:A,startAngle:w=3/2*Math.PI,nodeSize:x,nodeSpacing:L}=z,F=O.getAllNodes(),Z=O.getAllEdges(),G=!P&&typeof window!="undefined"?window.innerWidth:P,Q=!U&&typeof window!="undefined"?window.innerHeight:U,H=C||[G/2,Q/2];if(!(F!=null&&F.length)||F.length===1)return(0,c.P)(O,h,H);const J=[];let q,ft=0;(0,y.k)(x)?q=Math.max(x[0],x[1]):(0,m.Z)(x)?(q=-1/0,F.forEach(et=>{const dt=x(et);dt>q&&(q=dt)})):q=x,(0,y.k)(L)?ft=Math.max(L[0],L[1]):(0,v.Z)(L)&&(ft=L),F.forEach(et=>{const dt=(0,p.u)(et);J.push(dt);let ot=q;const{data:pt}=dt;(0,y.k)(pt.size)?ot=Math.max(pt.size[0],pt.size[1]):(0,v.Z)(pt.size)?ot=pt.size:(0,b.Z)(pt.size)&&(ot=Math.max(pt.size.width,pt.size.height)),q=Math.max(q,ot),(0,m.Z)(L)&&(ft=Math.max(L(et),ft))});const ht={};J.forEach((et,dt)=>{ht[et.id]=dt});let vt=X;(!(0,f.Z)(vt)||J[0].data[vt]===void 0)&&(vt="degree"),vt==="degree"?J.sort((et,dt)=>O.getDegree(dt.id,"both")-O.getDegree(et.id,"both")):J.sort((et,dt)=>dt.data[vt]-et.data[vt]);const Et=J[0],mt=(_||(vt==="degree"?O.getDegree(Et.id,"both"):Et.data[vt]))/4,ct=[{nodes:[]}];let at=ct[0];J.forEach(et=>{if(at.nodes.length>0){const dt=Math.abs(vt==="degree"?O.getDegree(at.nodes[0].id,"both")-O.getDegree(et.id,"both"):at.nodes[0].data[vt]-et.data[vt]);mt&&dt>=mt&&(at={nodes:[]},ct.push(at))}at.nodes.push(et)});let ut=q+ft;if(!A){const et=ct.length>0&&ct[0].nodes.length>1,ot=(Math.min(G,Q)/2-ut)/(ct.length+(et?1:0));ut=Math.min(ut,ot)}let wt=0;if(ct.forEach(et=>{const dt=$===void 0?2*Math.PI-2*Math.PI/et.nodes.length:$;if(et.dTheta=dt/Math.max(1,et.nodes.length-1),et.nodes.length>1&&A){const ot=Math.cos(et.dTheta)-Math.cos(0),pt=Math.sin(et.dTheta)-Math.sin(0),At=Math.sqrt(ut*ut/(ot*ot+pt*pt));wt=Math.max(At,wt)}et.r=wt,wt+=ut}),k){let et=0,dt=0;for(let ot=0;ot<ct.length;ot++){const At=(ct[ot].r||0)-dt;et=Math.max(et,At)}dt=0,ct.forEach((ot,pt)=>{pt===0&&(dt=ot.r||0),ot.r=dt,dt+=et})}return ct.forEach(et=>{const dt=et.dTheta||0,ot=et.r||0;et.nodes.forEach((pt,At)=>{const Pt=w+(Y?1:-1)*dt*At;pt.data.x=H[0]+ot*Math.cos(Pt),pt.data.y=H[1]+ot*Math.sin(Pt)})}),h&&J.forEach(et=>O.mergeNodeData(et.id,{x:et.data.x,y:et.data.y})),{nodes:J,edges:Z}})}}},76750:function(E,V,r){"use strict";r.d(V,{j:function(){return wt}});var s=r(97582),m=r(59145),v=function(et){return typeof et=="object"&&et!==null},b=v,f=r(19782),y=function(et){if(!b(et)||!(0,f.Z)(et,"Object"))return!1;if(Object.getPrototypeOf(et)===null)return!0;for(var dt=et;Object.getPrototypeOf(dt)!==null;)dt=Object.getPrototypeOf(dt);return Object.getPrototypeOf(et)===dt},p=y,c=5;function o(et,dt){if(Object.hasOwn)return Object.hasOwn(et,dt);if(et==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(et),dt)}function i(et,dt,ot,pt){ot=ot||0,pt=pt||c;for(var At in dt)if(o(dt,At)){var Pt=dt[At];Pt!==null&&p(Pt)?(p(et[At])||(et[At]={}),ot<pt?i(et[At],Pt,ot+1,pt):et[At]=dt[At]):(0,m.Z)(Pt)?(et[At]=[],et[At]=et[At].concat(Pt)):Pt!==void 0&&(et[At]=Pt)}}var a=function(et){for(var dt=[],ot=1;ot<arguments.length;ot++)dt[ot-1]=arguments[ot];for(var pt=0;pt<dt.length;pt+=1)i(et,dt[pt]);return et},h=a,O=r(97653);function W(et,dt){if(et){var ot;if((0,m.Z)(et))for(var pt=0,At=et.length;pt<At&&(ot=dt(et[pt],pt),ot!==!1);pt++);else if((0,O.Z)(et)){for(var Pt in et)if(et.hasOwnProperty(Pt)&&(ot=dt(et[Pt],Pt),ot===!1))break}}}var z=W,C=Object.prototype.hasOwnProperty,P=function(et,dt){if(et===null||!p(et))return{};var ot={};return z(dt,function(pt){C.call(et,pt)&&(ot[pt]=et[pt])}),ot};function U(et){return function(){return et}}function X(et){return(et()-.5)*1e-6}function _(et){return et.index}function $(et,dt){var ot=et.get(dt);if(!ot)throw new Error("node not found: "+dt);return ot}function Y(et){var dt=_,ot=re,pt,At=U(30),Pt,Ct,Mt,Ut,St,Kt=1;et==null&&(et=[]);function re(xt){return 1/Math.min(Mt[xt.source.index],Mt[xt.target.index])}function $t(xt){for(var Wt=0,Zt=et.length;Wt<Kt;++Wt)for(var Xt=0,Ft,ae,Ne,Oe,me,we,fe;Xt<Zt;++Xt)Ft=et[Xt],ae=Ft.source,Ne=Ft.target,Oe=Ne.x+Ne.vx-ae.x-ae.vx||X(St),me=Ne.y+Ne.vy-ae.y-ae.vy||X(St),we=Math.sqrt(Oe*Oe+me*me),we=(we-Pt[Xt])/we*xt*pt[Xt],Oe*=we,me*=we,Ne.vx-=Oe*(fe=Ut[Xt]),Ne.vy-=me*fe,ae.vx+=Oe*(fe=1-fe),ae.vy+=me*fe}function Yt(){if(Ct){var xt,Wt=Ct.length,Zt=et.length,Xt=new Map(Ct.map((ae,Ne)=>[dt(ae,Ne,Ct),ae])),Ft;for(xt=0,Mt=new Array(Wt);xt<Zt;++xt)Ft=et[xt],Ft.index=xt,typeof Ft.source!="object"&&(Ft.source=$(Xt,Ft.source)),typeof Ft.target!="object"&&(Ft.target=$(Xt,Ft.target)),Mt[Ft.source.index]=(Mt[Ft.source.index]||0)+1,Mt[Ft.target.index]=(Mt[Ft.target.index]||0)+1;for(xt=0,Ut=new Array(Zt);xt<Zt;++xt)Ft=et[xt],Ut[xt]=Mt[Ft.source.index]/(Mt[Ft.source.index]+Mt[Ft.target.index]);pt=new Array(Zt),qt(),Pt=new Array(Zt),Lt()}}function qt(){if(Ct)for(var xt=0,Wt=et.length;xt<Wt;++xt)pt[xt]=+ot(et[xt],xt,et)}function Lt(){if(Ct)for(var xt=0,Wt=et.length;xt<Wt;++xt)Pt[xt]=+At(et[xt],xt,et)}return $t.initialize=function(xt,Wt){Ct=xt,St=Wt,Yt()},$t.links=function(xt){return arguments.length?(et=xt,Yt(),$t):et},$t.id=function(xt){return arguments.length?(dt=xt,$t):dt},$t.iterations=function(xt){return arguments.length?(Kt=+xt,$t):Kt},$t.strength=function(xt){return arguments.length?(ot=typeof xt=="function"?xt:U(+xt),qt(),$t):ot},$t.distance=function(xt){return arguments.length?(At=typeof xt=="function"?xt:U(+xt),Lt(),$t):At},$t}var k=r(81269),A=r(17049),w=r(91739);const x=1664525,L=1013904223,F=4294967296;function Z(){let et=1;return()=>(et=(x*et+L)%F)/F}function G(et){return et.x}function Q(et){return et.y}var H=10,J=Math.PI*(3-Math.sqrt(5));function q(et){var dt,ot=1,pt=.001,At=1-Math.pow(pt,1/300),Pt=0,Ct=.6,Mt=new Map,Ut=(0,w.HT)(re),St=(0,A.Z)("tick","end"),Kt=Z();et==null&&(et=[]);function re(){$t(),St.call("tick",dt),ot<pt&&(Ut.stop(),St.call("end",dt))}function $t(Lt){var xt,Wt=et.length,Zt;Lt===void 0&&(Lt=1);for(var Xt=0;Xt<Lt;++Xt)for(ot+=(Pt-ot)*At,Mt.forEach(function(Ft){Ft(ot)}),xt=0;xt<Wt;++xt)Zt=et[xt],Zt.fx==null?Zt.x+=Zt.vx*=Ct:(Zt.x=Zt.fx,Zt.vx=0),Zt.fy==null?Zt.y+=Zt.vy*=Ct:(Zt.y=Zt.fy,Zt.vy=0);return dt}function Yt(){for(var Lt=0,xt=et.length,Wt;Lt<xt;++Lt){if(Wt=et[Lt],Wt.index=Lt,Wt.fx!=null&&(Wt.x=Wt.fx),Wt.fy!=null&&(Wt.y=Wt.fy),isNaN(Wt.x)||isNaN(Wt.y)){var Zt=H*Math.sqrt(.5+Lt),Xt=Lt*J;Wt.x=Zt*Math.cos(Xt),Wt.y=Zt*Math.sin(Xt)}(isNaN(Wt.vx)||isNaN(Wt.vy))&&(Wt.vx=Wt.vy=0)}}function qt(Lt){return Lt.initialize&&Lt.initialize(et,Kt),Lt}return Yt(),dt={tick:$t,restart:function(){return Ut.restart(re),dt},stop:function(){return Ut.stop(),dt},nodes:function(Lt){return arguments.length?(et=Lt,Yt(),Mt.forEach(qt),dt):et},alpha:function(Lt){return arguments.length?(ot=+Lt,dt):ot},alphaMin:function(Lt){return arguments.length?(pt=+Lt,dt):pt},alphaDecay:function(Lt){return arguments.length?(At=+Lt,dt):+At},alphaTarget:function(Lt){return arguments.length?(Pt=+Lt,dt):Pt},velocityDecay:function(Lt){return arguments.length?(Ct=1-Lt,dt):1-Ct},randomSource:function(Lt){return arguments.length?(Kt=Lt,Mt.forEach(qt),dt):Kt},force:function(Lt,xt){return arguments.length>1?(xt==null?Mt.delete(Lt):Mt.set(Lt,qt(xt)),dt):Mt.get(Lt)},find:function(Lt,xt,Wt){var Zt=0,Xt=et.length,Ft,ae,Ne,Oe,me;for(Wt==null?Wt=1/0:Wt*=Wt,Zt=0;Zt<Xt;++Zt)Oe=et[Zt],Ft=Lt-Oe.x,ae=xt-Oe.y,Ne=Ft*Ft+ae*ae,Ne<Wt&&(me=Oe,Wt=Ne);return me},on:function(Lt,xt){return arguments.length>1?(St.on(Lt,xt),dt):St.on(Lt)}}}function ft(){var et,dt,ot,pt,At=U(-30),Pt,Ct=1,Mt=1/0,Ut=.81;function St(Yt){var qt,Lt=et.length,xt=(0,k.Z)(et,G,Q).visitAfter(re);for(pt=Yt,qt=0;qt<Lt;++qt)dt=et[qt],xt.visit($t)}function Kt(){if(et){var Yt,qt=et.length,Lt;for(Pt=new Array(qt),Yt=0;Yt<qt;++Yt)Lt=et[Yt],Pt[Lt.index]=+At(Lt,Yt,et)}}function re(Yt){var qt=0,Lt,xt,Wt=0,Zt,Xt,Ft;if(Yt.length){for(Zt=Xt=Ft=0;Ft<4;++Ft)(Lt=Yt[Ft])&&(xt=Math.abs(Lt.value))&&(qt+=Lt.value,Wt+=xt,Zt+=xt*Lt.x,Xt+=xt*Lt.y);Yt.x=Zt/Wt,Yt.y=Xt/Wt}else{Lt=Yt,Lt.x=Lt.data.x,Lt.y=Lt.data.y;do qt+=Pt[Lt.data.index];while(Lt=Lt.next)}Yt.value=qt}function $t(Yt,qt,Lt,xt){if(!Yt.value)return!0;var Wt=Yt.x-dt.x,Zt=Yt.y-dt.y,Xt=xt-qt,Ft=Wt*Wt+Zt*Zt;if(Xt*Xt/Ut<Ft)return Ft<Mt&&(Wt===0&&(Wt=X(ot),Ft+=Wt*Wt),Zt===0&&(Zt=X(ot),Ft+=Zt*Zt),Ft<Ct&&(Ft=Math.sqrt(Ct*Ft)),dt.vx+=Wt*Yt.value*pt/Ft,dt.vy+=Zt*Yt.value*pt/Ft),!0;if(Yt.length||Ft>=Mt)return;(Yt.data!==dt||Yt.next)&&(Wt===0&&(Wt=X(ot),Ft+=Wt*Wt),Zt===0&&(Zt=X(ot),Ft+=Zt*Zt),Ft<Ct&&(Ft=Math.sqrt(Ct*Ft)));do Yt.data!==dt&&(Xt=Pt[Yt.data.index]*pt/Ft,dt.vx+=Wt*Xt,dt.vy+=Zt*Xt);while(Yt=Yt.next)}return St.initialize=function(Yt,qt){et=Yt,ot=qt,Kt()},St.strength=function(Yt){return arguments.length?(At=typeof Yt=="function"?Yt:U(+Yt),Kt(),St):At},St.distanceMin=function(Yt){return arguments.length?(Ct=Yt*Yt,St):Math.sqrt(Ct)},St.distanceMax=function(Yt){return arguments.length?(Mt=Yt*Yt,St):Math.sqrt(Mt)},St.theta=function(Yt){return arguments.length?(Ut=Yt*Yt,St):Math.sqrt(Ut)},St}function ht(et,dt){var ot,pt=1;et==null&&(et=0),dt==null&&(dt=0);function At(){var Pt,Ct=ot.length,Mt,Ut=0,St=0;for(Pt=0;Pt<Ct;++Pt)Mt=ot[Pt],Ut+=Mt.x,St+=Mt.y;for(Ut=(Ut/Ct-et)*pt,St=(St/Ct-dt)*pt,Pt=0;Pt<Ct;++Pt)Mt=ot[Pt],Mt.x-=Ut,Mt.y-=St}return At.initialize=function(Pt){ot=Pt},At.x=function(Pt){return arguments.length?(et=+Pt,At):et},At.y=function(Pt){return arguments.length?(dt=+Pt,At):dt},At.strength=function(Pt){return arguments.length?(pt=+Pt,At):pt},At}function vt(et){return et.x+et.vx}function Et(et){return et.y+et.vy}function mt(et){var dt,ot,pt,At=1,Pt=1;typeof et!="function"&&(et=U(et==null?1:+et));function Ct(){for(var St,Kt=dt.length,re,$t,Yt,qt,Lt,xt,Wt=0;Wt<Pt;++Wt)for(re=(0,k.Z)(dt,vt,Et).visitAfter(Mt),St=0;St<Kt;++St)$t=dt[St],Lt=ot[$t.index],xt=Lt*Lt,Yt=$t.x+$t.vx,qt=$t.y+$t.vy,re.visit(Zt);function Zt(Xt,Ft,ae,Ne,Oe){var me=Xt.data,we=Xt.r,fe=Lt+we;if(me){if(me.index>$t.index){var Be=Yt-me.x-me.vx,Te=qt-me.y-me.vy,Fe=Be*Be+Te*Te;Fe<fe*fe&&(Be===0&&(Be=X(pt),Fe+=Be*Be),Te===0&&(Te=X(pt),Fe+=Te*Te),Fe=(fe-(Fe=Math.sqrt(Fe)))/Fe*At,$t.vx+=(Be*=Fe)*(fe=(we*=we)/(xt+we)),$t.vy+=(Te*=Fe)*fe,me.vx-=Be*(fe=1-fe),me.vy-=Te*fe)}return}return Ft>Yt+fe||Ne<Yt-fe||ae>qt+fe||Oe<qt-fe}}function Mt(St){if(St.data)return St.r=ot[St.data.index];for(var Kt=St.r=0;Kt<4;++Kt)St[Kt]&&St[Kt].r>St.r&&(St.r=St[Kt].r)}function Ut(){if(dt){var St,Kt=dt.length,re;for(ot=new Array(Kt),St=0;St<Kt;++St)re=dt[St],ot[re.index]=+et(re,St,dt)}}return Ct.initialize=function(St,Kt){dt=St,pt=Kt,Ut()},Ct.iterations=function(St){return arguments.length?(Pt=+St,Ct):Pt},Ct.strength=function(St){return arguments.length?(At=+St,Ct):At},Ct.radius=function(St){return arguments.length?(et=typeof St=="function"?St:U(+St),Ut(),Ct):et},Ct}function ct(et,dt,ot){var pt,At=U(.1),Pt,Ct;typeof et!="function"&&(et=U(+et)),dt==null&&(dt=0),ot==null&&(ot=0);function Mt(St){for(var Kt=0,re=pt.length;Kt<re;++Kt){var $t=pt[Kt],Yt=$t.x-dt||1e-6,qt=$t.y-ot||1e-6,Lt=Math.sqrt(Yt*Yt+qt*qt),xt=(Ct[Kt]-Lt)*Pt[Kt]*St/Lt;$t.vx+=Yt*xt,$t.vy+=qt*xt}}function Ut(){if(pt){var St,Kt=pt.length;for(Pt=new Array(Kt),Ct=new Array(Kt),St=0;St<Kt;++St)Ct[St]=+et(pt[St],St,pt),Pt[St]=isNaN(Ct[St])?0:+At(pt[St],St,pt)}}return Mt.initialize=function(St){pt=St,Ut()},Mt.strength=function(St){return arguments.length?(At=typeof St=="function"?St:U(+St),Ut(),Mt):At},Mt.radius=function(St){return arguments.length?(et=typeof St=="function"?St:U(+St),Ut(),Mt):et},Mt.x=function(St){return arguments.length?(dt=+St,Mt):dt},Mt.y=function(St){return arguments.length?(ot=+St,Mt):ot},Mt}function at(et){var dt=U(.1),ot,pt,At;typeof et!="function"&&(et=U(et==null?0:+et));function Pt(Mt){for(var Ut=0,St=ot.length,Kt;Ut<St;++Ut)Kt=ot[Ut],Kt.vx+=(At[Ut]-Kt.x)*pt[Ut]*Mt}function Ct(){if(ot){var Mt,Ut=ot.length;for(pt=new Array(Ut),At=new Array(Ut),Mt=0;Mt<Ut;++Mt)pt[Mt]=isNaN(At[Mt]=+et(ot[Mt],Mt,ot))?0:+dt(ot[Mt],Mt,ot)}}return Pt.initialize=function(Mt){ot=Mt,Ct()},Pt.strength=function(Mt){return arguments.length?(dt=typeof Mt=="function"?Mt:U(+Mt),Ct(),Pt):dt},Pt.x=function(Mt){return arguments.length?(et=typeof Mt=="function"?Mt:U(+Mt),Ct(),Pt):et},Pt}function ut(et){var dt=U(.1),ot,pt,At;typeof et!="function"&&(et=U(et==null?0:+et));function Pt(Mt){for(var Ut=0,St=ot.length,Kt;Ut<St;++Ut)Kt=ot[Ut],Kt.vy+=(At[Ut]-Kt.y)*pt[Ut]*Mt}function Ct(){if(ot){var Mt,Ut=ot.length;for(pt=new Array(Ut),At=new Array(Ut),Mt=0;Mt<Ut;++Mt)pt[Mt]=isNaN(At[Mt]=+et(ot[Mt],Mt,ot))?0:+dt(ot[Mt],Mt,ot)}}return Pt.initialize=function(Mt){ot=Mt,Ct()},Pt.strength=function(Mt){return arguments.length?(dt=typeof Mt=="function"?Mt:U(+Mt),Ct(),Pt):dt},Pt.y=function(Mt){return arguments.length?(et=typeof Mt=="function"?Mt:U(+Mt),Ct(),Pt):et},Pt}class wt{constructor(dt){this.id="d3-force",this.config={inputNodeAttrs:["x","y","vx","vy","fx","fy"],outputNodeAttrs:["x","y","vx","vy"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource"]},this.forceMap={link:Y,manyBody:ft,center:ht,collide:mt,radial:ct,x:at,y:ut},this.options={link:{id:ot=>ot.id},manyBody:{},center:{x:0,y:0}},this.context={options:{},assign:!1,nodes:[],edges:[]},h(this.options,dt),this.options.forceSimulation&&(this.simulation=this.options.forceSimulation)}execute(dt,ot){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericLayout(!1,dt,ot)})}assign(dt,ot){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericLayout(!0,dt,ot)})}stop(){this.simulation.stop()}tick(dt){return this.simulation.tick(dt),this.getResult()}restart(){this.simulation.restart()}setFixedPosition(dt,ot){const pt=this.context.nodes.find(At=>At.id===dt);pt&&ot.forEach((At,Pt)=>{if(typeof At=="number"||At===null){const Ct=["fx","fy","fz"][Pt];pt[Ct]=At}})}getOptions(dt){var ot,pt;const At=h({},this.options,dt);return At.collide&&((ot=At.collide)===null||ot===void 0?void 0:ot.radius)===void 0&&(At.collide=At.collide||{},At.collide.radius=(pt=At.nodeSize)!==null&&pt!==void 0?pt:10),At.iterations===void 0&&(At.link&&At.link.iterations===void 0&&(At.iterations=At.link.iterations),At.collide&&At.collide.iterations===void 0&&(At.iterations=At.collide.iterations)),this.context.options=At,At}genericLayout(dt,ot,pt){var At;return(0,s.mG)(this,void 0,void 0,function*(){const Pt=this.getOptions(pt),Ct=ot.getAllNodes().map(({id:Kt,data:re})=>Object.assign({id:Kt,data:re},P(re,this.config.inputNodeAttrs))),Mt=ot.getAllEdges().map(Kt=>Object.assign({},Kt));Object.assign(this.context,{assign:dt,nodes:Ct,edges:Mt,graph:ot});const Ut=new Promise(Kt=>{this.resolver=Kt}),St=this.setSimulation(Pt);return St.nodes(Ct),(At=St.force("link"))===null||At===void 0||At.links(Mt),Ut})}getResult(){const{assign:dt,nodes:ot,edges:pt,graph:At}=this.context,Pt=ot.map(Mt=>({id:Mt.id,data:Object.assign(Object.assign({},Mt.data),P(Mt,this.config.outputNodeAttrs))})),Ct=pt.map(({id:Mt,source:Ut,target:St,data:Kt})=>({id:Mt,source:typeof Ut=="object"?Ut.id:Ut,target:typeof St=="object"?St.id:St,data:Kt}));return dt&&Pt.forEach(Mt=>At.mergeNodeData(Mt.id,Mt.data)),{nodes:Pt,edges:Ct}}initSimulation(){return q()}setSimulation(dt){const ot=this.simulation||this.options.forceSimulation||this.initSimulation();return this.simulation||(this.simulation=ot.on("tick",()=>{var pt;return(pt=dt.onTick)===null||pt===void 0?void 0:pt.call(dt,this.getResult())}).on("end",()=>{var pt;return(pt=this.resolver)===null||pt===void 0?void 0:pt.call(this,this.getResult())})),Ot(ot,this.config.simulationAttrs.map(pt=>[pt,dt[pt]])),Object.entries(this.forceMap).forEach(([pt,At])=>{const Pt=pt;if(dt[pt]){let Ct=ot.force(Pt);Ct||(Ct=At(),ot.force(Pt,Ct)),Ot(Ct,Object.entries(dt[Pt]))}else ot.force(Pt,null)}),ot}}const Ot=(et,dt)=>dt.reduce((ot,[pt,At])=>!ot[pt]||At===void 0?ot:ot[pt].call(et,At),et)},51712:function(E,V,r){"use strict";r.d(V,{V:function(){return p}});var s=r(97582),m=r(61035),v=r(38027),b=r(70681),f=r.n(b);function y(c){if(!c)return[0,0,0];if((0,m.Z)(c))return[c,c,c];if(c.length===0)return[0,0,0];const[o,i=o,a=o]=c;return[o,i,a]}class p{constructor(o){this.id="dagre",this.options={},Object.assign(this.options,p.defaultOptions,o)}execute(o,i){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,o,Object.assign(Object.assign({},this.options),i))})}assign(o,i){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,o,Object.assign(Object.assign({},this.options),i))})}genericDagreLayout(o,i,a){return(0,s.mG)(this,void 0,void 0,function*(){const{nodeSize:h}=a,O=new b.graphlib.Graph;O.setGraph(a),O.setDefaultEdgeLabel(()=>({}));const W=i.getAllNodes(),z=i.getAllEdges();[...W,...z].some(({id:P})=>(0,m.Z)(P))&&console.error("Dagre layout only support string id, it will convert number to string."),i.getAllNodes().forEach(P=>{const{id:U}=P,X=Object.assign({},P.data);if(h!==void 0){const[_,$]=y((0,v.Z)(h)?h(P):h);Object.assign(X,{width:_,height:$})}O.setNode(U.toString(),X)}),i.getAllEdges().forEach(({id:P,source:U,target:X})=>{O.setEdge(U.toString(),X.toString(),{id:P})}),f().layout(O);const C={nodes:[],edges:[]};return O.nodes().forEach(P=>{const U=O.node(P);C.nodes.push({id:P,data:U}),o&&i.mergeNodeData(P,U)}),O.edges().forEach(P=>{const U=O.edge(P),{id:X}=U,_=(0,s._T)(U,["id"]),{v:$,w:Y}=P;C.edges.push({id:X,source:$,target:Y,data:_}),o&&i.mergeEdgeData(X,_)}),C})}}p.defaultOptions={}},12368:function(E,V,r){"use strict";r.d(V,{y:function(){return P}});var s=r(97582),m=r(72137),v=r(61035),b=r(97653),f=r(38027),y=r(78732),p=r(85087),c=r(81269),o=r(33953);const i=.81,a=.1;function h(k,A,w,x,L=2){const F=A/w,Z=k.getAllNodes(),G=Z.map((J,q)=>{const{nodeStrength:ft,x:ht,y:vt,z:Et,size:mt}=J.data;return{x:ht,y:vt,z:Et,size:mt,index:q,id:J.id,vx:0,vy:0,vz:0,weight:F*ft}}),Q=(L===2?(0,c.Z)(G,J=>J.x,J=>J.y):(0,o.Z)(G,J=>J.x,J=>J.y,J=>J.z)).visitAfter(O),H=new Map;return G.forEach(J=>{H.set(J.id,J),z(J,Q,L)}),G.map((J,q)=>{const{id:ft,data:ht}=Z[q],{mass:vt=1}=ht;x[ft]={x:J.vx/vt,y:J.vy/vt,z:J.vz/vt}}),x}function O(k){let A=0,w=0,x=0,L=0,F=0;const Z=k.length;if(Z){for(let G=0;G<Z;G++){const Q=k[G];Q&&Q.weight&&(A+=Q.weight,w+=Q.x*Q.weight,x+=Q.y*Q.weight,L+=Q.z*Q.weight,F+=Q.size*Q.weight)}k.x=w/A,k.y=x/A,k.z=L/A,k.size=F/A,k.weight=A}else{const G=k;k.x=G.data.x,k.y=G.data.y,k.z=G.data.z,k.size=G.data.size,k.weight=G.data.weight}}const W=(k,A,w,x,L,F,Z)=>{var G;if(((G=k.data)===null||G===void 0?void 0:G.id)===F.id)return;const Q=[w,x,L][Z-1],H=F.x-k.x||a,J=F.y-k.y||a,q=F.z-k.z||a,ft=[H,J,q],ht=Q-A;let vt=0;for(let ct=0;ct<Z;ct++)vt+=ft[ct]*ft[ct];const mt=Math.sqrt(vt)*vt;if(ht*ht*i<vt){const ct=k.weight/mt;return F.vx+=H*ct,F.vy+=J*ct,F.vz+=q*ct,!0}if(k.length)return!1;if(k.data!==F){const ct=k.data.weight/mt;F.vx+=H*ct,F.vy+=J*ct,F.vz+=q*ct}};function z(k,A,w){A.visit((x,L,F,Z,G)=>W(x,L,F,Z,G,k,w))}const C={dimensions:2,maxIteration:500,gravity:10,factor:1,edgeStrength:50,nodeStrength:1e3,coulombDisScale:.005,damping:.9,maxSpeed:200,minMovement:.4,interval:.02,linkDistance:200,clusterNodeStrength:20,preventOverlap:!0,distanceThresholdMode:"mean"};class P{constructor(A={}){this.options=A,this.id="force",this.timeInterval=0,this.judgingDistance=0,this.running=!1,this.options=Object.assign(Object.assign({},C),A)}execute(A,w){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericForceLayout(!1,A,w)})}assign(A,w){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericForceLayout(!0,A,w)})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval),this.running=!1}tick(A=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let x=0;(this.judgingDistance>this.lastOptions.minMovement||x<1)&&x<A;x++)this.runOneStep(this.lastCalcGraph,this.lastGraph,x,this.lastVelMap,this.lastOptions),this.updatePosition(this.lastGraph,this.lastCalcGraph,this.lastVelMap,this.lastOptions);const w={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&w.nodes.forEach(x=>this.lastGraph.mergeNodeData(x.id,{x:x.data.x,y:x.data.y,z:this.options.dimensions===3?x.data.z:void 0})),w}genericForceLayout(A,w,x){return(0,s.mG)(this,void 0,void 0,function*(){const L=Object.assign(Object.assign({},this.options),x),F=w.getAllNodes(),Z=w.getAllEdges(),G=this.formatOptions(L,w),{dimensions:Q,width:H,height:J,nodeSize:q,getMass:ft,nodeStrength:ht,edgeStrength:vt,linkDistance:Et}=G,mt=F.map((ot,pt)=>Object.assign(Object.assign({},ot),{data:Object.assign(Object.assign({},ot.data),{x:(0,v.Z)(ot.data.x)?ot.data.x:Math.random()*H,y:(0,v.Z)(ot.data.y)?ot.data.y:Math.random()*J,z:(0,v.Z)(ot.data.z)?ot.data.z:Math.random()*Math.sqrt(H*J),size:q(ot)||30,mass:ft(ot),nodeStrength:ht(ot)})})),ct=Z.map(ot=>Object.assign(Object.assign({},ot),{data:Object.assign(Object.assign({},ot.data),{edgeStrength:vt(ot),linkDistance:Et(ot,w.getNode(ot.source),w.getNode(ot.target))})}));if(!(F!=null&&F.length))return this.lastResult={nodes:[],edges:Z},{nodes:[],edges:Z};const at={};F.forEach((ot,pt)=>{at[ot.id]={x:0,y:0,z:0}});const ut=new m.k({nodes:mt,edges:ct});this.formatCentripetal(G,ut);const{maxIteration:wt,minMovement:Ot,onTick:et}=G;if(this.lastLayoutNodes=mt,this.lastLayoutEdges=ct,this.lastAssign=A,this.lastGraph=w,this.lastCalcGraph=ut,this.lastOptions=G,this.lastVelMap=at,typeof window=="undefined")return;let dt=0;return new Promise(ot=>{this.timeInterval=window.setInterval(()=>{(!F||!this.running)&&ot({nodes:Y(w,mt),edges:Z}),this.runOneStep(ut,w,dt,at,G),this.updatePosition(w,ut,at,G),A&&mt.forEach(pt=>w.mergeNodeData(pt.id,{x:pt.data.x,y:pt.data.y,z:Q===3?pt.data.z:void 0})),et==null||et({nodes:Y(w,mt),edges:Z}),dt++,(dt>=wt||this.judgingDistance<Ot)&&(window.clearInterval(this.timeInterval),ot({nodes:Y(w,mt),edges:Z}))},0),this.running=!0})})}formatOptions(A,w){const x=Object.assign({},A),{width:L,height:F,getMass:Z,nodeSize:G}=A;x.width=!L&&typeof window!="undefined"?window.innerWidth:L,x.height=!F&&typeof window!="undefined"?window.innerHeight:F,A.center||(x.center=[x.width/2,x.height/2]),Z||(x.getMass=q=>{let ft=1;(0,v.Z)(q==null?void 0:q.data.mass)&&(ft=q==null?void 0:q.data.mass);const ht=w.getDegree(q.id,"both");return!ht||ht<5?ft:ht*5*ft});const Q=(0,y.jE)(0,A.nodeSpacing);let H;G?(0,f.Z)(G)?H=q=>G(q)+Q(q):(0,p.k)(G)?H=q=>{const ft=G;return Math.max(ft[0],ft[1])+Q(q)}:H=q=>G+Q(q):H=q=>{const{size:ft}=(q==null?void 0:q.data)||{};return ft?(0,p.k)(ft)?Math.max(ft[0],ft[1])+Q(q):(0,b.Z)(ft)?Math.max(ft.width,ft.height)+Q(q):ft+Q(q):10+Q(q)},x.nodeSize=H;const J=A.linkDistance?(0,y.jE)(1,A.linkDistance):q=>1+x.nodeSize(w.getNode(q.source))+x.nodeSize(w.getNode(q.target));return x.linkDistance=J,x.nodeStrength=(0,y.jE)(1,A.nodeStrength),x.edgeStrength=(0,y.jE)(1,A.edgeStrength),x}formatCentripetal(A,w){const{dimensions:x,centripetalOptions:L,center:F,clusterNodeStrength:Z,leafCluster:G,clustering:Q,nodeClusterBy:H}=A,J=w.getAllNodes(),q=L||{leaf:2,single:2,others:1,center:ct=>({x:F[0],y:F[1],z:x===3?F[2]:void 0})};typeof Z!="function"&&(A.clusterNodeStrength=ct=>Z);let ft,ht;if(G&&H&&(ft=U(w,H),ht=Array.from(new Set(J==null?void 0:J.map(ct=>ct.data[H])))||[],A.centripetalOptions=Object.assign(q,{single:100,leaf:ct=>{const{siblingLeaves:at,sameTypeLeaves:ut}=ft[ct.id]||{};return(ut==null?void 0:ut.length)===(at==null?void 0:at.length)||(ht==null?void 0:ht.length)===1?1:A.clusterNodeStrength(ct)},others:1,center:ct=>{const at=w.getDegree(ct.id,"both");if(!at)return{x:100,y:100,z:0};let ut;if(at===1){const{sameTypeLeaves:wt=[]}=ft[ct.id]||{};wt.length===1?ut=void 0:wt.length>1&&(ut=$(wt))}else ut=void 0;return{x:ut==null?void 0:ut.x,y:ut==null?void 0:ut.y,z:ut==null?void 0:ut.z}}})),Q&&H){ft||(ft=U(w,H)),ht||(ht=Array.from(new Set(J.map(at=>at.data[H])))),ht=ht.filter(at=>at!==void 0);const ct={};ht.forEach(at=>{const ut=J.filter(wt=>wt.data[H]===at).map(wt=>w.getNode(wt.id));ct[at]=$(ut)}),A.centripetalOptions=Object.assign(q,{single:at=>A.clusterNodeStrength(at),leaf:at=>A.clusterNodeStrength(at),others:at=>A.clusterNodeStrength(at),center:at=>{const ut=ct[at.data[H]];return{x:ut==null?void 0:ut.x,y:ut==null?void 0:ut.y,z:ut==null?void 0:ut.z}}})}const{leaf:vt,single:Et,others:mt}=A.centripetalOptions||{};vt&&typeof vt!="function"&&(A.centripetalOptions.leaf=()=>vt),Et&&typeof Et!="function"&&(A.centripetalOptions.single=()=>Et),mt&&typeof mt!="function"&&(A.centripetalOptions.others=()=>mt)}runOneStep(A,w,x,L,F){const Z={},G=A.getAllNodes(),Q=A.getAllEdges();if(!(G!=null&&G.length))return;const{monitor:H}=F;if(this.calRepulsive(A,Z,F),Q&&this.calAttractive(A,Z,F),this.calGravity(A,w,Z,F),this.updateVelocity(A,Z,L,F),H){const J=this.calTotalEnergy(Z,G);H({energy:J,nodes:w.getAllNodes(),edges:w.getAllEdges(),iterations:x})}}calTotalEnergy(A,w){if(!(w!=null&&w.length))return 0;let x=0;return w.forEach((L,F)=>{const Z=A[L.id].x,G=A[L.id].y,Q=this.options.dimensions===3?A[L.id].z:0,H=Z*Z+G*G+Q*Q,{mass:J=1}=L.data;x+=J*H*.5}),x}calRepulsive(A,w,x){const{dimensions:L,factor:F,coulombDisScale:Z}=x;h(A,F,Z*Z,w,L)}calAttractive(A,w,x){const{dimensions:L,nodeSize:F}=x;A.getAllEdges().forEach((Z,G)=>{const{source:Q,target:H}=Z,J=A.getNode(Q),q=A.getNode(H);if(!J||!q)return;let ft=q.data.x-J.data.x,ht=q.data.y-J.data.y,vt=L===3?q.data.z-J.data.z:0;!ft&&!ht&&(ft=Math.random()*.01,ht=Math.random()*.01,L===3&&!vt&&(vt=Math.random()*.01));const Et=Math.sqrt(ft*ft+ht*ht+vt*vt);if(Et<F(J)+F(q))return;const mt=ft/Et,ct=ht/Et,at=vt/Et,{linkDistance:ut=200,edgeStrength:wt=200}=Z.data||{},et=(ut-Et)*wt,dt=J.data.mass||1,ot=q.data.mass||1,pt=1/dt,At=1/ot,Pt=mt*et,Ct=ct*et,Mt=at*et;w[Q].x-=Pt*pt,w[Q].y-=Ct*pt,w[Q].z-=Mt*pt,w[H].x+=Pt*At,w[H].y+=Ct*At,w[H].z+=Mt*At})}calGravity(A,w,x,L){const{getCenter:F}=L,Z=A.getAllNodes(),G=w.getAllNodes(),Q=w.getAllEdges(),{width:H,height:J,center:q,gravity:ft,centripetalOptions:ht}=L;Z&&Z.forEach(vt=>{const{id:Et,data:mt}=vt,{mass:ct,x:at,y:ut,z:wt}=mt,Ot=w.getNode(Et);let et=0,dt=0,ot=0,pt=ft;const At=A.getDegree(Et,"in"),Pt=A.getDegree(Et,"out"),Ct=A.getDegree(Et,"both"),Mt=F==null?void 0:F(Ot,Ct);if(Mt){const[Ut,St,Kt]=Mt;et=at-Ut,dt=ut-St,pt=Kt}else et=at-q[0],dt=ut-q[1],ot=wt-q[2];if(pt&&(x[Et].x-=pt*et/ct,x[Et].y-=pt*dt/ct,x[Et].z-=pt*ot/ct),ht){const{leaf:Ut,single:St,others:Kt,center:re}=ht,{x:$t,y:Yt,z:qt,centerStrength:Lt}=(re==null?void 0:re(Ot,G,Q,H,J))||{x:0,y:0,z:0,centerStrength:0};if(!(0,v.Z)($t)||!(0,v.Z)(Yt))return;const xt=(at-$t)/ct,Wt=(ut-Yt)/ct,Zt=(wt-qt)/ct;if(Lt&&(x[Et].x-=Lt*xt,x[Et].y-=Lt*Wt,x[Et].z-=Lt*Zt),Ct===0){const Ft=St(Ot);if(!Ft)return;x[Et].x-=Ft*xt,x[Et].y-=Ft*Wt,x[Et].z-=Ft*Zt;return}if(At===0||Pt===0){const Ft=Ut(Ot,G,Q);if(!Ft)return;x[Et].x-=Ft*xt,x[Et].y-=Ft*Wt,x[Et].z-=Ft*Zt;return}const Xt=Kt(Ot);if(!Xt)return;x[Et].x-=Xt*xt,x[Et].y-=Xt*Wt,x[Et].z-=Xt*Zt}})}updateVelocity(A,w,x,L){const{damping:F,maxSpeed:Z,interval:G,dimensions:Q}=L,H=A.getAllNodes();H!=null&&H.length&&H.forEach(J=>{const{id:q}=J;let ft=(x[q].x+w[q].x*G)*F||.01,ht=(x[q].y+w[q].y*G)*F||.01,vt=Q===3?(x[q].z+w[q].z*G)*F||.01:0;const Et=Math.sqrt(ft*ft+ht*ht+vt*vt);if(Et>Z){const mt=Z/Et;ft=mt*ft,ht=mt*ht,vt=mt*vt}x[q]={x:ft,y:ht,z:vt}})}updatePosition(A,w,x,L){const{distanceThresholdMode:F,interval:Z,dimensions:G}=L,Q=w.getAllNodes();if(!(Q!=null&&Q.length)){this.judgingDistance=0;return}let H=0;F==="max"?this.judgingDistance=-1/0:F==="min"&&(this.judgingDistance=1/0),Q.forEach(J=>{const{id:q}=J,ft=A.getNode(q);if((0,v.Z)(ft.data.fx)&&(0,v.Z)(ft.data.fy)){w.mergeNodeData(q,{x:ft.data.fx,y:ft.data.fy,z:G===3?ft.data.fz:void 0});return}const ht=x[q].x*Z,vt=x[q].y*Z,Et=G===3?x[q].z*Z:0;w.mergeNodeData(q,{x:J.data.x+ht,y:J.data.y+vt,z:J.data.z+Et});const mt=Math.sqrt(ht*ht+vt*vt+Et*Et);switch(F){case"max":this.judgingDistance<mt&&(this.judgingDistance=mt);break;case"min":this.judgingDistance>mt&&(this.judgingDistance=mt);break;default:H=H+mt;break}}),(!F||F==="mean")&&(this.judgingDistance=H/Q.length)}}const U=(k,A)=>{const w=k.getAllNodes();if(!(w!=null&&w.length))return{};const x={};return w.forEach((L,F)=>{k.getDegree(L.id,"both")===1&&(x[L.id]=X(k,"leaf",L,A))}),x},X=(k,A,w,x)=>{const L=k.getDegree(w.id,"in"),F=k.getDegree(w.id,"out");let Z=w,G=[];L===0?(Z=k.getSuccessors(w.id)[0],G=k.getNeighbors(Z.id)):F===0&&(Z=k.getPredecessors(w.id)[0],G=k.getNeighbors(Z.id)),G=G.filter(H=>k.getDegree(H.id,"in")===0||k.getDegree(H.id,"out")===0);const Q=_(k,A,x,w,G);return{coreNode:Z,siblingLeaves:G,sameTypeLeaves:Q}},_=(k,A,w,x,L)=>{const F=x.data[w]||"";let Z=(L==null?void 0:L.filter(G=>G.data[w]===F))||[];return A==="leaf"&&(Z=Z.filter(G=>k.getDegree(G.id,"in")===0||k.getDegree(G.id,"out")===0)),Z},$=k=>{const A={x:0,y:0};k.forEach(x=>{const{x:L,y:F}=x.data;A.x+=L||0,A.y+=F||0});const w=k.length||1;return{x:A.x/w,y:A.y/w}},Y=(k,A)=>A.map(w=>{const{id:x,data:L}=w,F=k.getNode(x);return Object.assign(Object.assign({},F),{data:Object.assign(Object.assign({},F.data),{x:L.x,y:L.y,z:L.z})})})},67753:function(E,V,r){"use strict";r.d(V,{E:function(){return O}});var s=r(97582),m=r(72137),v=r(61035),b=r(97653),f=r(38027),y=r(98130),p=r(85087),c=r(20464);class o{constructor(z){this.id=z.id||0,this.rx=z.rx,this.ry=z.ry,this.fx=0,this.fy=0,this.mass=z.mass,this.degree=z.degree,this.g=z.g||0}distanceTo(z){const C=this.rx-z.rx,P=this.ry-z.ry;return Math.hypot(C,P)}setPos(z,C){this.rx=z,this.ry=C}resetForce(){this.fx=0,this.fy=0}addForce(z){const C=z.rx-this.rx,P=z.ry-this.ry;let U=Math.hypot(C,P);U=U<1e-4?1e-4:U;const X=this.g*(this.degree+1)*(z.degree+1)/U;this.fx+=X*C/U,this.fy+=X*P/U}in(z){return z.contains(this.rx,this.ry)}add(z){const C=this.mass+z.mass,P=(this.rx*this.mass+z.rx*z.mass)/C,U=(this.ry*this.mass+z.ry*z.mass)/C,X=this.degree+z.degree,_={rx:P,ry:U,mass:C,degree:X};return new o(_)}}class i{constructor(z){this.xmid=z.xmid,this.ymid=z.ymid,this.length=z.length,this.massCenter=z.massCenter||[0,0],this.mass=z.mass||1}getLength(){return this.length}contains(z,C){const P=this.length/2;return z<=this.xmid+P&&z>=this.xmid-P&&C<=this.ymid+P&&C>=this.ymid-P}NW(){const z=this.xmid-this.length/4,C=this.ymid+this.length/4,P=this.length/2,U={xmid:z,ymid:C,length:P};return new i(U)}NE(){const z=this.xmid+this.length/4,C=this.ymid+this.length/4,P=this.length/2,U={xmid:z,ymid:C,length:P};return new i(U)}SW(){const z=this.xmid-this.length/4,C=this.ymid-this.length/4,P=this.length/2,U={xmid:z,ymid:C,length:P};return new i(U)}SE(){const z=this.xmid+this.length/4,C=this.ymid-this.length/4,P=this.length/2,U={xmid:z,ymid:C,length:P};return new i(U)}}class a{constructor(z){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,z!=null&&(this.quad=z)}insert(z){if(this.body==null){this.body=z;return}this._isExternal()?(this.quad&&(this.NW=new a(this.quad.NW()),this.NE=new a(this.quad.NE()),this.SW=new a(this.quad.SW()),this.SE=new a(this.quad.SE())),this._putBody(this.body),this._putBody(z),this.body=this.body.add(z)):(this.body=this.body.add(z),this._putBody(z))}_putBody(z){this.quad&&(z.in(this.quad.NW())&&this.NW?this.NW.insert(z):z.in(this.quad.NE())&&this.NE?this.NE.insert(z):z.in(this.quad.SW())&&this.SW?this.SW.insert(z):z.in(this.quad.SE())&&this.SE&&this.SE.insert(z))}_isExternal(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}updateForce(z){if(!(this.body==null||z===this.body))if(this._isExternal())z.addForce(this.body);else{const C=this.quad?this.quad.getLength():0,P=this.body.distanceTo(z);C/P<this.theta?z.addForce(this.body):(this.NW&&this.NW.updateForce(z),this.NE&&this.NE.updateForce(z),this.SW&&this.SW.updateForce(z),this.SE&&this.SE.updateForce(z))}}}const h={center:[0,0],width:300,height:300,kr:5,kg:1,mode:"normal",preventOverlap:!1,dissuadeHubs:!1,maxIteration:0,ks:.1,ksmax:10,tao:.1};class O{constructor(z={}){this.options=z,this.id="forceAtlas2",this.options=Object.assign(Object.assign({},h),z)}execute(z,C){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericForceAtlas2Layout(!1,z,C)})}assign(z,C){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericForceAtlas2Layout(!0,z,C)})}genericForceAtlas2Layout(z,C,P){return(0,s.mG)(this,void 0,void 0,function*(){const U=C.getAllEdges(),X=C.getAllNodes(),_=this.formatOptions(P,X.length),{width:$,height:Y,prune:k,maxIteration:A,nodeSize:w,center:x}=_;if(!(X!=null&&X.length)||X.length===1)return(0,c.P)(C,z,x);const L=X.map(Q=>(0,y.u)(Q,[$,Y])),F=U.filter(Q=>{const{source:H,target:J}=Q;return H!==J}),Z=new m.k({nodes:L,edges:F}),G=this.getSizes(Z,C,w);if(this.run(Z,C,A,G,z,_),k){for(let H=0;H<F.length;H+=1){const{source:J,target:q}=F[H],ft=Z.getDegree(J),ht=Z.getDegree(J);if(ft<=1){const vt=Z.getNode(q);Z.mergeNodeData(J,{x:vt.data.x,y:vt.data.y})}else if(ht<=1){const vt=Z.getNode(J);Z.mergeNodeData(q,{x:vt.data.x,y:vt.data.y})}}const Q=Object.assign(Object.assign({},_),{prune:!1,barnesHut:!1});this.run(Z,C,100,G,z,Q)}return{nodes:L,edges:U}})}getSizes(z,C,P){const U=z.getAllNodes(),X={};for(let _=0;_<U.length;_+=1){const{id:$,data:Y}=U[_];if(X[$]=10,(0,v.Z)(Y.size))X[$]=Y.size;else if((0,p.k)(Y.size))isNaN(Y.size[0])||(X[$]=Math.max(Y.size[0])),isNaN(Y.size[1])||(X[$]=Math.max(Y.size[1]));else if((0,b.Z)(Y.size))X[$]=Math.max(Y.size.width,Y.size.height);else if((0,f.Z)(P)){const k=C.getNode($),A=P(k);(0,p.k)(A)?X[$]=Math.max(...A):X[$]=A}else(0,p.k)(P)?X[$]=Math.max(...P):(0,v.Z)(P)&&(X[$]=P)}return X}formatOptions(z={},C){const P=Object.assign(Object.assign({},this.options),z),{center:U,width:X,height:_,barnesHut:$,prune:Y,maxIteration:k,kr:A,kg:w}=P;return P.width=!X&&typeof window!="undefined"?window.innerWidth:X,P.height=!_&&typeof window!="undefined"?window.innerHeight:_,P.center=U||[P.width/2,P.height/2],$===void 0&&C>250&&(P.barnesHut=!0),Y===void 0&&C>100&&(P.prune=!0),k===0&&!Y?(P.maxIteration=250,C<=200&&C>100?P.maxIteration=1e3:C>200&&(P.maxIteration=1200)):k===0&&Y&&(P.maxIteration=100,C<=200&&C>100?P.maxIteration=500:C>200&&(P.maxIteration=950)),A||(P.kr=50,C>100&&C<=500?P.kr=20:C>500&&(P.kr=1)),w||(P.kg=20,C>100&&C<=500?P.kg=10:C>500&&(P.kg=1)),P}run(z,C,P,U,X,_){const{kr:$,barnesHut:Y,onTick:k}=_,A=z.getAllNodes();let w=0,x=P;const L={},F={},Z={};for(let G=0;G<A.length;G+=1){const{data:Q,id:H}=A[G];if(L[H]=[0,0],Y){const J={id:G,rx:Q.x,ry:Q.y,mass:1,g:$,degree:z.getDegree(H)};Z[H]=new o(J)}}for(;x>0;)w=this.oneStep(z,{iter:x,preventOverlapIters:50,krPrime:100,sg:w,forces:L,preForces:F,bodies:Z,sizes:U},_),x--,k==null||k({nodes:A,edges:C.getAllEdges()});return z}oneStep(z,C,P){const{iter:U,preventOverlapIters:X,krPrime:_,sg:$,preForces:Y,bodies:k,sizes:A}=C;let{forces:w}=C;const{preventOverlap:x,barnesHut:L}=P,F=z.getAllNodes();for(let Z=0;Z<F.length;Z+=1){const{id:G}=F[Z];Y[G]=[...w[G]],w[G]=[0,0]}return w=this.getAttrForces(z,U,X,A,w,P),L&&(x&&U>X||!x)?w=this.getOptRepGraForces(z,w,k,P):w=this.getRepGraForces(z,U,X,w,_,A,P),this.updatePos(z,w,Y,$,P)}getAttrForces(z,C,P,U,X,_){const{preventOverlap:$,dissuadeHubs:Y,mode:k,prune:A}=_,w=z.getAllEdges();for(let x=0;x<w.length;x+=1){const{source:L,target:F}=w[x],Z=z.getNode(L),G=z.getNode(F),Q=z.getDegree(L),H=z.getDegree(F);if(A&&(Q<=1||H<=1))continue;const J=[G.data.x-Z.data.x,G.data.y-Z.data.y];let q=Math.hypot(J[0],J[1]);q=q<1e-4?1e-4:q,J[0]=J[0]/q,J[1]=J[1]/q,$&&C<P&&(q=q-U[L]-U[F]);let ft=q,ht=ft;k==="linlog"&&(ft=Math.log(1+q),ht=ft),Y&&(ft=q/Q,ht=q/H),$&&C<P&&q<=0?(ft=0,ht=0):$&&C<P&&q>0&&(ft=q,ht=q),X[L][0]+=ft*J[0],X[F][0]-=ht*J[0],X[L][1]+=ft*J[1],X[F][1]-=ht*J[1]}return X}getOptRepGraForces(z,C,P,U){const{kg:X,center:_,prune:$}=U,Y=z.getAllNodes(),k=Y.length;let A=9e10,w=-9e10,x=9e10,L=-9e10;for(let H=0;H<k;H+=1){const{id:J,data:q}=Y[H];$&&z.getDegree(J)<=1||(P[J].setPos(q.x,q.y),q.x>=w&&(w=q.x),q.x<=A&&(A=q.x),q.y>=L&&(L=q.y),q.y<=x&&(x=q.y))}const F=Math.max(w-A,L-x),Z={xmid:(w+A)/2,ymid:(L+x)/2,length:F,massCenter:_,mass:k},G=new i(Z),Q=new a(G);for(let H=0;H<k;H+=1){const{id:J}=Y[H];$&&z.getDegree(J)<=1||P[J].in(G)&&Q.insert(P[J])}for(let H=0;H<k;H+=1){const{id:J,data:q}=Y[H],ft=z.getDegree(J);if($&&ft<=1)continue;P[J].resetForce(),Q.updateForce(P[J]),C[J][0]-=P[J].fx,C[J][1]-=P[J].fy;const ht=[q.x-_[0],q.y-_[1]];let vt=Math.hypot(ht[0],ht[1]);vt=vt<1e-4?1e-4:vt,ht[0]=ht[0]/vt,ht[1]=ht[1]/vt;const Et=X*(ft+1);C[J][0]-=Et*ht[0],C[J][1]-=Et*ht[1]}return C}getRepGraForces(z,C,P,U,X,_,$){const{preventOverlap:Y,kr:k,kg:A,center:w,prune:x}=$,L=z.getAllNodes(),F=L.length;for(let Z=0;Z<F;Z+=1){const G=L[Z],Q=z.getDegree(G.id);for(let ft=Z+1;ft<F;ft+=1){const ht=L[ft],vt=z.getDegree(ht.id);if(x&&(Q<=1||vt<=1))continue;const Et=[ht.data.x-G.data.x,ht.data.y-G.data.y];let mt=Math.hypot(Et[0],Et[1]);mt=mt<1e-4?1e-4:mt,Et[0]=Et[0]/mt,Et[1]=Et[1]/mt,Y&&C<P&&(mt=mt-_[G.id]-_[ht.id]);let ct=k*(Q+1)*(vt+1)/mt;Y&&C<P&&mt<0?ct=X*(Q+1)*(vt+1):Y&&C<P&&mt===0?ct=0:Y&&C<P&&mt>0&&(ct=k*(Q+1)*(vt+1)/mt),U[G.id][0]-=ct*Et[0],U[ht.id][0]+=ct*Et[0],U[G.id][1]-=ct*Et[1],U[ht.id][1]+=ct*Et[1]}const H=[G.data.x-w[0],G.data.y-w[1]],J=Math.hypot(H[0],H[1]);H[0]=H[0]/J,H[1]=H[1]/J;const q=A*(Q+1);U[G.id][0]-=q*H[0],U[G.id][1]-=q*H[1]}return U}updatePos(z,C,P,U,X){const{ks:_,tao:$,prune:Y,ksmax:k}=X,A=z.getAllNodes(),w=A.length,x=[],L=[];let F=0,Z=0,G=U;for(let H=0;H<w;H+=1){const{id:J}=A[H],q=z.getDegree(J);if(Y&&q<=1)continue;const ft=[C[J][0]-P[J][0],C[J][1]-P[J][1]],ht=Math.hypot(ft[0],ft[1]),vt=[C[J][0]+P[J][0],C[J][1]+P[J][1]],Et=Math.hypot(vt[0],vt[1]);x[H]=ht,L[H]=Et/2,F+=(q+1)*x[H],Z+=(q+1)*L[H]}const Q=G;G=$*Z/F,Q!==0&&(G=G>1.5*Q?1.5*Q:G);for(let H=0;H<w;H+=1){const{id:J,data:q}=A[H],ft=z.getDegree(J);if(Y&&ft<=1||(0,v.Z)(q.fx)&&(0,v.Z)(q.fy))continue;let ht=_*G/(1+G*Math.sqrt(x[H])),vt=Math.hypot(C[J][0],C[J][1]);vt=vt<1e-4?1e-4:vt;const Et=k/vt;ht=ht>Et?Et:ht;const mt=ht*C[J][0],ct=ht*C[J][1];z.mergeNodeData(J,{x:q.x+mt,y:q.y+ct})}return G}}},89469:function(E,V,r){"use strict";r.d(V,{O:function(){return p}});var s=r(97582),m=r(72137),v=r(61035),b=r(98130);const f={maxIteration:1e3,gravity:10,speed:5,clustering:!1,clusterGravity:10,width:300,height:300,nodeClusterBy:"cluster"},y=800;class p{constructor(o={}){this.options=o,this.id="fruchterman",this.timeInterval=0,this.running=!1,this.options=Object.assign(Object.assign({},f),o)}execute(o,i){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericFruchtermanLayout(!1,o,i)})}assign(o,i){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericFruchtermanLayout(!0,o,i)})}stop(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval),this.running=!1}tick(o=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let a=0;a<o;a++)this.runOneStep(this.lastGraph,this.lastClusterMap,this.lastOptions);const i={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&i.nodes.forEach(a=>this.lastGraph.mergeNodeData(a.id,{x:a.data.x,y:a.data.y,z:this.options.dimensions===3?a.data.z:void 0})),i}genericFruchtermanLayout(o,i,a){return(0,s.mG)(this,void 0,void 0,function*(){if(this.running)return;const h=this.formatOptions(a),{dimensions:O,width:W,height:z,center:C,clustering:P,nodeClusterBy:U,maxIteration:X,onTick:_}=h,$=i.getAllNodes(),Y=i.getAllEdges();if(!($!=null&&$.length)){const L={nodes:[],edges:Y};return this.lastResult=L,L}if($.length===1){o&&i.mergeNodeData($[0].id,{x:C[0],y:C[1],z:O===3?C[2]:void 0});const L={nodes:[Object.assign(Object.assign({},$[0]),{data:Object.assign(Object.assign({},$[0].data),{x:C[0],y:C[1],z:O===3?C[2]:void 0})})],edges:Y};return this.lastResult=L,L}const k=$.map(L=>(0,b.u)(L,[W,z])),A=new m.k({nodes:k,edges:Y}),w={};if(P&&k.forEach(L=>{const F=L.data[U];w[F]||(w[F]={name:F,cx:0,cy:0,count:0})}),this.lastLayoutNodes=k,this.lastLayoutEdges=Y,this.lastAssign=o,this.lastGraph=A,this.lastOptions=h,this.lastClusterMap=w,typeof window=="undefined")return;let x=0;return new Promise(L=>{this.timeInterval=window.setInterval(()=>{if(!this.running){L({nodes:k,edges:Y});return}this.runOneStep(A,w,h),o&&k.forEach(({id:F,data:Z})=>i.mergeNodeData(F,{x:Z.x,y:Z.y,z:O===3?Z.z:void 0})),_==null||_({nodes:k,edges:Y}),x++,x>=X&&(window.clearInterval(this.timeInterval),L({nodes:k,edges:Y}))},0),this.running=!0})})}formatOptions(o={}){const i=Object.assign(Object.assign({},this.options),o),{clustering:a,nodeClusterBy:h}=i,{center:O,width:W,height:z}=i;return i.width=!W&&typeof window!="undefined"?window.innerWidth:W,i.height=!z&&typeof window!="undefined"?window.innerHeight:z,i.center=O||[i.width/2,i.height/2],i.clustering=a&&!!h,i}runOneStep(o,i,a){const{dimensions:h,height:O,width:W,gravity:z,center:C,speed:P,clustering:U,nodeClusterBy:X,clusterGravity:_}=a,$=O*W,Y=Math.sqrt($)/10,k=o.getAllNodes(),A=$/(k.length+1),w=Math.sqrt(A),x={};if(this.applyCalculate(o,x,w,A),U){for(const F in i)i[F].cx=0,i[F].cy=0,i[F].count=0;k.forEach(F=>{const{data:Z}=F,G=i[Z[X]];(0,v.Z)(Z.x)&&(G.cx+=Z.x),(0,v.Z)(Z.y)&&(G.cy+=Z.y),G.count++});for(const F in i)i[F].cx/=i[F].count,i[F].cy/=i[F].count;const L=_||z;k.forEach((F,Z)=>{const{id:G,data:Q}=F;if(!(0,v.Z)(Q.x)||!(0,v.Z)(Q.y))return;const H=i[Q[X]],J=Math.sqrt((Q.x-H.cx)*(Q.x-H.cx)+(Q.y-H.cy)*(Q.y-H.cy)),q=w*L;x[G].x-=q*(Q.x-H.cx)/J,x[G].y-=q*(Q.y-H.cy)/J})}k.forEach((L,F)=>{const{id:Z,data:G}=L;if(!(0,v.Z)(G.x)||!(0,v.Z)(G.y))return;const Q=.01*w*z;x[Z].x-=Q*(G.x-C[0]),x[Z].y-=Q*(G.y-C[1]),h===3&&(x[Z].z-=Q*(G.z-C[2]))}),k.forEach((L,F)=>{const{id:Z,data:G}=L;if((0,v.Z)(G.fx)&&(0,v.Z)(G.fy)){G.x=G.fx,G.y=G.fy,h===3&&(G.z=G.fz);return}if(!(0,v.Z)(G.x)||!(0,v.Z)(G.y))return;const Q=Math.sqrt(x[Z].x*x[Z].x+x[Z].y*x[Z].y+(h===3?x[Z].z*x[Z].z:0));if(Q>0){const H=Math.min(Y*(P/y),Q);o.mergeNodeData(Z,{x:G.x+x[Z].x/Q*H,y:G.y+x[Z].y/Q*H,z:h===3?G.z+x[Z].z/Q*H:void 0})}})}applyCalculate(o,i,a,h){this.calRepulsive(o,i,h),this.calAttractive(o,i,a)}calRepulsive(o,i,a){const h=o.getAllNodes();h.forEach(({data:O,id:W},z)=>{i[W]={x:0,y:0,z:0},h.forEach(({data:C,id:P},U)=>{if(z<=U||!(0,v.Z)(O.x)||!(0,v.Z)(C.x)||!(0,v.Z)(O.y)||!(0,v.Z)(C.y))return;let X=O.x-C.x,_=O.y-C.y,$=this.options.dimensions===3?O.z-C.z:0,Y=X*X+_*_+$*$;Y===0&&(Y=1,X=.01,_=.01,$=.01);const k=a/Y,A=X*k,w=_*k,x=$*k;i[W].x+=A,i[W].y+=w,i[P].x-=A,i[P].y-=w,this.options.dimensions===3&&(i[W].z+=x,i[P].z-=x)})})}calAttractive(o,i,a){o.getAllEdges().forEach(O=>{const{source:W,target:z}=O;if(!W||!z||W===z)return;const{data:C}=o.getNode(W),{data:P}=o.getNode(z);if(!(0,v.Z)(P.x)||!(0,v.Z)(C.x)||!(0,v.Z)(P.y)||!(0,v.Z)(C.y))return;const U=P.x-C.x,X=P.y-C.y,_=this.options.dimensions===3?P.z-C.z:0,$=Math.sqrt(U*U+X*X+_*_)/a,Y=U*$,k=X*$,A=_*$;i[W].x+=Y,i[W].y+=k,i[z].x-=Y,i[z].y-=k,this.options.dimensions===3&&(i[W].z+=A,i[z].z-=A)})}}},41733:function(E,V,r){"use strict";r.d(V,{M:function(){return o}});var s=r(97582),m=r(52940),v=r(61035),b=r(98130),f=r(78732),y=r(85087),p=r(20464);const c={begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30,width:300,height:300};class o{constructor(P={}){this.options=P,this.id="grid",this.options=Object.assign(Object.assign({},c),P)}execute(P,U){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericGridLayout(!1,P,U)})}assign(P,U){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericGridLayout(!0,P,U)})}genericGridLayout(P,U,X){return(0,s.mG)(this,void 0,void 0,function*(){const _=Object.assign(Object.assign({},this.options),X),{begin:$=[0,0],condense:Y,preventOverlapPadding:k,preventOverlap:A,rows:w,cols:x,nodeSpacing:L,nodeSize:F,width:Z,height:G,position:Q}=_;let{sortBy:H}=_;const J=U.getAllNodes(),q=U.getAllEdges(),ft=J==null?void 0:J.length;if(!ft||ft===1)return(0,p.P)(U,P,$);const ht=J.map(ot=>(0,b.u)(ot));H!=="id"&&(!(0,m.Z)(H)||ht[0].data[H]===void 0)&&(H="degree"),H==="degree"?ht.sort((ot,pt)=>U.getDegree(pt.id,"both")-U.getDegree(ot.id,"both")):H==="id"?ht.sort((ot,pt)=>(0,v.Z)(pt.id)&&(0,v.Z)(ot.id)?pt.id-ot.id:`${ot.id}`.localeCompare(`${pt.id}`)):ht.sort((ot,pt)=>pt.data[H]-ot.data[H]);const vt=!Z&&typeof window!="undefined"?window.innerWidth:Z,Et=!G&&typeof window!="undefined"?window.innerHeight:G,mt=ft,ct={rows:w,cols:x};if(w!=null&&x!=null)ct.rows=w,ct.cols=x;else if(w!=null&&x==null)ct.rows=w,ct.cols=Math.ceil(mt/ct.rows);else if(w==null&&x!=null)ct.cols=x,ct.rows=Math.ceil(mt/ct.cols);else{const ot=Math.sqrt(mt*Et/vt);ct.rows=Math.round(ot),ct.cols=Math.round(vt/Et*ot)}if(ct.rows=Math.max(ct.rows,1),ct.cols=Math.max(ct.cols,1),ct.cols*ct.rows>mt){const ot=i(ct),pt=a(ct);(ot-1)*pt>=mt?i(ct,ot-1):(pt-1)*ot>=mt&&a(ct,pt-1)}else for(;ct.cols*ct.rows<mt;){const ot=i(ct),pt=a(ct);(pt+1)*ot>=mt?a(ct,pt+1):i(ct,ot+1)}let at=Y?0:vt/ct.cols,ut=Y?0:Et/ct.rows;if(A||L){const ot=(0,f.jE)(10,L),pt=(0,f.tO)(30,F,!1);ht.forEach(At=>{(!At.data.x||!At.data.y)&&(At.data.x=0,At.data.y=0);const Pt=U.getNode(At.id),Ct=pt(Pt)||30;let Mt,Ut;(0,y.k)(Ct)?(Mt=Ct[0],Ut=Ct[1]):(Mt=Ct,Ut=Ct);const St=ot!==void 0?ot(At):k,Kt=Mt+St,re=Ut+St;at=Math.max(at,Kt),ut=Math.max(ut,re)})}const wt={},Ot={row:0,col:0},et={};for(let ot=0;ot<ht.length;ot++){const pt=ht[ot];let At;if(Q&&(At=Q(U.getNode(pt.id))),At&&(At.row!==void 0||At.col!==void 0)){const Pt={row:At.row,col:At.col};if(Pt.col===void 0)for(Pt.col=0;h(wt,Pt);)Pt.col++;else if(Pt.row===void 0)for(Pt.row=0;h(wt,Pt);)Pt.row++;et[pt.id]=Pt,O(wt,Pt)}z(pt,$,at,ut,et,ct,Ot,wt)}const dt={nodes:ht,edges:q};return P&&ht.forEach(ot=>{U.mergeNodeData(ot.id,{x:ot.data.x,y:ot.data.y})}),dt})}}const i=(C,P)=>{let U;const X=C.rows||5,_=C.cols||5;return P==null?U=Math.min(X,_):Math.min(X,_)===C.rows?C.rows=P:C.cols=P,U},a=(C,P)=>{let U;const X=C.rows||5,_=C.cols||5;return P==null?U=Math.max(X,_):Math.max(X,_)===C.rows?C.rows=P:C.cols=P,U},h=(C,P)=>C[`c-${P.row}-${P.col}`]||!1,O=(C,P)=>C[`c-${P.row}-${P.col}`]=!0,W=(C,P)=>{const U=C.cols||5;P.col++,P.col>=U&&(P.col=0,P.row++)},z=(C,P,U,X,_,$,Y,k)=>{let A,w;const x=_[C.id];if(x)A=x.col*U+U/2+P[0],w=x.row*X+X/2+P[1];else{for(;h(k,Y);)W($,Y);A=Y.col*U+U/2+P[0],w=Y.row*X+X/2+P[1],O(k,Y),W($,Y)}C.data.x=A,C.data.y=w}},64912:function(E,V,r){"use strict";r.d(V,{A:function(){return p}});var s=r(97582),m=r(32014),v=r(80628),b=r(98130),f=r(20464);const y={center:[0,0],linkDistance:50};class p{constructor(a={}){this.options=a,this.id="mds",this.options=Object.assign(Object.assign({},y),a)}execute(a,h){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericMDSLayout(!1,a,h)})}assign(a,h){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericMDSLayout(!0,a,h)})}genericMDSLayout(a,h,O){return(0,s.mG)(this,void 0,void 0,function*(){const W=Object.assign(Object.assign({},this.options),O),{center:z=[0,0],linkDistance:C=50}=W,P=h.getAllNodes(),U=h.getAllEdges();if(!(P!=null&&P.length)||P.length===1)return(0,f.P)(h,a,z);const X=(0,v.zJ)({nodes:P,edges:U},!1),_=(0,v.qs)(X);c(_);const $=(0,v.nu)(_,C),Y=o($),k=[];return Y.forEach((w,x)=>{const L=(0,b.u)(P[x]);L.data.x=w[0]+z[0],L.data.y=w[1]+z[1],k.push(L)}),a&&k.forEach(w=>h.mergeNodeData(w.id,{x:w.data.x,y:w.data.y})),{nodes:k,edges:U}})}}const c=i=>{let a=-999999;i.forEach(h=>{h.forEach(O=>{O!==1/0&&a<O&&(a=O)})}),i.forEach((h,O)=>{h.forEach((W,z)=>{W===1/0&&(i[O][z]=a)})})},o=i=>{const h=m.y3.mul(m.y3.pow(i,2),-.5),O=h.mean("row"),W=h.mean("column"),z=h.mean();h.add(z).subRowVector(O).subColumnVector(W);const C=new m.Sc(h),P=m.y3.sqrt(C.diagonalMatrix).diagonal();return C.leftSingularVectors.toJSON().map(U=>m.y3.mul([U],[P]).toJSON()[0].splice(0,2))}},29257:function(E,V,r){"use strict";r.d(V,{D:function(){return z}});var s=r(97582),m=r(52940),v=r(80628),b=r(78732),f=r(98130),y=r(20464),p=r(32014);const c=($,Y,k)=>{try{const A=p.y3.mul(p.y3.pow(Y,2),-.5),w=A.mean("row"),x=A.mean("column"),L=A.mean();A.add(L).subRowVector(w).subColumnVector(x);const F=new p.Sc(A),Z=p.y3.sqrt(F.diagonalMatrix).diagonal();return F.leftSingularVectors.toJSON().map(G=>p.y3.mul([G],[Z]).toJSON()[0].splice(0,$))}catch(A){const w=[];for(let x=0;x<Y.length;x++){const L=Math.random()*k,F=Math.random()*k;w.push([L,F])}return w}},o=800,i={iterations:10,height:10,width:10,speed:100,gravity:10,k:5},a=($,Y)=>{const k=Object.assign(Object.assign({},i),Y),{positions:A,iterations:w,width:x,k:L,speed:F=100,strictRadial:Z,focusIdx:G,radii:Q=[],nodeSizeFunc:H}=k,J=$.getAllNodes(),q=[],ft=x/10;for(let ht=0;ht<w;ht++)A.forEach((vt,Et)=>{q[Et]={x:0,y:0}}),h(J,A,q,L,Q,H),O(A,q,F,Z,G,ft,x,Q);return A},h=($,Y,k,A,w,x)=>{Y.forEach((L,F)=>{k[F]={x:0,y:0},Y.forEach((Z,G)=>{if(F===G||w[F]!==w[G])return;let Q=L.x-Z.x,H=L.y-Z.y,J=Math.sqrt(Q*Q+H*H);if(J===0){J=1;const q=F>G?1:-1;Q=.01*q,H=.01*q}if(J<x($[F])/2+x($[G])/2){const q=A*A/J;k[F].x+=Q/J*q,k[F].y+=H/J*q}})})},O=($,Y,k,A,w,x,L,F)=>{const Z=x||L/10;return A&&Y.forEach((G,Q)=>{const H=$[Q].x-$[w].x,J=$[Q].y-$[w].y,q=Math.sqrt(H*H+J*J);let ft=J/q,ht=-H/q;const vt=Math.sqrt(G.x*G.x+G.y*G.y);let Et=Math.acos((ft*G.x+ht*G.y)/vt);Et>Math.PI/2&&(Et-=Math.PI/2,ft*=-1,ht*=-1);const mt=Math.cos(Et)*vt;G.x=ft*mt,G.y=ht*mt}),$.forEach((G,Q)=>{if(Q===w)return;const H=Math.sqrt(Y[Q].x*Y[Q].x+Y[Q].y*Y[Q].y);if(H>0&&Q!==w){const J=Math.min(Z*(k/o),H);if(G.x+=Y[Q].x/H*J,G.y+=Y[Q].y/H*J,A){let q=G.x-$[w].x,ft=G.y-$[w].y;const ht=Math.sqrt(q*q+ft*ft);q=q/ht*F[Q],ft=ft/ht*F[Q],G.x=$[w].x+q,G.y=$[w].y+ft}}}),$},W={maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,strictRadial:!0,maxPreventOverlapIteration:200,sortStrength:10};class z{constructor(Y={}){this.options=Y,this.id="radial",this.options=Object.assign(Object.assign({},W),Y)}execute(Y,k){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericRadialLayout(!1,Y,k)})}assign(Y,k){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericRadialLayout(!0,Y,k)})}genericRadialLayout(Y,k,A){return(0,s.mG)(this,void 0,void 0,function*(){const w=Object.assign(Object.assign({},this.options),A),{width:x,height:L,center:F,focusNode:Z,unitRadius:G,nodeSize:Q,nodeSpacing:H,strictRadial:J,preventOverlap:q,maxPreventOverlapIteration:ft,sortBy:ht,linkDistance:vt=50,sortStrength:Et=10,maxIteration:mt=1e3}=w,ct=k.getAllNodes(),at=k.getAllEdges(),ut=!x&&typeof window!="undefined"?window.innerWidth:x,wt=!L&&typeof window!="undefined"?window.innerHeight:L,Ot=F||[ut/2,wt/2];if(!(ct!=null&&ct.length)||ct.length===1)return(0,y.P)(k,Y,Ot);let et=ct[0];if((0,m.Z)(Z)){for(let Xt=0;Xt<ct.length;Xt++)if(ct[Xt].id===Z){et=ct[Xt];break}}else et=Z||ct[0];const dt=U(ct,et.id),ot=(0,v.zJ)({nodes:ct,edges:at},!1),pt=(0,v.qs)(ot),At=_(pt,dt);X(pt,dt,At+1);const Pt=pt[dt];let Ct=ut-Ot[0]>Ot[0]?Ot[0]:ut-Ot[0],Mt=wt-Ot[1]>Ot[1]?Ot[1]:wt-Ot[1];Ct===0&&(Ct=ut/2),Mt===0&&(Mt=wt/2);const Ut=Math.min(Ct,Mt),St=Math.max(...Pt),Kt=[],re=G||Ut/St;Pt.forEach((Xt,Ft)=>{Kt[Ft]=Xt*re});const $t=C(ct,pt,vt,Kt,re,ht,Et),Yt=P($t),qt=c(vt,$t,vt);let Lt=qt.map(([Xt,Ft])=>({x:(isNaN(Xt)?Math.random()*vt:Xt)-qt[dt][0],y:(isNaN(Ft)?Math.random()*vt:Ft)-qt[dt][1]}));this.run(mt,Lt,Yt,$t,Kt,dt);let xt;if(q){xt=(0,b.gl)(Q,H);const Xt={nodes:ct,nodeSizeFunc:xt,positions:Lt,radii:Kt,height:wt,width:ut,strictRadial:!!J,focusIdx:dt,iterations:ft||200,k:Lt.length/4.5};Lt=a(k,Xt)}const Wt=[];return Lt.forEach((Xt,Ft)=>{const ae=(0,f.u)(ct[Ft]);ae.data.x=Xt.x+Ot[0],ae.data.y=Xt.y+Ot[1],Wt.push(ae)}),Y&&Wt.forEach(Xt=>k.mergeNodeData(Xt.id,{x:Xt.data.x,y:Xt.data.y})),{nodes:Wt,edges:at}})}run(Y,k,A,w,x,L){for(let F=0;F<=Y;F++){const Z=F/Y;this.oneIteration(Z,k,x,w,A,L)}}oneIteration(Y,k,A,w,x,L){const F=1-Y;k.forEach((Z,G)=>{const Q=(0,v.$y)(Z,{x:0,y:0}),H=Q===0?0:1/Q;if(G===L)return;let J=0,q=0,ft=0;k.forEach((vt,Et)=>{if(G===Et)return;const mt=(0,v.$y)(Z,vt),ct=mt===0?0:1/mt,at=w[Et][G];ft+=x[G][Et],J+=x[G][Et]*(vt.x+at*(Z.x-vt.x)*ct),q+=x[G][Et]*(vt.y+at*(Z.y-vt.y)*ct)});const ht=A[G]===0?0:1/A[G];ft*=F,ft+=Y*ht*ht,J*=F,J+=Y*ht*Z.x*H,Z.x=J/ft,q*=F,q+=Y*ht*Z.y*H,Z.y=q/ft})}}const C=($,Y,k,A,w,x,L)=>{if(!$)return[];const F=[];if(Y){const Z={};Y.forEach((G,Q)=>{const H=[];G.forEach((J,q)=>{var ft,ht;if(Q===q)H.push(0);else if(A[Q]===A[q])if(x==="data")H.push(J*(Math.abs(Q-q)*L)/(A[Q]/w));else if(x){let vt,Et;if(Z[$[Q].id])vt=Z[$[Q].id];else{const mt=(x==="id"?$[Q].id:(ft=$[Q].data)===null||ft===void 0?void 0:ft[x])||0;(0,m.Z)(mt)?vt=mt.charCodeAt(0):vt=mt,Z[$[Q].id]=vt}if(Z[$[q].id])Et=Z[$[q].id];else{const mt=(x==="id"?$[q].id:(ht=$[q].data)===null||ht===void 0?void 0:ht[x])||0;(0,m.Z)(mt)?Et=mt.charCodeAt(0):Et=mt,Z[$[q].id]=Et}H.push(J*(Math.abs(vt-Et)*L)/(A[Q]/w))}else H.push(J*k/(A[Q]/w));else{const vt=(k+w)/2;H.push(J*vt)}}),F.push(H)})}return F},P=$=>{const Y=$.length,k=$[0].length,A=[];for(let w=0;w<Y;w++){const x=[];for(let L=0;L<k;L++)$[w][L]!==0?x.push(1/($[w][L]*$[w][L])):x.push(0);A.push(x)}return A},U=($,Y)=>{let k=-1;return $.forEach((A,w)=>{A.id===Y&&(k=w)}),Math.max(k,0)},X=($,Y,k)=>{const A=$.length;for(let w=0;w<A;w++)if($[Y][w]===1/0){$[Y][w]=k,$[w][Y]=k;for(let x=0;x<A;x++)$[w][x]!==1/0&&$[Y][x]===1/0&&($[Y][x]=k+$[w][x],$[x][Y]=k+$[w][x])}for(let w=0;w<A;w++)if(w!==Y){for(let x=0;x<A;x++)if($[w][x]===1/0){let L=Math.abs($[Y][w]-$[Y][x]);L=L===0?1:L,$[w][x]=L}}},_=($,Y)=>{let k=0;for(let A=0;A<$[Y].length;A++)$[Y][A]!==1/0&&(k=$[Y][A]>k?$[Y][A]:k);return k}},26629:function(E,V,r){"use strict";r.d(V,{_:function(){return v}});var s=r(97582);const m={center:[0,0],width:300,height:300};class v{constructor(f={}){this.options=f,this.id="random",this.options=Object.assign(Object.assign({},m),f)}execute(f,y){return(0,s.mG)(this,void 0,void 0,function*(){return this.genericRandomLayout(!1,f,y)})}assign(f,y){return(0,s.mG)(this,void 0,void 0,function*(){yield this.genericRandomLayout(!0,f,y)})}genericRandomLayout(f,y,p){return(0,s.mG)(this,void 0,void 0,function*(){const c=Object.assign(Object.assign({},this.options),p),{center:o,width:i,height:a}=c,h=y.getAllNodes(),O=.9,W=!i&&typeof window!="undefined"?window.innerWidth:i,z=!a&&typeof window!="undefined"?window.innerHeight:a,C=o||[W/2,z/2],P=[];return h&&h.forEach(X=>{P.push({id:X.id,data:{x:(Math.random()-.5)*O*W+C[0],y:(Math.random()-.5)*O*z+C[1]}})}),f&&P.forEach(X=>y.mergeNodeData(X.id,{x:X.data.x,y:X.data.y})),{nodes:P,edges:y.getAllEdges()}})}}},10779:function(E,V,r){"use strict";r.d(V,{h:function(){return s}});function s(m){return!!m.tick&&!!m.stop}},85087:function(E,V,r){"use strict";r.d(V,{k:function(){return s}});const s=Array.isArray},20464:function(E,V,r){"use strict";r.d(V,{P:function(){return s}});const s=(m,v,b)=>{const f=m.getAllNodes(),y=m.getAllEdges();if(!(f!=null&&f.length))return{nodes:[],edges:y};if(f.length===1)return v&&m.mergeNodeData(f[0].id,{x:b[0],y:b[1]}),{nodes:[Object.assign(Object.assign({},f[0]),{data:Object.assign(Object.assign({},f[0].data),{x:b[0],y:b[1]})})],edges:y}}},78732:function(E,V,r){"use strict";r.d(V,{gl:function(){return y},jE:function(){return b},tO:function(){return f}});var s=r(38027),m=r(61035),v=r(97653);function b(p,c){let o;return(0,s.Z)(c)?o=c:(0,m.Z)(c)?o=()=>c:o=()=>p,o}function f(p,c,o=!0){return!c&&c!==0?i=>{const{size:a}=i.data||{};return a?Array.isArray(a)?a[0]>a[1]?a[0]:a[1]:(0,v.Z)(a)?a.width>a.height?a.width:a.height:a:p}:(0,s.Z)(c)?c:(0,m.Z)(c)?()=>c:Array.isArray(c)?()=>{if(o){const i=Math.max(...c);return isNaN(i)?p:i}return c}:(0,v.Z)(c)?()=>{if(o){const i=Math.max(c.width,c.height);return isNaN(i)?p:i}return[c.width,c.height]}:()=>p}const y=(p,c)=>{let o,i;return(0,m.Z)(c)?i=()=>c:(0,s.Z)(c)?i=c:i=()=>0,p?Array.isArray(p)?o=a=>(p[0]>p[1]?p[0]:p[1])+i(a):(0,s.Z)(p)?o=p:o=a=>p+i(a):o=a=>{var h,O;if(!((h=a.data)===null||h===void 0)&&h.bboxSize)return Math.max(a.data.bboxSize[0],a.data.bboxSize[1])+i(a);if(!((O=a.data)===null||O===void 0)&&O.size){if(Array.isArray(a.data.size))return Math.max(a.data.size[0],a.data.size[1])+i(a);const W=a.data.size;return(0,v.Z)(W)?(W.width>W.height?W.width:W.height)+i(a):W+i(a)}return 10+i(a)},o}},80628:function(E,V,r){"use strict";r.d(V,{$y:function(){return p},H0:function(){return y},_:function(){return c},nu:function(){return f},qs:function(){return v},zJ:function(){return b}});var s=r(61035),m=r(85087);const v=o=>{const i=[],a=o.length;for(let h=0;h<a;h+=1){i[h]=[];for(let O=0;O<a;O+=1)h===O?i[h][O]=0:o[h][O]===0||!o[h][O]?i[h][O]=1/0:i[h][O]=o[h][O]}for(let h=0;h<a;h+=1)for(let O=0;O<a;O+=1)for(let W=0;W<a;W+=1)i[O][W]>i[O][h]+i[h][W]&&(i[O][W]=i[O][h]+i[h][W]);return i},b=(o,i)=>{const{nodes:a,edges:h}=o,O=[],W={};if(!a)throw new Error("invalid nodes data!");return a&&a.forEach((z,C)=>{W[z.id]=C;const P=[];O.push(P)}),h==null||h.forEach(z=>{const{source:C,target:P}=z,U=W[C],X=W[P];U===void 0||X===void 0||(O[U][X]=1,i||(O[X][U]=1))}),O},f=(o,i)=>{const a=[];return o.forEach(h=>{const O=[];h.forEach(W=>{O.push(W*i)}),a.push(O)}),a},y=o=>{let i=1/0,a=1/0,h=-1/0,O=-1/0;return o.forEach(W=>{let z=W.data.size;(0,m.k)(z)?z.length===1&&(z=[z[0],z[0]]):(0,s.Z)(z)?z=[z,z]:(z===void 0||isNaN(z))&&(z=[30,30]);const C=[z[0]/2,z[1]/2],P=W.data.x-C[0],U=W.data.x+C[0],X=W.data.y-C[1],_=W.data.y+C[1];i>P&&(i=P),a>X&&(a=X),h<U&&(h=U),O<_&&(O=_)}),{minX:i,minY:a,maxX:h,maxY:O}},p=(o,i)=>Math.sqrt((o.x-i.x)*(o.x-i.x)+(o.y-i.y)*(o.y-i.y)),c=(o,i,a,h="TB",O,W={})=>{if(!(i!=null&&i.length))return;const{stopBranchFn:z,stopAllFn:C}=W;for(let P=0;P<i.length;P++){const U=i[P];if(o.hasNode(U.id)&&!(z!=null&&z(U))){if(C!=null&&C(U))return;h==="TB"&&a(U),c(o,o.getChildren(U.id,O),a,h,O,W),h!=="TB"&&a(U)}}}},98130:function(E,V,r){"use strict";r.d(V,{u:function(){return v}});var s=r(61035);const m=b=>{if(b===null)return b;if(b instanceof Date)return new Date(b.getTime());if(b instanceof Array){const f=[];return b.forEach(y=>{f.push(y)}),f.map(y=>m(y))}if(typeof b=="object"){const f={};return Object.keys(b).forEach(y=>{f[y]=m(b[y])}),f}return b},v=(b,f)=>{const y=m(b);return y.data=y.data||{},f&&((0,s.Z)(y.data.x)||(y.data.x=Math.random()*f[0]),(0,s.Z)(y.data.y)||(y.data.y=Math.random()*f[1])),y}},59145:function(E,V,r){"use strict";var s=r(19782);V.Z=function(m){return Array.isArray?Array.isArray(m):(0,s.Z)(m,"Array")}},38027:function(E,V){"use strict";V.Z=function(r){return typeof r=="function"}},61035:function(E,V,r){"use strict";var s=r(19782),m=function(v){return(0,s.Z)(v,"Number")};V.Z=m},97653:function(E,V){"use strict";V.Z=function(r){var s=typeof r;return r!==null&&s==="object"||s==="function"}},52940:function(E,V,r){"use strict";var s=r(19782);V.Z=function(m){return(0,s.Z)(m,"String")}},19782:function(E,V){"use strict";var r={}.toString,s=function(m,v){return r.call(m)==="[object "+v+"]"};V.Z=s},49612:function(E,V,r){"use strict";var s,m=r(28785).default,v=r(48374).default,b=r(29777).default,f=r(25457).default,y=r(33862).default,p=r(25098).default,c=r(31996).default,o=r(26037).default,i=r(80363).default,a=r(9783).default,h=r(74978).default,O=r(5574).default,W=r(64599).default,z=r(15009).default,C=r(52677).default,P=r(12444).default,U=r(72004).default;s={value:!0};var X=r(44091),_=r(75823),$=" ".repeat(2),Y=" ".repeat(4);function k(){return A(this)}function A(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=I.maxRows,t=u===void 0?15:u,e=I.maxColumns,n=e===void 0?10:e,l=I.maxNumSize,R=l===void 0?8:l,S=I.padMinus,T=S===void 0?"auto":S;return"".concat(M.constructor.name,` {
`).concat($,`[
`).concat(Y).concat(w(M,t,n,R,T),`
`).concat($,`]
`).concat($,"rows: ").concat(M.rows,`
`).concat($,"columns: ").concat(M.columns,`
}`)}function w(M,I,u,t,e){var n=M.rows,l=M.columns,R=Math.min(n,I),S=Math.min(l,u),T=[];if(e==="auto"){e=!1;t:for(var st=0;st<R;st++)for(var it=0;it<S;it++)if(M.get(st,it)<0){e=!0;break t}}for(var yt=0;yt<R;yt++){for(var It=[],bt=0;bt<S;bt++)It.push(x(M.get(yt,bt),t,e));T.push("".concat(It.join(" ")))}return S!==l&&(T[T.length-1]+=" ... ".concat(l-u," more columns")),R!==n&&T.push("... ".concat(n-I," more rows")),T.join(`
`.concat(Y))}function x(M,I,u){return(M>=0&&u?" ".concat(L(M,I-1)):L(M,I)).padEnd(I)}function L(M,I){var u=M.toString();if(u.length<=I)return u;var t=M.toFixed(I);if(t.length>I&&(t=M.toFixed(Math.max(0,I-(t.length-I)))),t.length<=I&&!t.startsWith("0.000")&&!t.startsWith("-0.000"))return t;var e=M.toExponential(I);return e.length>I&&(e=M.toExponential(Math.max(0,I-(e.length-I)))),e.slice(0)}function F(M,I){M.prototype.add=function(t){return typeof t=="number"?this.addS(t):this.addM(t)},M.prototype.addS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t);return this},M.prototype.addM=function(t){if(t=I.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t.get(e,n));return this},M.add=function(t,e){var n=new I(t);return n.add(e)},M.prototype.sub=function(t){return typeof t=="number"?this.subS(t):this.subM(t)},M.prototype.subS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t);return this},M.prototype.subM=function(t){if(t=I.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t.get(e,n));return this},M.sub=function(t,e){var n=new I(t);return n.sub(e)},M.prototype.subtract=M.prototype.sub,M.prototype.subtractS=M.prototype.subS,M.prototype.subtractM=M.prototype.subM,M.subtract=M.sub,M.prototype.mul=function(t){return typeof t=="number"?this.mulS(t):this.mulM(t)},M.prototype.mulS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this},M.prototype.mulM=function(t){if(t=I.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t.get(e,n));return this},M.mul=function(t,e){var n=new I(t);return n.mul(e)},M.prototype.multiply=M.prototype.mul,M.prototype.multiplyS=M.prototype.mulS,M.prototype.multiplyM=M.prototype.mulM,M.multiply=M.mul,M.prototype.div=function(t){return typeof t=="number"?this.divS(t):this.divM(t)},M.prototype.divS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t);return this},M.prototype.divM=function(t){if(t=I.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t.get(e,n));return this},M.div=function(t,e){var n=new I(t);return n.div(e)},M.prototype.divide=M.prototype.div,M.prototype.divideS=M.prototype.divS,M.prototype.divideM=M.prototype.divM,M.divide=M.div,M.prototype.mod=function(t){return typeof t=="number"?this.modS(t):this.modM(t)},M.prototype.modS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t);return this},M.prototype.modM=function(t){if(t=I.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t.get(e,n));return this},M.mod=function(t,e){var n=new I(t);return n.mod(e)},M.prototype.modulus=M.prototype.mod,M.prototype.modulusS=M.prototype.modS,M.prototype.modulusM=M.prototype.modM,M.modulus=M.mod,M.prototype.and=function(t){return typeof t=="number"?this.andS(t):this.andM(t)},M.prototype.andS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t);return this},M.prototype.andM=function(t){if(t=I.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t.get(e,n));return this},M.and=function(t,e){var n=new I(t);return n.and(e)},M.prototype.or=function(t){return typeof t=="number"?this.orS(t):this.orM(t)},M.prototype.orS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t);return this},M.prototype.orM=function(t){if(t=I.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t.get(e,n));return this},M.or=function(t,e){var n=new I(t);return n.or(e)},M.prototype.xor=function(t){return typeof t=="number"?this.xorS(t):this.xorM(t)},M.prototype.xorS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t);return this},M.prototype.xorM=function(t){if(t=I.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t.get(e,n));return this},M.xor=function(t,e){var n=new I(t);return n.xor(e)},M.prototype.leftShift=function(t){return typeof t=="number"?this.leftShiftS(t):this.leftShiftM(t)},M.prototype.leftShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t);return this},M.prototype.leftShiftM=function(t){if(t=I.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t.get(e,n));return this},M.leftShift=function(t,e){var n=new I(t);return n.leftShift(e)},M.prototype.signPropagatingRightShift=function(t){return typeof t=="number"?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},M.prototype.signPropagatingRightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t);return this},M.prototype.signPropagatingRightShiftM=function(t){if(t=I.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t.get(e,n));return this},M.signPropagatingRightShift=function(t,e){var n=new I(t);return n.signPropagatingRightShift(e)},M.prototype.rightShift=function(t){return typeof t=="number"?this.rightShiftS(t):this.rightShiftM(t)},M.prototype.rightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t);return this},M.prototype.rightShiftM=function(t){if(t=I.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t.get(e,n));return this},M.rightShift=function(t,e){var n=new I(t);return n.rightShift(e)},M.prototype.zeroFillRightShift=M.prototype.rightShift,M.prototype.zeroFillRightShiftS=M.prototype.rightShiftS,M.prototype.zeroFillRightShiftM=M.prototype.rightShiftM,M.zeroFillRightShift=M.rightShift,M.prototype.not=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},M.not=function(t){var e=new I(t);return e.not()},M.prototype.abs=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},M.abs=function(t){var e=new I(t);return e.abs()},M.prototype.acos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},M.acos=function(t){var e=new I(t);return e.acos()},M.prototype.acosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},M.acosh=function(t){var e=new I(t);return e.acosh()},M.prototype.asin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},M.asin=function(t){var e=new I(t);return e.asin()},M.prototype.asinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},M.asinh=function(t){var e=new I(t);return e.asinh()},M.prototype.atan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},M.atan=function(t){var e=new I(t);return e.atan()},M.prototype.atanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},M.atanh=function(t){var e=new I(t);return e.atanh()},M.prototype.cbrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},M.cbrt=function(t){var e=new I(t);return e.cbrt()},M.prototype.ceil=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},M.ceil=function(t){var e=new I(t);return e.ceil()},M.prototype.clz32=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},M.clz32=function(t){var e=new I(t);return e.clz32()},M.prototype.cos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},M.cos=function(t){var e=new I(t);return e.cos()},M.prototype.cosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},M.cosh=function(t){var e=new I(t);return e.cosh()},M.prototype.exp=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},M.exp=function(t){var e=new I(t);return e.exp()},M.prototype.expm1=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},M.expm1=function(t){var e=new I(t);return e.expm1()},M.prototype.floor=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},M.floor=function(t){var e=new I(t);return e.floor()},M.prototype.fround=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},M.fround=function(t){var e=new I(t);return e.fround()},M.prototype.log=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},M.log=function(t){var e=new I(t);return e.log()},M.prototype.log1p=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},M.log1p=function(t){var e=new I(t);return e.log1p()},M.prototype.log10=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},M.log10=function(t){var e=new I(t);return e.log10()},M.prototype.log2=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},M.log2=function(t){var e=new I(t);return e.log2()},M.prototype.round=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},M.round=function(t){var e=new I(t);return e.round()},M.prototype.sign=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},M.sign=function(t){var e=new I(t);return e.sign()},M.prototype.sin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},M.sin=function(t){var e=new I(t);return e.sin()},M.prototype.sinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},M.sinh=function(t){var e=new I(t);return e.sinh()},M.prototype.sqrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},M.sqrt=function(t){var e=new I(t);return e.sqrt()},M.prototype.tan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},M.tan=function(t){var e=new I(t);return e.tan()},M.prototype.tanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},M.tanh=function(t){var e=new I(t);return e.tanh()},M.prototype.trunc=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},M.trunc=function(t){var e=new I(t);return e.trunc()},M.pow=function(t,e){var n=new I(t);return n.pow(e)},M.prototype.pow=function(t){return typeof t=="number"?this.powS(t):this.powM(t)},M.prototype.powS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t));return this},M.prototype.powM=function(t){if(t=I.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t.get(e,n)));return this}}function Z(M,I,u){var t=u?M.rows:M.rows-1;if(I<0||I>t)throw new RangeError("Row index out of range")}function G(M,I,u){var t=u?M.columns:M.columns-1;if(I<0||I>t)throw new RangeError("Column index out of range")}function Q(M,I){if(I.to1DArray&&(I=I.to1DArray()),I.length!==M.columns)throw new RangeError("vector size must be the same as the number of columns");return I}function H(M,I){if(I.to1DArray&&(I=I.to1DArray()),I.length!==M.rows)throw new RangeError("vector size must be the same as the number of rows");return I}function J(M,I){if(!X.isAnyArray(I))throw new TypeError("row indices must be an array");for(var u=0;u<I.length;u++)if(I[u]<0||I[u]>=M.rows)throw new RangeError("row indices are out of range")}function q(M,I){if(!X.isAnyArray(I))throw new TypeError("column indices must be an array");for(var u=0;u<I.length;u++)if(I[u]<0||I[u]>=M.columns)throw new RangeError("column indices are out of range")}function ft(M,I,u,t,e){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(vt("startRow",I),vt("endRow",u),vt("startColumn",t),vt("endColumn",e),I>u||t>e||I<0||I>=M.rows||u<0||u>=M.rows||t<0||t>=M.columns||e<0||e>=M.columns)throw new RangeError("Submatrix indices are out of range")}function ht(M){for(var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=[],t=0;t<M;t++)u.push(I);return u}function vt(M,I){if(typeof I!="number")throw new TypeError("".concat(M," must be a number"))}function Et(M){if(M.isEmpty())throw new Error("Empty matrix has no elements to index")}function mt(M){for(var I=ht(M.rows),u=0;u<M.rows;++u)for(var t=0;t<M.columns;++t)I[u]+=M.get(u,t);return I}function ct(M){for(var I=ht(M.columns),u=0;u<M.rows;++u)for(var t=0;t<M.columns;++t)I[t]+=M.get(u,t);return I}function at(M){for(var I=0,u=0;u<M.rows;u++)for(var t=0;t<M.columns;t++)I+=M.get(u,t);return I}function ut(M){for(var I=ht(M.rows,1),u=0;u<M.rows;++u)for(var t=0;t<M.columns;++t)I[u]*=M.get(u,t);return I}function wt(M){for(var I=ht(M.columns,1),u=0;u<M.rows;++u)for(var t=0;t<M.columns;++t)I[t]*=M.get(u,t);return I}function Ot(M){for(var I=1,u=0;u<M.rows;u++)for(var t=0;t<M.columns;t++)I*=M.get(u,t);return I}function et(M,I,u){for(var t=M.rows,e=M.columns,n=[],l=0;l<t;l++){for(var R=0,S=0,T=0,st=0;st<e;st++)T=M.get(l,st)-u[l],R+=T,S+=T*T;I?n.push((S-R*R/e)/(e-1)):n.push((S-R*R/e)/e)}return n}function dt(M,I,u){for(var t=M.rows,e=M.columns,n=[],l=0;l<e;l++){for(var R=0,S=0,T=0,st=0;st<t;st++)T=M.get(st,l)-u[l],R+=T,S+=T*T;I?n.push((S-R*R/t)/(t-1)):n.push((S-R*R/t)/t)}return n}function ot(M,I,u){for(var t=M.rows,e=M.columns,n=t*e,l=0,R=0,S=0,T=0;T<t;T++)for(var st=0;st<e;st++)S=M.get(T,st)-u,l+=S,R+=S*S;return I?(R-l*l/n)/(n-1):(R-l*l/n)/n}function pt(M,I){for(var u=0;u<M.rows;u++)for(var t=0;t<M.columns;t++)M.set(u,t,M.get(u,t)-I[u])}function At(M,I){for(var u=0;u<M.rows;u++)for(var t=0;t<M.columns;t++)M.set(u,t,M.get(u,t)-I[t])}function Pt(M,I){for(var u=0;u<M.rows;u++)for(var t=0;t<M.columns;t++)M.set(u,t,M.get(u,t)-I)}function Ct(M){for(var I=[],u=0;u<M.rows;u++){for(var t=0,e=0;e<M.columns;e++)t+=Math.pow(M.get(u,e),2)/(M.columns-1);I.push(Math.sqrt(t))}return I}function Mt(M,I){for(var u=0;u<M.rows;u++)for(var t=0;t<M.columns;t++)M.set(u,t,M.get(u,t)/I[u])}function Ut(M){for(var I=[],u=0;u<M.columns;u++){for(var t=0,e=0;e<M.rows;e++)t+=Math.pow(M.get(e,u),2)/(M.rows-1);I.push(Math.sqrt(t))}return I}function St(M,I){for(var u=0;u<M.rows;u++)for(var t=0;t<M.columns;t++)M.set(u,t,M.get(u,t)/I[t])}function Kt(M){for(var I=M.size-1,u=0,t=0;t<M.columns;t++)for(var e=0;e<M.rows;e++)u+=Math.pow(M.get(e,t),2)/I;return Math.sqrt(u)}function re(M,I){for(var u=0;u<M.rows;u++)for(var t=0;t<M.columns;t++)M.set(u,t,M.get(u,t)/I)}var $t=function(M){function I(){P(this,I)}return U(I,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isDistance",value:function(){if(!this.isSymmetric())return!1;for(var t=0;t<this.rows;t++)if(this.get(t,t)!==0)return!1;return!0}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,l=!0,R=!1;t<this.rows&&l;){for(e=0,R=!1;e<this.columns&&R===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(R=!0,n=e):(l=!1,R=!0);t++}return l}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,l=!0,R=!1;t<this.rows&&l;){for(e=0,R=!1;e<this.columns&&R===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(R=!0,n=e):(l=!1,R=!0);for(var S=e+1;S<this.rows;S++)this.get(t,S)!==0&&(l=!1);t++}return l}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var l=e,R=e;R<t.rows;R++)t.get(R,n)>t.get(l,n)&&(l=R);if(t.get(l,n)===0)n++;else{t.swapRows(e,l);for(var S=t.get(e,n),T=n;T<t.columns;T++)t.set(e,T,t.get(e,T)/S);for(var st=e+1;st<t.rows;st++){var it=t.get(st,n)/t.get(e,n);t.set(st,n,0);for(var yt=n+1;yt<t.columns;yt++)t.set(st,yt,t.get(st,yt)-t.get(e,yt)*it)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,l=n-1;l>=0;)if(t.maxRow(l)===0)l--;else{for(var R=0,S=!1;R<n&&S===!1;)t.get(l,R)===1?S=!0:R++;for(var T=0;T<l;T++)for(var st=t.get(T,R),it=R;it<e;it++){var yt=t.get(T,it)-st*t.get(l,it);t.set(T,it,yt)}l--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(C(t)!=="object")throw new TypeError("options must be an object");var e=t.rows,n=e===void 0?1:e,l=t.columns,R=l===void 0?1:l;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(R)||R<=0)throw new TypeError("columns must be a positive integer");for(var S=new xt(this.rows*n,this.columns*R),T=0;T<n;T++)for(var st=0;st<R;st++)S.setSubMatrix(this,this.rows*T,this.columns*st);return S}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){Z(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return xt.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){Z(this,t),e=Q(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){Z(this,t),Z(this,e);for(var n=0;n<this.columns;n++){var l=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,l)}return this}},{key:"getColumn",value:function(t){G(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return xt.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){G(this,t),e=H(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){G(this,t),G(this,e);for(var n=0;n<this.rows;n++){var l=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,l)}return this}},{key:"addRowVector",value:function(t){t=Q(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=Q(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=Q(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=Q(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=H(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=H(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=H(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=H(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){Z(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){G(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),n=0;n<this.rows;n++)for(var l=0;l<this.columns;l++)this.get(n,l)>e[n]&&(e[n]=this.get(n,l));return e}case"column":{for(var R=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),S=0;S<this.rows;S++)for(var T=0;T<this.columns;T++)this.get(S,T)>R[T]&&(R[T]=this.get(S,T));return R}case void 0:{for(var st=this.get(0,0),it=0;it<this.rows;it++)for(var yt=0;yt<this.columns;yt++)this.get(it,yt)>st&&(st=this.get(it,yt));return st}default:throw new Error("invalid option: ".concat(t))}}},{key:"maxIndex",value:function(){Et(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var l=0;l<this.columns;l++)this.get(n,l)>t&&(t=this.get(n,l),e[0]=n,e[1]=l);return e}},{key:"min",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.POSITIVE_INFINITY),n=0;n<this.rows;n++)for(var l=0;l<this.columns;l++)this.get(n,l)<e[n]&&(e[n]=this.get(n,l));return e}case"column":{for(var R=new Array(this.columns).fill(Number.POSITIVE_INFINITY),S=0;S<this.rows;S++)for(var T=0;T<this.columns;T++)this.get(S,T)<R[T]&&(R[T]=this.get(S,T));return R}case void 0:{for(var st=this.get(0,0),it=0;it<this.rows;it++)for(var yt=0;yt<this.columns;yt++)this.get(it,yt)<st&&(st=this.get(it,yt));return st}default:throw new Error("invalid option: ".concat(t))}}},{key:"minIndex",value:function(){Et(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var l=0;l<this.columns;l++)this.get(n,l)<t&&(t=this.get(n,l),e[0]=n,e[1]=l);return e}},{key:"maxRow",value:function(t){if(Z(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){Z(this,t),Et(this);for(var e=this.get(t,0),n=[t,0],l=1;l<this.columns;l++)this.get(t,l)>e&&(e=this.get(t,l),n[1]=l);return n}},{key:"minRow",value:function(t){if(Z(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){Z(this,t),Et(this);for(var e=this.get(t,0),n=[t,0],l=1;l<this.columns;l++)this.get(t,l)<e&&(e=this.get(t,l),n[1]=l);return n}},{key:"maxColumn",value:function(t){if(G(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){G(this,t),Et(this);for(var e=this.get(0,t),n=[0,t],l=1;l<this.rows;l++)this.get(l,t)>e&&(e=this.get(l,t),n[0]=l);return n}},{key:"minColumn",value:function(t){if(G(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){G(this,t),Et(this);for(var e=this.get(0,t),n=[0,t],l=1;l<this.rows;l++)this.get(l,t)<e&&(e=this.get(l,t),n[0]=l);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius";switch(t){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError("unknown norm type: ".concat(t))}}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(t){I.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,l=0;l<e.length;l++)n+=e[l]*t[l];return n}},{key:"mmul",value:function(t){t=xt.checkMatrix(t);for(var e=this.rows,n=this.columns,l=t.columns,R=new xt(e,l),S=new Float64Array(n),T=0;T<l;T++){for(var st=0;st<n;st++)S[st]=t.get(st,T);for(var it=0;it<e;it++){for(var yt=0,It=0;It<n;It++)yt+=this.get(it,It)*S[It];R.set(it,T,yt)}}return R}},{key:"strassen2x2",value:function(t){t=xt.checkMatrix(t);var e=new xt(2,2),n=this.get(0,0),l=t.get(0,0),R=this.get(0,1),S=t.get(0,1),T=this.get(1,0),st=t.get(1,0),it=this.get(1,1),yt=t.get(1,1),It=(n+it)*(l+yt),bt=(T+it)*l,zt=n*(S-yt),jt=it*(st-l),gt=(n+R)*yt,Nt=(T-n)*(l+S),Tt=(R-it)*(st+yt),Gt=It+jt-gt+Tt,kt=zt+gt,ue=bt+jt,de=It-bt+zt+Nt;return e.set(0,0,Gt),e.set(0,1,kt),e.set(1,0,ue),e.set(1,1,de),e}},{key:"strassen3x3",value:function(t){t=xt.checkMatrix(t);var e=new xt(3,3),n=this.get(0,0),l=this.get(0,1),R=this.get(0,2),S=this.get(1,0),T=this.get(1,1),st=this.get(1,2),it=this.get(2,0),yt=this.get(2,1),It=this.get(2,2),bt=t.get(0,0),zt=t.get(0,1),jt=t.get(0,2),gt=t.get(1,0),Nt=t.get(1,1),Tt=t.get(1,2),Gt=t.get(2,0),kt=t.get(2,1),ue=t.get(2,2),de=(n+l+R-S-T-yt-It)*Nt,Ht=(n-S)*(-zt+Nt),se=T*(-bt+zt+gt-Nt-Tt-Gt+ue),ge=(-n+S+T)*(bt-zt+Nt),Ae=(S+T)*(-bt+zt),Bt=n*bt,Le=(-n+it+yt)*(bt-jt+Tt),Pe=(-n+it)*(jt-Tt),he=(it+yt)*(-bt+jt),Ke=(n+l+R-T-st-it-yt)*Tt,$e=yt*(-bt+jt+gt-Nt-Tt-Gt+kt),xe=(-R+yt+It)*(Nt+Gt-kt),Ge=(R-It)*(Nt-kt),ke=R*Gt,Ue=(yt+It)*(-Gt+kt),Se=(-R+T+st)*(Tt+Gt-ue),qe=(R-st)*(Tt-ue),_e=(T+st)*(-Gt+ue),tn=l*gt,On=st*kt,en=S*jt,an=it*zt,ce=It*ue,nn=Bt+ke+tn,vn=de+ge+Ae+Bt+xe+ke+Ue,le=Bt+Le+he+Ke+ke+Se+_e,Xe=Ht+se+ge+Bt+ke+Se+qe,Je=Ht+ge+Ae+Bt+On,un=ke+Se+qe+_e+en,rn=Bt+Le+Pe+$e+xe+Ge+ke,dn=xe+Ge+ke+Ue+an,pn=Bt+Le+Pe+he+ce;return e.set(0,0,nn),e.set(0,1,vn),e.set(0,2,le),e.set(1,0,Xe),e.set(1,1,Je),e.set(1,2,un),e.set(2,0,rn),e.set(2,1,dn),e.set(2,2,pn),e}},{key:"mmulStrassen",value:function(t){t=xt.checkMatrix(t);var e=this.clone(),n=e.rows,l=e.columns,R=t.rows,S=t.columns;l!==R&&console.warn("Multiplying ".concat(n," x ").concat(l," and ").concat(R," x ").concat(S," matrix: dimensions do not match."));function T(It,bt,zt){var jt=It.rows,gt=It.columns;if(jt===bt&&gt===zt)return It;var Nt=I.zeros(bt,zt);return Nt=Nt.setSubMatrix(It,0,0),Nt}var st=Math.max(n,R),it=Math.max(l,S);e=T(e,st,it),t=T(t,st,it);function yt(It,bt,zt,jt){if(zt<=512||jt<=512)return It.mmul(bt);zt%2===1&&jt%2===1?(It=T(It,zt+1,jt+1),bt=T(bt,zt+1,jt+1)):zt%2===1?(It=T(It,zt+1,jt),bt=T(bt,zt+1,jt)):jt%2===1&&(It=T(It,zt,jt+1),bt=T(bt,zt,jt+1));var gt=parseInt(It.rows/2,10),Nt=parseInt(It.columns/2,10),Tt=It.subMatrix(0,gt-1,0,Nt-1),Gt=bt.subMatrix(0,gt-1,0,Nt-1),kt=It.subMatrix(0,gt-1,Nt,It.columns-1),ue=bt.subMatrix(0,gt-1,Nt,bt.columns-1),de=It.subMatrix(gt,It.rows-1,0,Nt-1),Ht=bt.subMatrix(gt,bt.rows-1,0,Nt-1),se=It.subMatrix(gt,It.rows-1,Nt,It.columns-1),ge=bt.subMatrix(gt,bt.rows-1,Nt,bt.columns-1),Ae=yt(I.add(Tt,se),I.add(Gt,ge),gt,Nt),Bt=yt(I.add(de,se),Gt,gt,Nt),Le=yt(Tt,I.sub(ue,ge),gt,Nt),Pe=yt(se,I.sub(Ht,Gt),gt,Nt),he=yt(I.add(Tt,kt),ge,gt,Nt),Ke=yt(I.sub(de,Tt),I.add(Gt,ue),gt,Nt),$e=yt(I.sub(kt,se),I.add(Ht,ge),gt,Nt),xe=I.add(Ae,Pe);xe.sub(he),xe.add($e);var Ge=I.add(Le,he),ke=I.add(Bt,Pe),Ue=I.sub(Ae,Bt);Ue.add(Le),Ue.add(Ke);var Se=I.zeros(2*xe.rows,2*xe.columns);return Se=Se.setSubMatrix(xe,0,0),Se=Se.setSubMatrix(Ge,xe.rows,0),Se=Se.setSubMatrix(ke,0,xe.columns),Se=Se.setSubMatrix(Ue,xe.rows,xe.columns),Se.subMatrix(0,zt-1,0,jt-1)}return yt(e,t,st,it)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(C(t)!=="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,l=t.max,R=l===void 0?1:l;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(R))throw new TypeError("max must be a number");if(n>=R)throw new RangeError("min must be smaller than max");for(var S=new xt(this.rows,this.columns),T=0;T<this.rows;T++){var st=this.getRow(T);st.length>0&&_(st,{min:n,max:R,output:st}),S.setRow(T,st)}return S}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(C(t)!=="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,l=t.max,R=l===void 0?1:l;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(R))throw new TypeError("max must be a number");if(n>=R)throw new RangeError("min must be smaller than max");for(var S=new xt(this.rows,this.columns),T=0;T<this.columns;T++){var st=this.getColumn(T);st.length&&_(st,{min:n,max:R,output:st}),S.setColumn(T,st)}return S}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var l=this.get(e,n),R=this.get(e,this.columns-1-n);this.set(e,n,R),this.set(e,this.columns-1-n,l)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var l=this.get(n,e),R=this.get(this.rows-1-n,e);this.set(n,e,R),this.set(this.rows-1-n,e,l)}return this}},{key:"kroneckerProduct",value:function(t){t=xt.checkMatrix(t);for(var e=this.rows,n=this.columns,l=t.rows,R=t.columns,S=new xt(e*l,n*R),T=0;T<e;T++)for(var st=0;st<n;st++)for(var it=0;it<l;it++)for(var yt=0;yt<R;yt++)S.set(l*T+it,R*st+yt,this.get(T,st)*t.get(it,yt));return S}},{key:"kroneckerSum",value:function(t){if(t=xt.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,n=t.rows,l=this.kroneckerProduct(xt.eye(n,n)),R=xt.eye(e,e).kroneckerProduct(t);return l.add(R)}},{key:"transpose",value:function(){for(var t=new xt(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yt,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yt,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,l){ft(this,t,e,n,l);for(var R=new xt(e-t+1,l-n+1),S=t;S<=e;S++)for(var T=n;T<=l;T++)R.set(S-t,T-n,this.get(S,T));return R}},{key:"subMatrixRow",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var l=new xt(t.length,n-e+1),R=0;R<t.length;R++)for(var S=e;S<=n;S++){if(t[R]<0||t[R]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[R]));l.set(R,S-e,this.get(t[R],S))}return l}},{key:"subMatrixColumn",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var l=new xt(n-e+1,t.length),R=0;R<t.length;R++)for(var S=e;S<=n;S++){if(t[R]<0||t[R]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[R]));l.set(S-e,R,this.get(S,t[R]))}return l}},{key:"setSubMatrix",value:function(t,e,n){if(t=xt.checkMatrix(t),t.isEmpty())return this;var l=e+t.rows-1,R=n+t.columns-1;ft(this,e,l,n,R);for(var S=0;S<t.rows;S++)for(var T=0;T<t.columns;T++)this.set(e+S,n+T,t.get(S,T));return this}},{key:"selection",value:function(t,e){J(this,t),q(this,e);for(var n=new xt(t.length,e.length),l=0;l<t.length;l++)for(var R=t[l],S=0;S<e.length;S++){var T=e[S];n.set(l,S,this.get(R,T))}return n}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){return this.constructor.copy(this,new xt(this.rows,this.columns))}},{key:"sum",value:function(t){switch(t){case"row":return mt(this);case"column":return ct(this);case void 0:return at(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return ut(this);case"column":return wt(this);case void 0:return Ot(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(var l=0;l<this.columns;l++)e[l]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(C(t)==="object"&&(e=t,t=void 0),C(e)!=="object")throw new TypeError("options must be an object");var n=e,l=n.unbiased,R=l===void 0?!0:l,S=n.mean,T=S===void 0?this.mean(t):S;if(typeof R!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!X.isAnyArray(T))throw new TypeError("mean must be an array");return et(this,R,T)}case"column":{if(!X.isAnyArray(T))throw new TypeError("mean must be an array");return dt(this,R,T)}case void 0:{if(typeof T!="number")throw new TypeError("mean must be a number");return ot(this,R,T)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){C(t)==="object"&&(e=t,t=void 0);var n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(var l=0;l<n.length;l++)n[l]=Math.sqrt(n[l]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(C(t)==="object"&&(e=t,t=void 0),C(e)!=="object")throw new TypeError("options must be an object");var n=e,l=n.center,R=l===void 0?this.mean(t):l;switch(t){case"row":{if(!X.isAnyArray(R))throw new TypeError("center must be an array");return pt(this,R),this}case"column":{if(!X.isAnyArray(R))throw new TypeError("center must be an array");return At(this,R),this}case void 0:{if(typeof R!="number")throw new TypeError("center must be a number");return Pt(this,R),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(C(t)==="object"&&(e=t,t=void 0),C(e)!=="object")throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":{if(n===void 0)n=Ct(this);else if(!X.isAnyArray(n))throw new TypeError("scale must be an array");return Mt(this,n),this}case"column":{if(n===void 0)n=Ut(this);else if(!X.isAnyArray(n))throw new TypeError("scale must be an array");return St(this,n),this}case void 0:{if(n===void 0)n=Kt(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return re(this,n),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return A(this,t)}},{key:M,value:function(){return this.entries()}},{key:"entries",value:z().mark(function u(){var t,e;return z().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:t=0;case 1:if(!(t<this.rows)){l.next=12;break}e=0;case 3:if(!(e<this.columns)){l.next=9;break}return l.next=6,[t,e,this.get(t,e)];case 6:e++,l.next=3;break;case 9:t++,l.next=1;break;case 12:case"end":return l.stop()}},u,this)})},{key:"values",value:z().mark(function u(){var t,e;return z().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:t=0;case 1:if(!(t<this.rows)){l.next=12;break}e=0;case 3:if(!(e<this.columns)){l.next=9;break}return l.next=6,this.get(t,e);case 6:e++,l.next=3;break;case 9:t++,l.next=1;break;case 12:case"end":return l.stop()}},u,this)})}],[{key:"from1DArray",value:function(t,e,n){var l=t*e;if(l!==n.length)throw new RangeError("data length does not match given dimensions");for(var R=new xt(t,e),S=0;S<t;S++)for(var T=0;T<e;T++)R.set(S,T,n[S*e+T]);return R}},{key:"rowVector",value:function(t){for(var e=new xt(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new xt(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new xt(t,e)}},{key:"ones",value:function(t,e){return new xt(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(C(n)!=="object")throw new TypeError("options must be an object");for(var l=n.random,R=l===void 0?Math.random:l,S=new xt(t,e),T=0;T<t;T++)for(var st=0;st<e;st++)S.set(T,st,R());return S}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(C(n)!=="object")throw new TypeError("options must be an object");var l=n.min,R=l===void 0?0:l,S=n.max,T=S===void 0?1e3:S,st=n.random,it=st===void 0?Math.random:st;if(!Number.isInteger(R))throw new TypeError("min must be an integer");if(!Number.isInteger(T))throw new TypeError("max must be an integer");if(R>=T)throw new RangeError("min must be smaller than max");for(var yt=T-R,It=new xt(t,e),bt=0;bt<t;bt++)for(var zt=0;zt<e;zt++){var jt=R+Math.round(it()*yt);It.set(bt,zt,jt)}return It}},{key:"eye",value:function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);for(var l=Math.min(t,e),R=this.zeros(t,e),S=0;S<l;S++)R.set(S,S,n);return R}},{key:"diag",value:function(t,e,n){var l=t.length;e===void 0&&(e=l),n===void 0&&(n=e);for(var R=Math.min(l,e,n),S=this.zeros(e,n),T=0;T<R;T++)S.set(T,T,t[T]);return S}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,l=t.columns,R=new xt(n,l),S=0;S<n;S++)for(var T=0;T<l;T++)R.set(S,T,Math.min(t.get(S,T),e.get(S,T)));return R}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,l=t.columns,R=new this(n,l),S=0;S<n;S++)for(var T=0;T<l;T++)R.set(S,T,Math.max(t.get(S,T),e.get(S,T)));return R}},{key:"checkMatrix",value:function(t){return I.isMatrix(t)?t:new xt(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}},{key:"copy",value:function(t,e){var n=W(t.entries()),l;try{for(n.s();!(l=n.n()).done;){var R=O(l.value,3),S=R[0],T=R[1],st=R[2];e.set(S,T,st)}}catch(it){n.e(it)}finally{n.f()}return e}}]),I}(Symbol.iterator);$t.prototype.klass="Matrix",typeof Symbol!="undefined"&&($t.prototype[Symbol.for("nodejs.util.inspect.custom")]=k);function Yt(M,I){return M-I}function qt(M){return M.every(function(I){return typeof I=="number"})}$t.random=$t.rand,$t.randomInt=$t.randInt,$t.diagonal=$t.diag,$t.prototype.diagonal=$t.prototype.diag,$t.identity=$t.eye,$t.prototype.negate=$t.prototype.neg,$t.prototype.tensorProduct=$t.prototype.kroneckerProduct;var Lt=new WeakSet,xt=function(M){c(u,M);var I=o(u);function u(t,e){var n;if(P(this,u),n=I.call(this),i(p(n),Lt),a(p(n),"data",void 0),u.isMatrix(t))h(p(n),Lt,Wt).call(p(n),t.rows,t.columns),u.copy(t,p(n));else if(Number.isInteger(t)&&t>=0)h(p(n),Lt,Wt).call(p(n),t,e);else if(X.isAnyArray(t)){var l=t;if(t=l.length,e=t?l[0].length:0,typeof e!="number")throw new TypeError("Data must be a 2D array with at least one element");n.data=[];for(var R=0;R<t;R++){if(l[R].length!==e)throw new RangeError("Inconsistent array dimensions");if(!qt(l[R]))throw new TypeError("Input data contains non-numeric values");n.data.push(Float64Array.from(l[R]))}n.rows=t,n.columns=e}else throw new TypeError("First argument must be a positive number or an array");return n}return U(u,[{key:"set",value:function(e,n,l){return this.data[e][n]=l,this}},{key:"get",value:function(e,n){return this.data[e][n]}},{key:"removeRow",value:function(e){return Z(this,e),this.data.splice(e,1),this.rows-=1,this}},{key:"addRow",value:function(e,n){return n===void 0&&(n=e,e=this.rows),Z(this,e,!0),n=Float64Array.from(Q(this,n)),this.data.splice(e,0,n),this.rows+=1,this}},{key:"removeColumn",value:function(e){G(this,e);for(var n=0;n<this.rows;n++){for(var l=new Float64Array(this.columns-1),R=0;R<e;R++)l[R]=this.data[n][R];for(var S=e+1;S<this.columns;S++)l[S-1]=this.data[n][S];this.data[n]=l}return this.columns-=1,this}},{key:"addColumn",value:function(e,n){typeof n=="undefined"&&(n=e,e=this.columns),G(this,e,!0),n=H(this,n);for(var l=0;l<this.rows;l++){for(var R=new Float64Array(this.columns+1),S=0;S<e;S++)R[S]=this.data[l][S];for(R[S++]=n[l];S<this.columns+1;S++)R[S]=this.data[l][S-1];this.data[l]=R}return this.columns+=1,this}}]),u}($t);function Wt(M,I){if(this.data=[],Number.isInteger(I)&&I>=0)for(var u=0;u<M;u++)this.data.push(new Float64Array(I));else throw new TypeError("nColumns must be a positive integer");this.rows=M,this.columns=I}F($t,xt);var Zt=new WeakMap,Xt=function(M){c(u,M);var I=o(u);function u(t){var e;if(P(this,u),e=I.call(this),b(p(e),Zt,{writable:!0,value:void 0}),xt.isMatrix(t)){if(!t.isSymmetric())throw new TypeError("not symmetric data");f(p(e),Zt,xt.copy(t,new xt(t.rows,t.rows)))}else if(Number.isInteger(t)&&t>=0)f(p(e),Zt,new xt(t,t));else if(f(p(e),Zt,new xt(t)),!e.isSymmetric())throw new TypeError("not symmetric data");return e}return U(u,[{key:"size",get:function(){return y(this,Zt).size}},{key:"rows",get:function(){return y(this,Zt).rows}},{key:"columns",get:function(){return y(this,Zt).columns}},{key:"diagonalSize",get:function(){return this.rows}},{key:"clone",value:function(){var e=new u(this.diagonalSize),n=W(this.upperRightEntries()),l;try{for(n.s();!(l=n.n()).done;){var R=O(l.value,3),S=R[0],T=R[1],st=R[2];e.set(S,T,st)}}catch(it){n.e(it)}finally{n.f()}return e}},{key:"toMatrix",value:function(){return new xt(this)}},{key:"get",value:function(e,n){return y(this,Zt).get(e,n)}},{key:"set",value:function(e,n,l){return y(this,Zt).set(e,n,l),y(this,Zt).set(n,e,l),this}},{key:"removeCross",value:function(e){return y(this,Zt).removeRow(e),y(this,Zt).removeColumn(e),this}},{key:"addCross",value:function(e,n){n===void 0&&(n=e,e=this.diagonalSize);var l=n.slice();return l.splice(e,1),y(this,Zt).addRow(e,l),y(this,Zt).addColumn(e,n),this}},{key:"applyMask",value:function(e){if(e.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");var n=[],l=W(e.entries()),R;try{for(l.s();!(R=l.n()).done;){var S=O(R.value,2),T=S[0],st=S[1];st||n.push(T)}}catch(bt){l.e(bt)}finally{l.f()}n.reverse();for(var it=0,yt=n;it<yt.length;it++){var It=yt[it];this.removeCross(It)}return this}},{key:"toCompact",value:function(){for(var e=this.diagonalSize,n=new Array(e*(e+1)/2),l=0,R=0,S=0;S<n.length;S++)n[S]=this.get(R,l),++l>=e&&(l=++R);return n}},{key:"upperRightEntries",value:z().mark(function t(){var e,n,l;return z().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:e=0,n=0;case 1:if(!(e<this.diagonalSize)){S.next=9;break}return l=this.get(e,n),S.next=5,[e,n,l];case 5:++n>=this.diagonalSize&&(n=++e);case 6:S.next=1;break;case 9:case"end":return S.stop()}},t,this)})},{key:"upperRightValues",value:z().mark(function t(){var e,n,l;return z().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:e=0,n=0;case 1:if(!(e<this.diagonalSize)){S.next=9;break}return l=this.get(e,n),S.next=5,l;case 5:++n>=this.diagonalSize&&(n=++e);case 6:S.next=1;break;case 9:case"end":return S.stop()}},t,this)})}],[{key:"isSymmetricMatrix",value:function(e){return xt.isMatrix(e)&&e.klassType==="SymmetricMatrix"}},{key:"zeros",value:function(e){return new this(e)}},{key:"ones",value:function(e){return new this(e).fill(1)}},{key:"fromCompact",value:function(e){var n=e.length,l=(Math.sqrt(8*n+1)-1)/2;if(!Number.isInteger(l))throw new TypeError("This array is not a compact representation of a Symmetric Matrix, ".concat(JSON.stringify(e)));for(var R=new u(l),S=0,T=0,st=0;st<n;st++)R.set(S,T,e[st]),++S>=l&&(S=++T);return R}}]),u}($t);Xt.prototype.klassType="SymmetricMatrix";var Ft=function(M){c(u,M);var I=o(u);function u(t){var e;if(P(this,u),e=I.call(this,t),!e.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix");return e}return U(u,[{key:"set",value:function(e,n,l){return e===n&&(l=0),m(v(u.prototype),"set",this).call(this,e,n,l)}},{key:"addCross",value:function(e,n){return n===void 0&&(n=e,e=this.diagonalSize),n=n.slice(),n[e]=0,m(v(u.prototype),"addCross",this).call(this,e,n)}},{key:"toSymmetricMatrix",value:function(){return new Xt(this)}},{key:"clone",value:function(){var e=new u(this.diagonalSize),n=W(this.upperRightEntries()),l;try{for(n.s();!(l=n.n()).done;){var R=O(l.value,3),S=R[0],T=R[1],st=R[2];S!==T&&e.set(S,T,st)}}catch(it){n.e(it)}finally{n.f()}return e}},{key:"toCompact",value:function(){for(var e=this.diagonalSize,n=(e-1)*e/2,l=new Array(n),R=1,S=0,T=0;T<l.length;T++)l[T]=this.get(S,R),++R>=e&&(R=++S+1);return l}}],[{key:"isDistanceMatrix",value:function(e){return Xt.isSymmetricMatrix(e)&&e.klassSubType==="DistanceMatrix"}},{key:"fromCompact",value:function(e){var n=e.length;if(n===0)return new this(0);var l=(Math.sqrt(8*n+1)+1)/2;if(!Number.isInteger(l))throw new TypeError("This array is not a compact representation of a DistanceMatrix, ".concat(JSON.stringify(e)));for(var R=new this(l),S=1,T=0,st=0;st<n;st++)R.set(S,T,e[st]),++S>=l&&(S=++T+1);return R}}]),u}(Xt);Ft.prototype.klassSubType="DistanceMatrix";var ae=function(M){c(u,M);var I=o(u);function u(t,e,n){var l;return P(this,u),l=I.call(this),l.matrix=t,l.rows=e,l.columns=n,l}return U(u)}($t),Ne=function(M){c(u,M);var I=o(u);function u(t,e){var n;return P(this,u),G(t,e),n=I.call(this,t,t.rows,1),n.column=e,n}return U(u,[{key:"set",value:function(e,n,l){return this.matrix.set(e,this.column,l),this}},{key:"get",value:function(e){return this.matrix.get(e,this.column)}}]),u}(ae),Oe=function(M){c(u,M);var I=o(u);function u(t,e){var n;return P(this,u),q(t,e),n=I.call(this,t,t.rows,e.length),n.columnIndices=e,n}return U(u,[{key:"set",value:function(e,n,l){return this.matrix.set(e,this.columnIndices[n],l),this}},{key:"get",value:function(e,n){return this.matrix.get(e,this.columnIndices[n])}}]),u}(ae),me=function(M){c(u,M);var I=o(u);function u(t){return P(this,u),I.call(this,t,t.rows,t.columns)}return U(u,[{key:"set",value:function(e,n,l){return this.matrix.set(e,this.columns-n-1,l),this}},{key:"get",value:function(e,n){return this.matrix.get(e,this.columns-n-1)}}]),u}(ae),we=function(M){c(u,M);var I=o(u);function u(t){return P(this,u),I.call(this,t,t.rows,t.columns)}return U(u,[{key:"set",value:function(e,n,l){return this.matrix.set(this.rows-e-1,n,l),this}},{key:"get",value:function(e,n){return this.matrix.get(this.rows-e-1,n)}}]),u}(ae),fe=function(M){c(u,M);var I=o(u);function u(t,e){var n;return P(this,u),Z(t,e),n=I.call(this,t,1,t.columns),n.row=e,n}return U(u,[{key:"set",value:function(e,n,l){return this.matrix.set(this.row,n,l),this}},{key:"get",value:function(e,n){return this.matrix.get(this.row,n)}}]),u}(ae),Be=function(M){c(u,M);var I=o(u);function u(t,e){var n;return P(this,u),J(t,e),n=I.call(this,t,e.length,t.columns),n.rowIndices=e,n}return U(u,[{key:"set",value:function(e,n,l){return this.matrix.set(this.rowIndices[e],n,l),this}},{key:"get",value:function(e,n){return this.matrix.get(this.rowIndices[e],n)}}]),u}(ae),Te=function(M){c(u,M);var I=o(u);function u(t,e,n){var l;return P(this,u),J(t,e),q(t,n),l=I.call(this,t,e.length,n.length),l.rowIndices=e,l.columnIndices=n,l}return U(u,[{key:"set",value:function(e,n,l){return this.matrix.set(this.rowIndices[e],this.columnIndices[n],l),this}},{key:"get",value:function(e,n){return this.matrix.get(this.rowIndices[e],this.columnIndices[n])}}]),u}(ae),Fe=function(M){c(u,M);var I=o(u);function u(t,e,n,l,R){var S;return P(this,u),ft(t,e,n,l,R),S=I.call(this,t,n-e+1,R-l+1),S.startRow=e,S.startColumn=l,S}return U(u,[{key:"set",value:function(e,n,l){return this.matrix.set(this.startRow+e,this.startColumn+n,l),this}},{key:"get",value:function(e,n){return this.matrix.get(this.startRow+e,this.startColumn+n)}}]),u}(ae),Bn=function(M){c(u,M);var I=o(u);function u(t){return P(this,u),I.call(this,t,t.columns,t.rows)}return U(u,[{key:"set",value:function(e,n,l){return this.matrix.set(n,e,l),this}},{key:"get",value:function(e,n){return this.matrix.get(n,e)}}]),u}(ae),Rn=function(M){c(u,M);var I=o(u);function u(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};P(this,u);var l=n.rows,R=l===void 0?1:l;if(t.length%R!==0)throw new Error("the data length is not divisible by the number of rows");return e=I.call(this),e.rows=R,e.columns=t.length/R,e.data=t,e}return U(u,[{key:"set",value:function(e,n,l){var R=this._calculateIndex(e,n);return this.data[R]=l,this}},{key:"get",value:function(e,n){var l=this._calculateIndex(e,n);return this.data[l]}},{key:"_calculateIndex",value:function(e,n){return e*this.columns+n}}]),u}($t),De=function(M){c(u,M);var I=o(u);function u(t){var e;return P(this,u),e=I.call(this),e.data=t,e.rows=t.length,e.columns=t[0].length,e}return U(u,[{key:"set",value:function(e,n,l){return this.data[e][n]=l,this}},{key:"get",value:function(e,n){return this.data[e][n]}}]),u}($t);function In(M,I){if(X.isAnyArray(M))return M[0]&&X.isAnyArray(M[0])?new De(M):new Rn(M,I);throw new Error("the argument is not an array")}var sn=function(){function M(I){P(this,M),I=De.checkMatrix(I);var u=I.clone(),t=u.rows,e=u.columns,n=new Float64Array(t),l=1,R,S,T,st,it,yt,It,bt,zt;for(R=0;R<t;R++)n[R]=R;for(bt=new Float64Array(t),S=0;S<e;S++){for(R=0;R<t;R++)bt[R]=u.get(R,S);for(R=0;R<t;R++){for(zt=Math.min(R,S),it=0,T=0;T<zt;T++)it+=u.get(R,T)*bt[T];bt[R]-=it,u.set(R,S,bt[R])}for(st=S,R=S+1;R<t;R++)Math.abs(bt[R])>Math.abs(bt[st])&&(st=R);if(st!==S){for(T=0;T<e;T++)yt=u.get(st,T),u.set(st,T,u.get(S,T)),u.set(S,T,yt);It=n[st],n[st]=n[S],n[S]=It,l=-l}if(S<t&&u.get(S,S)!==0)for(R=S+1;R<t;R++)u.set(R,S,u.get(R,S)/u.get(S,S))}this.LU=u,this.pivotVector=n,this.pivotSign=l}return U(M,[{key:"isSingular",value:function(){for(var u=this.LU,t=u.columns,e=0;e<t;e++)if(u.get(e,e)===0)return!0;return!1}},{key:"solve",value:function(u){u=xt.checkMatrix(u);var t=this.LU,e=t.rows;if(e!==u.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var n=u.columns,l=u.subMatrixRow(this.pivotVector,0,n-1),R=t.columns,S,T,st;for(st=0;st<R;st++)for(S=st+1;S<R;S++)for(T=0;T<n;T++)l.set(S,T,l.get(S,T)-l.get(st,T)*t.get(S,st));for(st=R-1;st>=0;st--){for(T=0;T<n;T++)l.set(st,T,l.get(st,T)/t.get(st,st));for(S=0;S<st;S++)for(T=0;T<n;T++)l.set(S,T,l.get(S,T)-l.get(st,T)*t.get(S,st))}return l}},{key:"determinant",get:function(){var u=this.LU;if(!u.isSquare())throw new Error("Matrix must be square");for(var t=this.pivotSign,e=u.columns,n=0;n<e;n++)t*=u.get(n,n);return t}},{key:"lowerTriangularMatrix",get:function(){for(var u=this.LU,t=u.rows,e=u.columns,n=new xt(t,e),l=0;l<t;l++)for(var R=0;R<e;R++)l>R?n.set(l,R,u.get(l,R)):l===R?n.set(l,R,1):n.set(l,R,0);return n}},{key:"upperTriangularMatrix",get:function(){for(var u=this.LU,t=u.rows,e=u.columns,n=new xt(t,e),l=0;l<t;l++)for(var R=0;R<e;R++)l<=R?n.set(l,R,u.get(l,R)):n.set(l,R,0);return n}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),M}();function We(M,I){var u=0;return Math.abs(M)>Math.abs(I)?(u=I/M,Math.abs(M)*Math.sqrt(1+u*u)):I!==0?(u=M/I,Math.abs(I)*Math.sqrt(1+u*u)):0}var bn=function(){function M(I){P(this,M),I=De.checkMatrix(I);var u=I.clone(),t=I.rows,e=I.columns,n=new Float64Array(e),l,R,S,T;for(S=0;S<e;S++){var st=0;for(l=S;l<t;l++)st=We(st,u.get(l,S));if(st!==0){for(u.get(S,S)<0&&(st=-st),l=S;l<t;l++)u.set(l,S,u.get(l,S)/st);for(u.set(S,S,u.get(S,S)+1),R=S+1;R<e;R++){for(T=0,l=S;l<t;l++)T+=u.get(l,S)*u.get(l,R);for(T=-T/u.get(S,S),l=S;l<t;l++)u.set(l,R,u.get(l,R)+T*u.get(l,S))}}n[S]=-st}this.QR=u,this.Rdiag=n}return U(M,[{key:"solve",value:function(u){u=xt.checkMatrix(u);var t=this.QR,e=t.rows;if(u.rows!==e)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var n=u.columns,l=u.clone(),R=t.columns,S,T,st,it;for(st=0;st<R;st++)for(T=0;T<n;T++){for(it=0,S=st;S<e;S++)it+=t.get(S,st)*l.get(S,T);for(it=-it/t.get(st,st),S=st;S<e;S++)l.set(S,T,l.get(S,T)+it*t.get(S,st))}for(st=R-1;st>=0;st--){for(T=0;T<n;T++)l.set(st,T,l.get(st,T)/this.Rdiag[st]);for(S=0;S<st;S++)for(T=0;T<n;T++)l.set(S,T,l.get(S,T)-l.get(st,T)*t.get(S,st))}return l.subMatrix(0,R-1,0,n-1)}},{key:"isFullRank",value:function(){for(var u=this.QR.columns,t=0;t<u;t++)if(this.Rdiag[t]===0)return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var u=this.QR,t=u.columns,e=new xt(t,t),n,l;for(n=0;n<t;n++)for(l=0;l<t;l++)n<l?e.set(n,l,u.get(n,l)):n===l?e.set(n,l,this.Rdiag[n]):e.set(n,l,0);return e}},{key:"orthogonalMatrix",get:function(){var u=this.QR,t=u.rows,e=u.columns,n=new xt(t,e),l,R,S,T;for(S=e-1;S>=0;S--){for(l=0;l<t;l++)n.set(l,S,0);for(n.set(S,S,1),R=S;R<e;R++)if(u.get(S,S)!==0){for(T=0,l=S;l<t;l++)T+=u.get(l,S)*n.get(l,R);for(T=-T/u.get(S,S),l=S;l<t;l++)n.set(l,R,n.get(l,R)+T*u.get(l,S))}}return n}}]),M}(),on=function(){function M(I){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,M),I=De.checkMatrix(I),I.isEmpty())throw new Error("Matrix must be non-empty");var t=I.rows,e=I.columns,n=u.computeLeftSingularVectors,l=n===void 0?!0:n,R=u.computeRightSingularVectors,S=R===void 0?!0:R,T=u.autoTranspose,st=T===void 0?!1:T,it=!!l,yt=!!S,It=!1,bt;if(t<e)if(!st)bt=I.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{bt=I.transpose(),t=bt.rows,e=bt.columns,It=!0;var zt=it;it=yt,yt=zt}else bt=I.clone();for(var jt=Math.min(t,e),gt=Math.min(t+1,e),Nt=new Float64Array(gt),Tt=new xt(t,jt),Gt=new xt(e,e),kt=new Float64Array(e),ue=new Float64Array(t),de=new Float64Array(gt),Ht=0;Ht<gt;Ht++)de[Ht]=Ht;for(var se=Math.min(t-1,e),ge=Math.max(0,Math.min(e-2,t)),Ae=Math.max(se,ge),Bt=0;Bt<Ae;Bt++){if(Bt<se){Nt[Bt]=0;for(var Le=Bt;Le<t;Le++)Nt[Bt]=We(Nt[Bt],bt.get(Le,Bt));if(Nt[Bt]!==0){bt.get(Bt,Bt)<0&&(Nt[Bt]=-Nt[Bt]);for(var Pe=Bt;Pe<t;Pe++)bt.set(Pe,Bt,bt.get(Pe,Bt)/Nt[Bt]);bt.set(Bt,Bt,bt.get(Bt,Bt)+1)}Nt[Bt]=-Nt[Bt]}for(var he=Bt+1;he<e;he++){if(Bt<se&&Nt[Bt]!==0){for(var Ke=0,$e=Bt;$e<t;$e++)Ke+=bt.get($e,Bt)*bt.get($e,he);Ke=-Ke/bt.get(Bt,Bt);for(var xe=Bt;xe<t;xe++)bt.set(xe,he,bt.get(xe,he)+Ke*bt.get(xe,Bt))}kt[he]=bt.get(Bt,he)}if(it&&Bt<se)for(var Ge=Bt;Ge<t;Ge++)Tt.set(Ge,Bt,bt.get(Ge,Bt));if(Bt<ge){kt[Bt]=0;for(var ke=Bt+1;ke<e;ke++)kt[Bt]=We(kt[Bt],kt[ke]);if(kt[Bt]!==0){kt[Bt+1]<0&&(kt[Bt]=0-kt[Bt]);for(var Ue=Bt+1;Ue<e;Ue++)kt[Ue]/=kt[Bt];kt[Bt+1]+=1}if(kt[Bt]=-kt[Bt],Bt+1<t&&kt[Bt]!==0){for(var Se=Bt+1;Se<t;Se++)ue[Se]=0;for(var qe=Bt+1;qe<t;qe++)for(var _e=Bt+1;_e<e;_e++)ue[qe]+=kt[_e]*bt.get(qe,_e);for(var tn=Bt+1;tn<e;tn++)for(var On=-kt[tn]/kt[Bt+1],en=Bt+1;en<t;en++)bt.set(en,tn,bt.get(en,tn)+On*ue[en])}if(yt)for(var an=Bt+1;an<e;an++)Gt.set(an,Bt,kt[an])}}var ce=Math.min(e,t+1);if(se<e&&(Nt[se]=bt.get(se,se)),t<ce&&(Nt[ce-1]=0),ge+1<ce&&(kt[ge]=bt.get(ge,ce-1)),kt[ce-1]=0,it){for(var nn=se;nn<jt;nn++){for(var vn=0;vn<t;vn++)Tt.set(vn,nn,0);Tt.set(nn,nn,1)}for(var le=se-1;le>=0;le--)if(Nt[le]!==0){for(var Xe=le+1;Xe<jt;Xe++){for(var Je=0,un=le;un<t;un++)Je+=Tt.get(un,le)*Tt.get(un,Xe);Je=-Je/Tt.get(le,le);for(var rn=le;rn<t;rn++)Tt.set(rn,Xe,Tt.get(rn,Xe)+Je*Tt.get(rn,le))}for(var dn=le;dn<t;dn++)Tt.set(dn,le,-Tt.get(dn,le));Tt.set(le,le,1+Tt.get(le,le));for(var pn=0;pn<le-1;pn++)Tt.set(pn,le,0)}else{for(var d=0;d<t;d++)Tt.set(d,le,0);Tt.set(le,le,1)}}if(yt)for(var g=e-1;g>=0;g--){if(g<ge&&kt[g]!==0)for(var N=g+1;N<e;N++){for(var D=0,B=g+1;B<e;B++)D+=Gt.get(B,g)*Gt.get(B,N);D=-D/Gt.get(g+1,g);for(var K=g+1;K<e;K++)Gt.set(K,N,Gt.get(K,N)+D*Gt.get(K,g))}for(var tt=0;tt<e;tt++)Gt.set(tt,g,0);Gt.set(g,g,1)}for(var nt=ce-1,rt=Number.EPSILON;ce>0;){var j=void 0,lt=void 0;for(j=ce-2;j>=-1&&j!==-1;j--){var Rt=Number.MIN_VALUE+rt*Math.abs(Nt[j]+Math.abs(Nt[j+1]));if(Math.abs(kt[j])<=Rt||Number.isNaN(kt[j])){kt[j]=0;break}}if(j===ce-2)lt=4;else{var Dt=void 0;for(Dt=ce-1;Dt>=j&&Dt!==j;Dt--){var Vt=(Dt!==ce?Math.abs(kt[Dt]):0)+(Dt!==j+1?Math.abs(kt[Dt-1]):0);if(Math.abs(Nt[Dt])<=rt*Vt){Nt[Dt]=0;break}}Dt===j?lt=3:Dt===ce-1?lt=1:(lt=2,j=Dt)}switch(j++,lt){case 1:{var Jt=kt[ce-2];kt[ce-2]=0;for(var Qt=ce-2;Qt>=j;Qt--){var te=We(Nt[Qt],Jt),_t=Nt[Qt]/te,ie=Jt/te;if(Nt[Qt]=te,Qt!==j&&(Jt=-ie*kt[Qt-1],kt[Qt-1]=_t*kt[Qt-1]),yt)for(var ve=0;ve<e;ve++)te=_t*Gt.get(ve,Qt)+ie*Gt.get(ve,ce-1),Gt.set(ve,ce-1,-ie*Gt.get(ve,Qt)+_t*Gt.get(ve,ce-1)),Gt.set(ve,Qt,te)}break}case 2:{var pe=kt[j-1];kt[j-1]=0;for(var ze=j;ze<ce;ze++){var cn=We(Nt[ze],pe),yn=Nt[ze]/cn,wn=pe/cn;if(Nt[ze]=cn,pe=-wn*kt[ze],kt[ze]=yn*kt[ze],it)for(var Qe=0;Qe<t;Qe++)cn=yn*Tt.get(Qe,ze)+wn*Tt.get(Qe,j-1),Tt.set(Qe,j-1,-wn*Tt.get(Qe,ze)+yn*Tt.get(Qe,j-1)),Tt.set(Qe,ze,cn)}break}case 3:{var fn=Math.max(Math.abs(Nt[ce-1]),Math.abs(Nt[ce-2]),Math.abs(kt[ce-2]),Math.abs(Nt[j]),Math.abs(kt[j])),hn=Nt[ce-1]/fn,Sn=Nt[ce-2]/fn,Ze=kt[ce-2]/fn,ln=Nt[j]/fn,An=kt[j]/fn,He=((Sn+hn)*(Sn-hn)+Ze*Ze)/2,Pn=hn*Ze*(hn*Ze),oe=0;(He!==0||Pn!==0)&&(He<0?oe=0-Math.sqrt(He*He+Pn):oe=Math.sqrt(He*He+Pn),oe=Pn/(He+oe));for(var Me=(ln+hn)*(ln-hn)+oe,Ie=ln*An,ee=j;ee<ce-1;ee++){var ye=We(Me,Ie);ye===0&&(ye=Number.MIN_VALUE);var Ce=Me/ye,ne=Ie/ye;if(ee!==j&&(kt[ee-1]=ye),Me=Ce*Nt[ee]+ne*kt[ee],kt[ee]=Ce*kt[ee]-ne*Nt[ee],Ie=ne*Nt[ee+1],Nt[ee+1]=Ce*Nt[ee+1],yt)for(var be=0;be<e;be++)ye=Ce*Gt.get(be,ee)+ne*Gt.get(be,ee+1),Gt.set(be,ee+1,-ne*Gt.get(be,ee)+Ce*Gt.get(be,ee+1)),Gt.set(be,ee,ye);if(ye=We(Me,Ie),ye===0&&(ye=Number.MIN_VALUE),Ce=Me/ye,ne=Ie/ye,Nt[ee]=ye,Me=Ce*kt[ee]+ne*Nt[ee+1],Nt[ee+1]=-ne*kt[ee]+Ce*Nt[ee+1],Ie=ne*kt[ee+1],kt[ee+1]=Ce*kt[ee+1],it&&ee<t-1)for(var Re=0;Re<t;Re++)ye=Ce*Tt.get(Re,ee)+ne*Tt.get(Re,ee+1),Tt.set(Re,ee+1,-ne*Tt.get(Re,ee)+Ce*Tt.get(Re,ee+1)),Tt.set(Re,ee,ye)}kt[ce-2]=Me;break}case 4:{if(Nt[j]<=0&&(Nt[j]=Nt[j]<0?-Nt[j]:0,yt))for(var je=0;je<=nt;je++)Gt.set(je,j,-Gt.get(je,j));for(;j<nt&&!(Nt[j]>=Nt[j+1]);){var Ye=Nt[j];if(Nt[j]=Nt[j+1],Nt[j+1]=Ye,yt&&j<e-1)for(var Ve=0;Ve<e;Ve++)Ye=Gt.get(Ve,j+1),Gt.set(Ve,j+1,Gt.get(Ve,j)),Gt.set(Ve,j,Ye);if(it&&j<t-1)for(var En=0;En<t;En++)Ye=Tt.get(En,j+1),Tt.set(En,j+1,Tt.get(En,j)),Tt.set(En,j,Ye);j++}ce--;break}}}if(It){var Jn=Gt;Gt=Tt,Tt=Jn}this.m=t,this.n=e,this.s=Nt,this.U=Tt,this.V=Gt}return U(M,[{key:"solve",value:function(u){for(var t=u,e=this.threshold,n=this.s.length,l=xt.zeros(n,n),R=0;R<n;R++)Math.abs(this.s[R])<=e?l.set(R,R,0):l.set(R,R,1/this.s[R]);for(var S=this.U,T=this.rightSingularVectors,st=T.mmul(l),it=T.rows,yt=S.rows,It=xt.zeros(it,yt),bt=0;bt<it;bt++)for(var zt=0;zt<yt;zt++){for(var jt=0,gt=0;gt<n;gt++)jt+=st.get(bt,gt)*S.get(zt,gt);It.set(bt,zt,jt)}return It.mmul(t)}},{key:"solveForDiagonal",value:function(u){return this.solve(xt.diag(u))}},{key:"inverse",value:function(){for(var u=this.V,t=this.threshold,e=u.rows,n=u.columns,l=new xt(e,this.s.length),R=0;R<e;R++)for(var S=0;S<n;S++)Math.abs(this.s[S])>t&&l.set(R,S,u.get(R,S)/this.s[S]);for(var T=this.U,st=T.rows,it=T.columns,yt=new xt(e,st),It=0;It<e;It++)for(var bt=0;bt<st;bt++){for(var zt=0,jt=0;jt<it;jt++)zt+=l.get(It,jt)*T.get(bt,jt);yt.set(It,bt,zt)}return yt}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var u=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,e=this.s,n=0,l=e.length;n<l;n++)e[n]>u&&t++;return t}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return xt.diag(this.s)}}]),M}();function Un(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return M=De.checkMatrix(M),I?new on(M).inverse():Nn(M,xt.eye(M.rows))}function Nn(M,I){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return M=De.checkMatrix(M),I=De.checkMatrix(I),u?new on(M).solve(I):M.isSquare()?new sn(M).solve(I):new bn(M).solve(I)}function gn(M){if(M=xt.checkMatrix(M),M.isSquare()){if(M.columns===0)return 1;var I,u,t,e;if(M.columns===2)return I=M.get(0,0),u=M.get(0,1),t=M.get(1,0),e=M.get(1,1),I*e-u*t;if(M.columns===3){var n,l,R;return n=new Te(M,[1,2],[1,2]),l=new Te(M,[1,2],[0,2]),R=new Te(M,[1,2],[0,1]),I=M.get(0,0),u=M.get(0,1),t=M.get(0,2),I*gn(n)-u*gn(l)+t*gn(R)}else return new sn(M).determinant}else throw Error("determinant can only be calculated for a square matrix")}function Vn(M,I){for(var u=[],t=0;t<M;t++)t!==I&&u.push(t);return u}function Tn(M,I,u){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-9,e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-9;if(M>e)return new Array(I.rows+1).fill(0);for(var n=I.addRow(u,[0]),l=0;l<n.rows;l++)Math.abs(n.get(l,0))<t&&n.set(l,0,0);return n.to1DArray()}function Wn(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=I.thresholdValue,t=u===void 0?1e-9:u,e=I.thresholdError,n=e===void 0?1e-9:e;M=xt.checkMatrix(M);for(var l=M.rows,R=new xt(l,l),S=0;S<l;S++){var T=xt.columnVector(M.getRow(S)),st=M.subMatrixRow(Vn(l,S)).transpose(),it=new on(st),yt=it.solve(T),It=xt.sub(T,st.mmul(yt)).abs().max();R.setRow(S,Tn(It,yt,S,t,n))}return R}function Dn(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.EPSILON;if(M=xt.checkMatrix(M),M.isEmpty())return M.transpose();for(var u=new on(M,{autoTranspose:!0}),t=u.leftSingularVectors,e=u.rightSingularVectors,n=u.diagonal,l=0;l<n.length;l++)Math.abs(n[l])>I?n[l]=1/n[l]:n[l]=0;return e.mmul(xt.diag(n).mmul(t.transpose()))}function Ln(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M=new xt(M);var t=!1;if(C(I)==="object"&&!xt.isMatrix(I)&&!X.isAnyArray(I)?(u=I,I=M,t=!0):I=new xt(I),M.rows!==I.rows)throw new TypeError("Both matrices must have the same number of rows");var e=u,n=e.center,l=n===void 0?!0:n;l&&(M=M.center("column"),t||(I=I.center("column")));for(var R=M.transpose().mmul(I),S=0;S<R.rows;S++)for(var T=0;T<R.columns;T++)R.set(S,T,R.get(S,T)*(1/(M.rows-1)));return R}function Gn(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};M=new xt(M);var t=!1;if(C(I)==="object"&&!xt.isMatrix(I)&&!X.isAnyArray(I)?(u=I,I=M,t=!0):I=new xt(I),M.rows!==I.rows)throw new TypeError("Both matrices must have the same number of rows");var e=u,n=e.center,l=n===void 0?!0:n,R=e.scale,S=R===void 0?!0:R;l&&(M.center("column"),t||I.center("column")),S&&(M.scale("column"),t||I.scale("column"));for(var T=M.standardDeviation("column",{unbiased:!0}),st=t?T:I.standardDeviation("column",{unbiased:!0}),it=M.transpose().mmul(I),yt=0;yt<it.rows;yt++)for(var It=0;It<it.columns;It++)it.set(yt,It,it.get(yt,It)*(1/(T[yt]*st[It]))*(1/(M.rows-1)));return it}var Mn=function(){function M(I){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};P(this,M);var t=u.assumeSymmetric,e=t===void 0?!1:t;if(I=De.checkMatrix(I),!I.isSquare())throw new Error("Matrix is not a square matrix");if(I.isEmpty())throw new Error("Matrix must be non-empty");var n=I.columns,l=new xt(n,n),R=new Float64Array(n),S=new Float64Array(n),T=I,st,it,yt=!1;if(e?yt=!0:yt=I.isSymmetric(),yt){for(st=0;st<n;st++)for(it=0;it<n;it++)l.set(st,it,T.get(st,it));Cn(n,S,R,l),kn(n,S,R,l)}else{var It=new xt(n,n),bt=new Float64Array(n);for(it=0;it<n;it++)for(st=0;st<n;st++)It.set(st,it,T.get(st,it));$n(n,It,bt,l),Zn(n,S,R,l,It)}this.n=n,this.e=S,this.d=R,this.V=l}return U(M,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var u=this.n,t=this.e,e=this.d,n=new xt(u,u),l,R;for(l=0;l<u;l++){for(R=0;R<u;R++)n.set(l,R,0);n.set(l,l,e[l]),t[l]>0?n.set(l,l+1,t[l]):t[l]<0&&n.set(l,l-1,t[l])}return n}}]),M}();function Cn(M,I,u,t){var e,n,l,R,S,T,st,it;for(S=0;S<M;S++)u[S]=t.get(M-1,S);for(R=M-1;R>0;R--){for(it=0,l=0,T=0;T<R;T++)it=it+Math.abs(u[T]);if(it===0)for(I[R]=u[R-1],S=0;S<R;S++)u[S]=t.get(R-1,S),t.set(R,S,0),t.set(S,R,0);else{for(T=0;T<R;T++)u[T]/=it,l+=u[T]*u[T];for(e=u[R-1],n=Math.sqrt(l),e>0&&(n=-n),I[R]=it*n,l=l-e*n,u[R-1]=e-n,S=0;S<R;S++)I[S]=0;for(S=0;S<R;S++){for(e=u[S],t.set(S,R,e),n=I[S]+t.get(S,S)*e,T=S+1;T<=R-1;T++)n+=t.get(T,S)*u[T],I[T]+=t.get(T,S)*e;I[S]=n}for(e=0,S=0;S<R;S++)I[S]/=l,e+=I[S]*u[S];for(st=e/(l+l),S=0;S<R;S++)I[S]-=st*u[S];for(S=0;S<R;S++){for(e=u[S],n=I[S],T=S;T<=R-1;T++)t.set(T,S,t.get(T,S)-(e*I[T]+n*u[T]));u[S]=t.get(R-1,S),t.set(R,S,0)}}u[R]=l}for(R=0;R<M-1;R++){if(t.set(M-1,R,t.get(R,R)),t.set(R,R,1),l=u[R+1],l!==0){for(T=0;T<=R;T++)u[T]=t.get(T,R+1)/l;for(S=0;S<=R;S++){for(n=0,T=0;T<=R;T++)n+=t.get(T,R+1)*t.get(T,S);for(T=0;T<=R;T++)t.set(T,S,t.get(T,S)-n*u[T])}}for(T=0;T<=R;T++)t.set(T,R+1,0)}for(S=0;S<M;S++)u[S]=t.get(M-1,S),t.set(M-1,S,0);t.set(M-1,M-1,1),I[0]=0}function kn(M,I,u,t){var e,n,l,R,S,T,st,it,yt,It,bt,zt,jt,gt,Nt,Tt;for(l=1;l<M;l++)I[l-1]=I[l];I[M-1]=0;var Gt=0,kt=0,ue=Number.EPSILON;for(T=0;T<M;T++){for(kt=Math.max(kt,Math.abs(u[T])+Math.abs(I[T])),st=T;st<M&&!(Math.abs(I[st])<=ue*kt);)st++;if(st>T)do{for(e=u[T],it=(u[T+1]-e)/(2*I[T]),yt=We(it,1),it<0&&(yt=-yt),u[T]=I[T]/(it+yt),u[T+1]=I[T]*(it+yt),It=u[T+1],n=e-u[T],l=T+2;l<M;l++)u[l]-=n;for(Gt=Gt+n,it=u[st],bt=1,zt=bt,jt=bt,gt=I[T+1],Nt=0,Tt=0,l=st-1;l>=T;l--)for(jt=zt,zt=bt,Tt=Nt,e=bt*I[l],n=bt*it,yt=We(it,I[l]),I[l+1]=Nt*yt,Nt=I[l]/yt,bt=it/yt,it=bt*u[l]-Nt*e,u[l+1]=n+Nt*(bt*e+Nt*u[l]),S=0;S<M;S++)n=t.get(S,l+1),t.set(S,l+1,Nt*t.get(S,l)+bt*n),t.set(S,l,bt*t.get(S,l)-Nt*n);it=-Nt*Tt*jt*gt*I[T]/It,I[T]=Nt*it,u[T]=bt*it}while(Math.abs(I[T])>ue*kt);u[T]=u[T]+Gt,I[T]=0}for(l=0;l<M-1;l++){for(S=l,it=u[l],R=l+1;R<M;R++)u[R]<it&&(S=R,it=u[R]);if(S!==l)for(u[S]=u[l],u[l]=it,R=0;R<M;R++)it=t.get(R,l),t.set(R,l,t.get(R,S)),t.set(R,S,it)}}function $n(M,I,u,t){var e=0,n=M-1,l,R,S,T,st,it,yt;for(it=e+1;it<=n-1;it++){for(yt=0,T=it;T<=n;T++)yt=yt+Math.abs(I.get(T,it-1));if(yt!==0){for(S=0,T=n;T>=it;T--)u[T]=I.get(T,it-1)/yt,S+=u[T]*u[T];for(R=Math.sqrt(S),u[it]>0&&(R=-R),S=S-u[it]*R,u[it]=u[it]-R,st=it;st<M;st++){for(l=0,T=n;T>=it;T--)l+=u[T]*I.get(T,st);for(l=l/S,T=it;T<=n;T++)I.set(T,st,I.get(T,st)-l*u[T])}for(T=0;T<=n;T++){for(l=0,st=n;st>=it;st--)l+=u[st]*I.get(T,st);for(l=l/S,st=it;st<=n;st++)I.set(T,st,I.get(T,st)-l*u[st])}u[it]=yt*u[it],I.set(it,it-1,yt*R)}}for(T=0;T<M;T++)for(st=0;st<M;st++)t.set(T,st,T===st?1:0);for(it=n-1;it>=e+1;it--)if(I.get(it,it-1)!==0){for(T=it+1;T<=n;T++)u[T]=I.get(T,it-1);for(st=it;st<=n;st++){for(R=0,T=it;T<=n;T++)R+=u[T]*t.get(T,st);for(R=R/u[it]/I.get(it,it-1),T=it;T<=n;T++)t.set(T,st,t.get(T,st)+R*u[T])}}}function Zn(M,I,u,t,e){var n=M-1,l=0,R=M-1,S=Number.EPSILON,T=0,st=0,it=0,yt=0,It=0,bt=0,zt=0,jt=0,gt,Nt,Tt,Gt,kt,ue,de,Ht,se,ge,Ae,Bt,Le,Pe,he;for(gt=0;gt<M;gt++)for((gt<l||gt>R)&&(u[gt]=e.get(gt,gt),I[gt]=0),Nt=Math.max(gt-1,0);Nt<M;Nt++)st=st+Math.abs(e.get(gt,Nt));for(;n>=l;){for(Gt=n;Gt>l&&(bt=Math.abs(e.get(Gt-1,Gt-1))+Math.abs(e.get(Gt,Gt)),bt===0&&(bt=st),!(Math.abs(e.get(Gt,Gt-1))<S*bt));)Gt--;if(Gt===n)e.set(n,n,e.get(n,n)+T),u[n]=e.get(n,n),I[n]=0,n--,jt=0;else if(Gt===n-1){if(de=e.get(n,n-1)*e.get(n-1,n),it=(e.get(n-1,n-1)-e.get(n,n))/2,yt=it*it+de,zt=Math.sqrt(Math.abs(yt)),e.set(n,n,e.get(n,n)+T),e.set(n-1,n-1,e.get(n-1,n-1)+T),Ht=e.get(n,n),yt>=0){for(zt=it>=0?it+zt:it-zt,u[n-1]=Ht+zt,u[n]=u[n-1],zt!==0&&(u[n]=Ht-de/zt),I[n-1]=0,I[n]=0,Ht=e.get(n,n-1),bt=Math.abs(Ht)+Math.abs(zt),it=Ht/bt,yt=zt/bt,It=Math.sqrt(it*it+yt*yt),it=it/It,yt=yt/It,Nt=n-1;Nt<M;Nt++)zt=e.get(n-1,Nt),e.set(n-1,Nt,yt*zt+it*e.get(n,Nt)),e.set(n,Nt,yt*e.get(n,Nt)-it*zt);for(gt=0;gt<=n;gt++)zt=e.get(gt,n-1),e.set(gt,n-1,yt*zt+it*e.get(gt,n)),e.set(gt,n,yt*e.get(gt,n)-it*zt);for(gt=l;gt<=R;gt++)zt=t.get(gt,n-1),t.set(gt,n-1,yt*zt+it*t.get(gt,n)),t.set(gt,n,yt*t.get(gt,n)-it*zt)}else u[n-1]=Ht+it,u[n]=Ht+it,I[n-1]=zt,I[n]=-zt;n=n-2,jt=0}else{if(Ht=e.get(n,n),se=0,de=0,Gt<n&&(se=e.get(n-1,n-1),de=e.get(n,n-1)*e.get(n-1,n)),jt===10){for(T+=Ht,gt=l;gt<=n;gt++)e.set(gt,gt,e.get(gt,gt)-Ht);bt=Math.abs(e.get(n,n-1))+Math.abs(e.get(n-1,n-2)),Ht=se=.75*bt,de=-.4375*bt*bt}if(jt===30&&(bt=(se-Ht)/2,bt=bt*bt+de,bt>0)){for(bt=Math.sqrt(bt),se<Ht&&(bt=-bt),bt=Ht-de/((se-Ht)/2+bt),gt=l;gt<=n;gt++)e.set(gt,gt,e.get(gt,gt)-bt);T+=bt,Ht=se=de=.964}for(jt=jt+1,kt=n-2;kt>=Gt&&(zt=e.get(kt,kt),It=Ht-zt,bt=se-zt,it=(It*bt-de)/e.get(kt+1,kt)+e.get(kt,kt+1),yt=e.get(kt+1,kt+1)-zt-It-bt,It=e.get(kt+2,kt+1),bt=Math.abs(it)+Math.abs(yt)+Math.abs(It),it=it/bt,yt=yt/bt,It=It/bt,!(kt===Gt||Math.abs(e.get(kt,kt-1))*(Math.abs(yt)+Math.abs(It))<S*(Math.abs(it)*(Math.abs(e.get(kt-1,kt-1))+Math.abs(zt)+Math.abs(e.get(kt+1,kt+1))))));)kt--;for(gt=kt+2;gt<=n;gt++)e.set(gt,gt-2,0),gt>kt+2&&e.set(gt,gt-3,0);for(Tt=kt;Tt<=n-1&&(Pe=Tt!==n-1,Tt!==kt&&(it=e.get(Tt,Tt-1),yt=e.get(Tt+1,Tt-1),It=Pe?e.get(Tt+2,Tt-1):0,Ht=Math.abs(it)+Math.abs(yt)+Math.abs(It),Ht!==0&&(it=it/Ht,yt=yt/Ht,It=It/Ht)),Ht!==0);Tt++)if(bt=Math.sqrt(it*it+yt*yt+It*It),it<0&&(bt=-bt),bt!==0){for(Tt!==kt?e.set(Tt,Tt-1,-bt*Ht):Gt!==kt&&e.set(Tt,Tt-1,-e.get(Tt,Tt-1)),it=it+bt,Ht=it/bt,se=yt/bt,zt=It/bt,yt=yt/it,It=It/it,Nt=Tt;Nt<M;Nt++)it=e.get(Tt,Nt)+yt*e.get(Tt+1,Nt),Pe&&(it=it+It*e.get(Tt+2,Nt),e.set(Tt+2,Nt,e.get(Tt+2,Nt)-it*zt)),e.set(Tt,Nt,e.get(Tt,Nt)-it*Ht),e.set(Tt+1,Nt,e.get(Tt+1,Nt)-it*se);for(gt=0;gt<=Math.min(n,Tt+3);gt++)it=Ht*e.get(gt,Tt)+se*e.get(gt,Tt+1),Pe&&(it=it+zt*e.get(gt,Tt+2),e.set(gt,Tt+2,e.get(gt,Tt+2)-it*It)),e.set(gt,Tt,e.get(gt,Tt)-it),e.set(gt,Tt+1,e.get(gt,Tt+1)-it*yt);for(gt=l;gt<=R;gt++)it=Ht*t.get(gt,Tt)+se*t.get(gt,Tt+1),Pe&&(it=it+zt*t.get(gt,Tt+2),t.set(gt,Tt+2,t.get(gt,Tt+2)-it*It)),t.set(gt,Tt,t.get(gt,Tt)-it),t.set(gt,Tt+1,t.get(gt,Tt+1)-it*yt)}}}if(st!==0){for(n=M-1;n>=0;n--)if(it=u[n],yt=I[n],yt===0)for(Gt=n,e.set(n,n,1),gt=n-1;gt>=0;gt--){for(de=e.get(gt,gt)-it,It=0,Nt=Gt;Nt<=n;Nt++)It=It+e.get(gt,Nt)*e.get(Nt,n);if(I[gt]<0)zt=de,bt=It;else if(Gt=gt,I[gt]===0?e.set(gt,n,de!==0?-It/de:-It/(S*st)):(Ht=e.get(gt,gt+1),se=e.get(gt+1,gt),yt=(u[gt]-it)*(u[gt]-it)+I[gt]*I[gt],ue=(Ht*bt-zt*It)/yt,e.set(gt,n,ue),e.set(gt+1,n,Math.abs(Ht)>Math.abs(zt)?(-It-de*ue)/Ht:(-bt-se*ue)/zt)),ue=Math.abs(e.get(gt,n)),S*ue*ue>1)for(Nt=gt;Nt<=n;Nt++)e.set(Nt,n,e.get(Nt,n)/ue)}else if(yt<0)for(Gt=n-1,Math.abs(e.get(n,n-1))>Math.abs(e.get(n-1,n))?(e.set(n-1,n-1,yt/e.get(n,n-1)),e.set(n-1,n,-(e.get(n,n)-it)/e.get(n,n-1))):(he=mn(0,-e.get(n-1,n),e.get(n-1,n-1)-it,yt),e.set(n-1,n-1,he[0]),e.set(n-1,n,he[1])),e.set(n,n-1,0),e.set(n,n,1),gt=n-2;gt>=0;gt--){for(ge=0,Ae=0,Nt=Gt;Nt<=n;Nt++)ge=ge+e.get(gt,Nt)*e.get(Nt,n-1),Ae=Ae+e.get(gt,Nt)*e.get(Nt,n);if(de=e.get(gt,gt)-it,I[gt]<0)zt=de,It=ge,bt=Ae;else if(Gt=gt,I[gt]===0?(he=mn(-ge,-Ae,de,yt),e.set(gt,n-1,he[0]),e.set(gt,n,he[1])):(Ht=e.get(gt,gt+1),se=e.get(gt+1,gt),Bt=(u[gt]-it)*(u[gt]-it)+I[gt]*I[gt]-yt*yt,Le=(u[gt]-it)*2*yt,Bt===0&&Le===0&&(Bt=S*st*(Math.abs(de)+Math.abs(yt)+Math.abs(Ht)+Math.abs(se)+Math.abs(zt))),he=mn(Ht*It-zt*ge+yt*Ae,Ht*bt-zt*Ae-yt*ge,Bt,Le),e.set(gt,n-1,he[0]),e.set(gt,n,he[1]),Math.abs(Ht)>Math.abs(zt)+Math.abs(yt)?(e.set(gt+1,n-1,(-ge-de*e.get(gt,n-1)+yt*e.get(gt,n))/Ht),e.set(gt+1,n,(-Ae-de*e.get(gt,n)-yt*e.get(gt,n-1))/Ht)):(he=mn(-It-se*e.get(gt,n-1),-bt-se*e.get(gt,n),zt,yt),e.set(gt+1,n-1,he[0]),e.set(gt+1,n,he[1]))),ue=Math.max(Math.abs(e.get(gt,n-1)),Math.abs(e.get(gt,n))),S*ue*ue>1)for(Nt=gt;Nt<=n;Nt++)e.set(Nt,n-1,e.get(Nt,n-1)/ue),e.set(Nt,n,e.get(Nt,n)/ue)}for(gt=0;gt<M;gt++)if(gt<l||gt>R)for(Nt=gt;Nt<M;Nt++)t.set(gt,Nt,e.get(gt,Nt));for(Nt=M-1;Nt>=l;Nt--)for(gt=l;gt<=R;gt++){for(zt=0,Tt=l;Tt<=Math.min(Nt,R);Tt++)zt=zt+t.get(gt,Tt)*e.get(Tt,Nt);t.set(gt,Nt,zt)}}}function mn(M,I,u,t){var e,n;return Math.abs(u)>Math.abs(t)?(e=t/u,n=u+e*t,[(M+e*I)/n,(I-e*M)/n]):(e=u/t,n=t+e*u,[(e*M+I)/n,(e*I-M)/n])}var zn=function(){function M(I){if(P(this,M),I=De.checkMatrix(I),!I.isSymmetric())throw new Error("Matrix is not symmetric");var u=I,t=u.rows,e=new xt(t,t),n=!0,l,R,S;for(R=0;R<t;R++){var T=0;for(S=0;S<R;S++){var st=0;for(l=0;l<S;l++)st+=e.get(S,l)*e.get(R,l);st=(u.get(R,S)-st)/e.get(S,S),e.set(R,S,st),T=T+st*st}for(T=u.get(R,R)-T,n&=T>0,e.set(R,R,Math.sqrt(Math.max(T,0))),S=R+1;S<t;S++)e.set(R,S,0)}this.L=e,this.positiveDefinite=!!n}return U(M,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(u){u=De.checkMatrix(u);var t=this.L,e=t.rows;if(u.rows!==e)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");var n=u.columns,l=u.clone(),R,S,T;for(T=0;T<e;T++)for(S=0;S<n;S++){for(R=0;R<T;R++)l.set(T,S,l.get(T,S)-l.get(R,S)*t.get(T,R));l.set(T,S,l.get(T,S)/t.get(T,T))}for(T=e-1;T>=0;T--)for(S=0;S<n;S++){for(R=T+1;R<e;R++)l.set(T,S,l.get(T,S)-l.get(R,S)*t.get(R,T));l.set(T,S,l.get(T,S)/t.get(T,T))}return l}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),M}(),Fn=U(function M(I){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};P(this,M),I=De.checkMatrix(I);var t=u.Y,e=u.scaleScores,n=e===void 0?!1:e,l=u.maxIterations,R=l===void 0?1e3:l,S=u.terminationCriteria,T=S===void 0?1e-10:S,st;if(t){if(X.isAnyArray(t)&&typeof t[0]=="number"?t=xt.columnVector(t):t=De.checkMatrix(t),t.rows!==I.rows)throw new Error("Y should have the same number of rows as X");st=t.getColumnVector(0)}else st=I.getColumnVector(0);for(var it=1,yt,It,bt,zt,jt=0;jt<R&&it>T;jt++)bt=I.transpose().mmul(st).div(st.transpose().mmul(st).get(0,0)),bt=bt.div(bt.norm()),yt=I.mmul(bt).div(bt.transpose().mmul(bt).get(0,0)),jt>0&&(it=yt.clone().sub(zt).pow(2).sum()),zt=yt.clone(),t?(It=t.transpose().mmul(yt).div(yt.transpose().mmul(yt).get(0,0)),It=It.div(It.norm()),st=t.mmul(It).div(It.transpose().mmul(It).get(0,0))):st=yt;if(t){var gt=I.transpose().mmul(yt).div(yt.transpose().mmul(yt).get(0,0));gt=gt.div(gt.norm());var Nt=I.clone().sub(yt.clone().mmul(gt.transpose())),Tt=st.transpose().mmul(yt).div(yt.transpose().mmul(yt).get(0,0)),Gt=t.clone().sub(yt.clone().mulS(Tt.get(0,0)).mmul(It.transpose()));this.t=yt,this.p=gt.transpose(),this.w=bt.transpose(),this.q=It,this.u=st,this.s=yt.transpose().mmul(yt),this.xResidual=Nt,this.yResidual=Gt,this.betas=Tt}else this.w=bt.transpose(),this.s=yt.transpose().mmul(yt).sqrt(),n?this.t=yt.clone().div(this.s.get(0,0)):this.t=yt,this.xResidual=I.sub(yt.mmul(bt.transpose()))});V.XA=$t,V.a_=zn,V.yQ=zn,V.Hs=Ft,V.Ec=Mn,V.dx=Mn,V.LU=sn,V.Rm=sn,V.y3=xt,V.qK=Oe,V.pb=Ne,V.j=me,V.sO=we,V.BZ=Be,V.EK=fe,V.Db=Te,V.Fx=Fe,V.tU=Bn,V.Ym=Fn,V.rs=Fn,V.QR=bn,V.TB=bn,V.oH=on,V.Sc=on,V.BN=Xt,V.it=Rn,V.$r=De,V.QM=Gn,V.AV=Ln,s=xt,V.GH=gn,V.SO=Un,V.uZ=Wn,V.yU=Dn,V.F1=Nn,V.re=In},70681:function(E,V,r){E.exports={graphlib:r(70574),layout:r(98123),debug:r(27570),util:{time:r(11138).time,notime:r(11138).notime},version:r(88177)}},92188:function(E,V,r){"use strict";var s=r(38436),m=r(74079);E.exports={run:v,undo:f};function v(y){var p=y.graph().acyclicer==="greedy"?m(y,c(y)):b(y);s.forEach(p,function(o){var i=y.edge(o);y.removeEdge(o),i.forwardName=o.name,i.reversed=!0,y.setEdge(o.w,o.v,i,s.uniqueId("rev"))});function c(o){return function(i){return o.edge(i).weight}}}function b(y){var p=[],c={},o={};function i(a){s.has(o,a)||(o[a]=!0,c[a]=!0,s.forEach(y.outEdges(a),function(h){s.has(c,h.w)?p.push(h):i(h.w)}),delete c[a])}return s.forEach(y.nodes(),i),p}function f(y){s.forEach(y.edges(),function(p){var c=y.edge(p);if(c.reversed){y.removeEdge(p);var o=c.forwardName;delete c.reversed,delete c.forwardName,y.setEdge(p.w,p.v,c,o)}})}},61133:function(E,V,r){var s=r(38436),m=r(11138);E.exports=v;function v(f){function y(p){var c=f.children(p),o=f.node(p);if(c.length&&s.forEach(c,y),s.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var i=o.minRank,a=o.maxRank+1;i<a;++i)b(f,"borderLeft","_bl",p,o,i),b(f,"borderRight","_br",p,o,i)}}s.forEach(f.children(),y)}function b(f,y,p,c,o,i){var a={width:0,height:0,rank:i,borderType:y},h=o[y][i-1],O=m.addDummyNode(f,"border",a,p);o[y][i]=O,f.setParent(O,c),h&&f.setEdge(h,O,{weight:1})}},53258:function(E,V,r){"use strict";var s=r(38436);E.exports={adjust:m,undo:v};function m(i){var a=i.graph().rankdir.toLowerCase();(a==="lr"||a==="rl")&&b(i)}function v(i){var a=i.graph().rankdir.toLowerCase();(a==="bt"||a==="rl")&&y(i),(a==="lr"||a==="rl")&&(c(i),b(i))}function b(i){s.forEach(i.nodes(),function(a){f(i.node(a))}),s.forEach(i.edges(),function(a){f(i.edge(a))})}function f(i){var a=i.width;i.width=i.height,i.height=a}function y(i){s.forEach(i.nodes(),function(a){p(i.node(a))}),s.forEach(i.edges(),function(a){var h=i.edge(a);s.forEach(h.points,p),s.has(h,"y")&&p(h)})}function p(i){i.y=-i.y}function c(i){s.forEach(i.nodes(),function(a){o(i.node(a))}),s.forEach(i.edges(),function(a){var h=i.edge(a);s.forEach(h.points,o),s.has(h,"x")&&o(h)})}function o(i){var a=i.x;i.x=i.y,i.y=a}},77822:function(E){E.exports=V;function V(){var m={};m._next=m._prev=m,this._sentinel=m}V.prototype.dequeue=function(){var m=this._sentinel,v=m._prev;if(v!==m)return r(v),v},V.prototype.enqueue=function(m){var v=this._sentinel;m._prev&&m._next&&r(m),m._next=v._next,v._next._prev=m,v._next=m,m._prev=v},V.prototype.toString=function(){for(var m=[],v=this._sentinel,b=v._prev;b!==v;)m.push(JSON.stringify(b,s)),b=b._prev;return"["+m.join(", ")+"]"};function r(m){m._prev._next=m._next,m._next._prev=m._prev,delete m._next,delete m._prev}function s(m,v){if(m!=="_next"&&m!=="_prev")return v}},27570:function(E,V,r){var s=r(38436),m=r(11138),v=r(70574).Graph;E.exports={debugOrdering:b};function b(f){var y=m.buildLayerMatrix(f),p=new v({compound:!0,multigraph:!0}).setGraph({});return s.forEach(f.nodes(),function(c){p.setNode(c,{label:c}),p.setParent(c,"layer"+f.node(c).rank)}),s.forEach(f.edges(),function(c){p.setEdge(c.v,c.w,{},c.name)}),s.forEach(y,function(c,o){var i="layer"+o;p.setNode(i,{rank:"same"}),s.reduce(c,function(a,h){return p.setEdge(a,h,{style:"invis"}),h})}),p}},70574:function(E,V,r){var s;try{s=r(28282)}catch(m){}s||(s=window.graphlib),E.exports=s},74079:function(E,V,r){var s=r(38436),m=r(70574).Graph,v=r(77822);E.exports=f;var b=s.constant(1);function f(i,a){if(i.nodeCount()<=1)return[];var h=c(i,a||b),O=y(h.graph,h.buckets,h.zeroIdx);return s.flatten(s.map(O,function(W){return i.outEdges(W.v,W.w)}),!0)}function y(i,a,h){for(var O=[],W=a[a.length-1],z=a[0],C;i.nodeCount();){for(;C=z.dequeue();)p(i,a,h,C);for(;C=W.dequeue();)p(i,a,h,C);if(i.nodeCount()){for(var P=a.length-2;P>0;--P)if(C=a[P].dequeue(),C){O=O.concat(p(i,a,h,C,!0));break}}}return O}function p(i,a,h,O,W){var z=W?[]:void 0;return s.forEach(i.inEdges(O.v),function(C){var P=i.edge(C),U=i.node(C.v);W&&z.push({v:C.v,w:C.w}),U.out-=P,o(a,h,U)}),s.forEach(i.outEdges(O.v),function(C){var P=i.edge(C),U=C.w,X=i.node(U);X.in-=P,o(a,h,X)}),i.removeNode(O.v),z}function c(i,a){var h=new m,O=0,W=0;s.forEach(i.nodes(),function(P){h.setNode(P,{v:P,in:0,out:0})}),s.forEach(i.edges(),function(P){var U=h.edge(P.v,P.w)||0,X=a(P),_=U+X;h.setEdge(P.v,P.w,_),W=Math.max(W,h.node(P.v).out+=X),O=Math.max(O,h.node(P.w).in+=X)});var z=s.range(W+O+3).map(function(){return new v}),C=O+1;return s.forEach(h.nodes(),function(P){o(z,C,h.node(P))}),{graph:h,buckets:z,zeroIdx:C}}function o(i,a,h){h.out?h.in?i[h.out-h.in+a].enqueue(h):i[i.length-1].enqueue(h):i[0].enqueue(h)}},98123:function(E,V,r){"use strict";var s=r(38436),m=r(92188),v=r(45995),b=r(78093),f=r(11138).normalizeRanks,y=r(24219),p=r(11138).removeEmptyRanks,c=r(72981),o=r(61133),i=r(53258),a=r(53408),h=r(17873),O=r(11138),W=r(70574).Graph;E.exports=z;function z(at,ut){var wt=ut&&ut.debugTiming?O.time:O.notime;wt("layout",function(){var Ot=wt("  buildLayoutGraph",function(){return x(at)});wt("  runLayout",function(){C(Ot,wt)}),wt("  updateInputGraph",function(){P(at,Ot)})})}function C(at,ut){ut("    makeSpaceForEdgeLabels",function(){L(at)}),ut("    removeSelfEdges",function(){ht(at)}),ut("    acyclic",function(){m.run(at)}),ut("    nestingGraph.run",function(){c.run(at)}),ut("    rank",function(){b(O.asNonCompoundGraph(at))}),ut("    injectEdgeLabelProxies",function(){F(at)}),ut("    removeEmptyRanks",function(){p(at)}),ut("    nestingGraph.cleanup",function(){c.cleanup(at)}),ut("    normalizeRanks",function(){f(at)}),ut("    assignRankMinMax",function(){Z(at)}),ut("    removeEdgeLabelProxies",function(){G(at)}),ut("    normalize.run",function(){v.run(at)}),ut("    parentDummyChains",function(){y(at)}),ut("    addBorderSegments",function(){o(at)}),ut("    order",function(){a(at)}),ut("    insertSelfEdges",function(){vt(at)}),ut("    adjustCoordinateSystem",function(){i.adjust(at)}),ut("    position",function(){h(at)}),ut("    positionSelfEdges",function(){Et(at)}),ut("    removeBorderNodes",function(){ft(at)}),ut("    normalize.undo",function(){v.undo(at)}),ut("    fixupEdgeLabelCoords",function(){J(at)}),ut("    undoCoordinateSystem",function(){i.undo(at)}),ut("    translateGraph",function(){Q(at)}),ut("    assignNodeIntersects",function(){H(at)}),ut("    reversePoints",function(){q(at)}),ut("    acyclic.undo",function(){m.undo(at)})}function P(at,ut){s.forEach(at.nodes(),function(wt){var Ot=at.node(wt),et=ut.node(wt);Ot&&(Ot.x=et.x,Ot.y=et.y,ut.children(wt).length&&(Ot.width=et.width,Ot.height=et.height))}),s.forEach(at.edges(),function(wt){var Ot=at.edge(wt),et=ut.edge(wt);Ot.points=et.points,s.has(et,"x")&&(Ot.x=et.x,Ot.y=et.y)}),at.graph().width=ut.graph().width,at.graph().height=ut.graph().height}var U=["nodesep","edgesep","ranksep","marginx","marginy"],X={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},_=["acyclicer","ranker","rankdir","align"],$=["width","height"],Y={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],A={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},w=["labelpos"];function x(at){var ut=new W({multigraph:!0,compound:!0}),wt=ct(at.graph());return ut.setGraph(s.merge({},X,mt(wt,U),s.pick(wt,_))),s.forEach(at.nodes(),function(Ot){var et=ct(at.node(Ot));ut.setNode(Ot,s.defaults(mt(et,$),Y)),ut.setParent(Ot,at.parent(Ot))}),s.forEach(at.edges(),function(Ot){var et=ct(at.edge(Ot));ut.setEdge(Ot,s.merge({},A,mt(et,k),s.pick(et,w)))}),ut}function L(at){var ut=at.graph();ut.ranksep/=2,s.forEach(at.edges(),function(wt){var Ot=at.edge(wt);Ot.minlen*=2,Ot.labelpos.toLowerCase()!=="c"&&(ut.rankdir==="TB"||ut.rankdir==="BT"?Ot.width+=Ot.labeloffset:Ot.height+=Ot.labeloffset)})}function F(at){s.forEach(at.edges(),function(ut){var wt=at.edge(ut);if(wt.width&&wt.height){var Ot=at.node(ut.v),et=at.node(ut.w),dt={rank:(et.rank-Ot.rank)/2+Ot.rank,e:ut};O.addDummyNode(at,"edge-proxy",dt,"_ep")}})}function Z(at){var ut=0;s.forEach(at.nodes(),function(wt){var Ot=at.node(wt);Ot.borderTop&&(Ot.minRank=at.node(Ot.borderTop).rank,Ot.maxRank=at.node(Ot.borderBottom).rank,ut=s.max(ut,Ot.maxRank))}),at.graph().maxRank=ut}function G(at){s.forEach(at.nodes(),function(ut){var wt=at.node(ut);wt.dummy==="edge-proxy"&&(at.edge(wt.e).labelRank=wt.rank,at.removeNode(ut))})}function Q(at){var ut=Number.POSITIVE_INFINITY,wt=0,Ot=Number.POSITIVE_INFINITY,et=0,dt=at.graph(),ot=dt.marginx||0,pt=dt.marginy||0;function At(Pt){var Ct=Pt.x,Mt=Pt.y,Ut=Pt.width,St=Pt.height;ut=Math.min(ut,Ct-Ut/2),wt=Math.max(wt,Ct+Ut/2),Ot=Math.min(Ot,Mt-St/2),et=Math.max(et,Mt+St/2)}s.forEach(at.nodes(),function(Pt){At(at.node(Pt))}),s.forEach(at.edges(),function(Pt){var Ct=at.edge(Pt);s.has(Ct,"x")&&At(Ct)}),ut-=ot,Ot-=pt,s.forEach(at.nodes(),function(Pt){var Ct=at.node(Pt);Ct.x-=ut,Ct.y-=Ot}),s.forEach(at.edges(),function(Pt){var Ct=at.edge(Pt);s.forEach(Ct.points,function(Mt){Mt.x-=ut,Mt.y-=Ot}),s.has(Ct,"x")&&(Ct.x-=ut),s.has(Ct,"y")&&(Ct.y-=Ot)}),dt.width=wt-ut+ot,dt.height=et-Ot+pt}function H(at){s.forEach(at.edges(),function(ut){var wt=at.edge(ut),Ot=at.node(ut.v),et=at.node(ut.w),dt,ot;wt.points?(dt=wt.points[0],ot=wt.points[wt.points.length-1]):(wt.points=[],dt=et,ot=Ot),wt.points.unshift(O.intersectRect(Ot,dt)),wt.points.push(O.intersectRect(et,ot))})}function J(at){s.forEach(at.edges(),function(ut){var wt=at.edge(ut);if(s.has(wt,"x"))switch((wt.labelpos==="l"||wt.labelpos==="r")&&(wt.width-=wt.labeloffset),wt.labelpos){case"l":wt.x-=wt.width/2+wt.labeloffset;break;case"r":wt.x+=wt.width/2+wt.labeloffset;break}})}function q(at){s.forEach(at.edges(),function(ut){var wt=at.edge(ut);wt.reversed&&wt.points.reverse()})}function ft(at){s.forEach(at.nodes(),function(ut){if(at.children(ut).length){var wt=at.node(ut),Ot=at.node(wt.borderTop),et=at.node(wt.borderBottom),dt=at.node(s.last(wt.borderLeft)),ot=at.node(s.last(wt.borderRight));wt.width=Math.abs(ot.x-dt.x),wt.height=Math.abs(et.y-Ot.y),wt.x=dt.x+wt.width/2,wt.y=Ot.y+wt.height/2}}),s.forEach(at.nodes(),function(ut){at.node(ut).dummy==="border"&&at.removeNode(ut)})}function ht(at){s.forEach(at.edges(),function(ut){if(ut.v===ut.w){var wt=at.node(ut.v);wt.selfEdges||(wt.selfEdges=[]),wt.selfEdges.push({e:ut,label:at.edge(ut)}),at.removeEdge(ut)}})}function vt(at){var ut=O.buildLayerMatrix(at);s.forEach(ut,function(wt){var Ot=0;s.forEach(wt,function(et,dt){var ot=at.node(et);ot.order=dt+Ot,s.forEach(ot.selfEdges,function(pt){O.addDummyNode(at,"selfedge",{width:pt.label.width,height:pt.label.height,rank:ot.rank,order:dt+ ++Ot,e:pt.e,label:pt.label},"_se")}),delete ot.selfEdges})})}function Et(at){s.forEach(at.nodes(),function(ut){var wt=at.node(ut);if(wt.dummy==="selfedge"){var Ot=at.node(wt.e.v),et=Ot.x+Ot.width/2,dt=Ot.y,ot=wt.x-et,pt=Ot.height/2;at.setEdge(wt.e,wt.label),at.removeNode(ut),wt.label.points=[{x:et+2*ot/3,y:dt-pt},{x:et+5*ot/6,y:dt-pt},{x:et+ot,y:dt},{x:et+5*ot/6,y:dt+pt},{x:et+2*ot/3,y:dt+pt}],wt.label.x=wt.x,wt.label.y=wt.y}})}function mt(at,ut){return s.mapValues(s.pick(at,ut),Number)}function ct(at){var ut={};return s.forEach(at,function(wt,Ot){ut[Ot.toLowerCase()]=wt}),ut}},38436:function(E,V,r){var s;try{s={cloneDeep:r(50361),constant:r(75703),defaults:r(91747),each:r(66073),filter:r(63105),find:r(13311),flatten:r(85564),forEach:r(84486),forIn:r(62620),has:r(18721),isUndefined:r(52353),last:r(10928),map:r(35161),mapValues:r(66604),max:r(6162),merge:r(82492),min:r(53632),minBy:r(22762),now:r(7771),pick:r(78718),range:r(96026),reduce:r(54061),sortBy:r(89734),uniqueId:r(73955),values:r(52628),zipObject:r(7287)}}catch(m){}s||(s=window._),E.exports=s},72981:function(E,V,r){var s=r(38436),m=r(11138);E.exports={run:v,cleanup:p};function v(c){var o=m.addDummyNode(c,"root",{},"_root"),i=f(c),a=s.max(s.values(i))-1,h=2*a+1;c.graph().nestingRoot=o,s.forEach(c.edges(),function(W){c.edge(W).minlen*=h});var O=y(c)+1;s.forEach(c.children(),function(W){b(c,o,h,O,a,i,W)}),c.graph().nodeRankFactor=h}function b(c,o,i,a,h,O,W){var z=c.children(W);if(!z.length){W!==o&&c.setEdge(o,W,{weight:0,minlen:i});return}var C=m.addBorderNode(c,"_bt"),P=m.addBorderNode(c,"_bb"),U=c.node(W);c.setParent(C,W),U.borderTop=C,c.setParent(P,W),U.borderBottom=P,s.forEach(z,function(X){b(c,o,i,a,h,O,X);var _=c.node(X),$=_.borderTop?_.borderTop:X,Y=_.borderBottom?_.borderBottom:X,k=_.borderTop?a:2*a,A=$!==Y?1:h-O[W]+1;c.setEdge(C,$,{weight:k,minlen:A,nestingEdge:!0}),c.setEdge(Y,P,{weight:k,minlen:A,nestingEdge:!0})}),c.parent(W)||c.setEdge(o,C,{weight:0,minlen:h+O[W]})}function f(c){var o={};function i(a,h){var O=c.children(a);O&&O.length&&s.forEach(O,function(W){i(W,h+1)}),o[a]=h}return s.forEach(c.children(),function(a){i(a,1)}),o}function y(c){return s.reduce(c.edges(),function(o,i){return o+c.edge(i).weight},0)}function p(c){var o=c.graph();c.removeNode(o.nestingRoot),delete o.nestingRoot,s.forEach(c.edges(),function(i){var a=c.edge(i);a.nestingEdge&&c.removeEdge(i)})}},45995:function(E,V,r){"use strict";var s=r(38436),m=r(11138);E.exports={run:v,undo:f};function v(y){y.graph().dummyChains=[],s.forEach(y.edges(),function(p){b(y,p)})}function b(y,p){var c=p.v,o=y.node(c).rank,i=p.w,a=y.node(i).rank,h=p.name,O=y.edge(p),W=O.labelRank;if(a!==o+1){y.removeEdge(p);var z,C,P;for(P=0,++o;o<a;++P,++o)O.points=[],C={width:0,height:0,edgeLabel:O,edgeObj:p,rank:o},z=m.addDummyNode(y,"edge",C,"_d"),o===W&&(C.width=O.width,C.height=O.height,C.dummy="edge-label",C.labelpos=O.labelpos),y.setEdge(c,z,{weight:O.weight},h),P===0&&y.graph().dummyChains.push(z),c=z;y.setEdge(c,i,{weight:O.weight},h)}}function f(y){s.forEach(y.graph().dummyChains,function(p){var c=y.node(p),o=c.edgeLabel,i;for(y.setEdge(c.edgeObj,o);c.dummy;)i=y.successors(p)[0],y.removeNode(p),o.points.push({x:c.x,y:c.y}),c.dummy==="edge-label"&&(o.x=c.x,o.y=c.y,o.width=c.width,o.height=c.height),p=i,c=y.node(p)})}},55093:function(E,V,r){var s=r(38436);E.exports=m;function m(v,b,f){var y={},p;s.forEach(f,function(c){for(var o=v.parent(c),i,a;o;){if(i=v.parent(o),i?(a=y[i],y[i]=o):(a=p,p=o),a&&a!==o){b.setEdge(a,o);return}o=i}})}},35439:function(E,V,r){var s=r(38436);E.exports=m;function m(v,b){return s.map(b,function(f){var y=v.inEdges(f);if(y.length){var p=s.reduce(y,function(c,o){var i=v.edge(o),a=v.node(o.v);return{sum:c.sum+i.weight*a.order,weight:c.weight+i.weight}},{sum:0,weight:0});return{v:f,barycenter:p.sum/p.weight,weight:p.weight}}else return{v:f}})}},23128:function(E,V,r){var s=r(38436),m=r(70574).Graph;E.exports=v;function v(f,y,p){var c=b(f),o=new m({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(function(i){return f.node(i)});return s.forEach(f.nodes(),function(i){var a=f.node(i),h=f.parent(i);(a.rank===y||a.minRank<=y&&y<=a.maxRank)&&(o.setNode(i),o.setParent(i,h||c),s.forEach(f[p](i),function(O){var W=O.v===i?O.w:O.v,z=o.edge(W,i),C=s.isUndefined(z)?0:z.weight;o.setEdge(W,i,{weight:f.edge(O).weight+C})}),s.has(a,"minRank")&&o.setNode(i,{borderLeft:a.borderLeft[y],borderRight:a.borderRight[y]}))}),o}function b(f){for(var y;f.hasNode(y=s.uniqueId("_root")););return y}},56630:function(E,V,r){"use strict";var s=r(38436);E.exports=m;function m(b,f){for(var y=0,p=1;p<f.length;++p)y+=v(b,f[p-1],f[p]);return y}function v(b,f,y){for(var p=s.zipObject(y,s.map(y,function(O,W){return W})),c=s.flatten(s.map(f,function(O){return s.sortBy(s.map(b.outEdges(O),function(W){return{pos:p[W.w],weight:b.edge(W).weight}}),"pos")}),!0),o=1;o<y.length;)o<<=1;var i=2*o-1;o-=1;var a=s.map(new Array(i),function(){return 0}),h=0;return s.forEach(c.forEach(function(O){var W=O.pos+o;a[W]+=O.weight;for(var z=0;W>0;)W%2&&(z+=a[W+1]),W=W-1>>1,a[W]+=O.weight;h+=O.weight*z})),h}},53408:function(E,V,r){"use strict";var s=r(38436),m=r(2588),v=r(56630),b=r(61026),f=r(23128),y=r(55093),p=r(70574).Graph,c=r(11138);E.exports=o;function o(O){var W=c.maxRank(O),z=i(O,s.range(1,W+1),"inEdges"),C=i(O,s.range(W-1,-1,-1),"outEdges"),P=m(O);h(O,P);for(var U=Number.POSITIVE_INFINITY,X,_=0,$=0;$<4;++_,++$){a(_%2?z:C,_%4>=2),P=c.buildLayerMatrix(O);var Y=v(O,P);Y<U&&($=0,X=s.cloneDeep(P),U=Y)}h(O,X)}function i(O,W,z){return s.map(W,function(C){return f(O,C,z)})}function a(O,W){var z=new p;s.forEach(O,function(C){var P=C.graph().root,U=b(C,P,z,W);s.forEach(U.vs,function(X,_){C.node(X).order=_}),y(C,z,U.vs)})}function h(O,W){s.forEach(W,function(z){s.forEach(z,function(C,P){O.node(C).order=P})})}},2588:function(E,V,r){"use strict";var s=r(38436);E.exports=m;function m(v){var b={},f=s.filter(v.nodes(),function(i){return!v.children(i).length}),y=s.max(s.map(f,function(i){return v.node(i).rank})),p=s.map(s.range(y+1),function(){return[]});function c(i){if(!s.has(b,i)){b[i]=!0;var a=v.node(i);p[a.rank].push(i),s.forEach(v.successors(i),c)}}var o=s.sortBy(f,function(i){return v.node(i).rank});return s.forEach(o,c),p}},83678:function(E,V,r){"use strict";var s=r(38436);E.exports=m;function m(f,y){var p={};s.forEach(f,function(o,i){var a=p[o.v]={indegree:0,in:[],out:[],vs:[o.v],i};s.isUndefined(o.barycenter)||(a.barycenter=o.barycenter,a.weight=o.weight)}),s.forEach(y.edges(),function(o){var i=p[o.v],a=p[o.w];!s.isUndefined(i)&&!s.isUndefined(a)&&(a.indegree++,i.out.push(p[o.w]))});var c=s.filter(p,function(o){return!o.indegree});return v(c)}function v(f){var y=[];function p(i){return function(a){a.merged||(s.isUndefined(a.barycenter)||s.isUndefined(i.barycenter)||a.barycenter>=i.barycenter)&&b(i,a)}}function c(i){return function(a){a.in.push(i),--a.indegree===0&&f.push(a)}}for(;f.length;){var o=f.pop();y.push(o),s.forEach(o.in.reverse(),p(o)),s.forEach(o.out,c(o))}return s.map(s.filter(y,function(i){return!i.merged}),function(i){return s.pick(i,["vs","i","barycenter","weight"])})}function b(f,y){var p=0,c=0;f.weight&&(p+=f.barycenter*f.weight,c+=f.weight),y.weight&&(p+=y.barycenter*y.weight,c+=y.weight),f.vs=y.vs.concat(f.vs),f.barycenter=p/c,f.weight=c,f.i=Math.min(y.i,f.i),y.merged=!0}},61026:function(E,V,r){var s=r(38436),m=r(35439),v=r(83678),b=r(87304);E.exports=f;function f(c,o,i,a){var h=c.children(o),O=c.node(o),W=O?O.borderLeft:void 0,z=O?O.borderRight:void 0,C={};W&&(h=s.filter(h,function(Y){return Y!==W&&Y!==z}));var P=m(c,h);s.forEach(P,function(Y){if(c.children(Y.v).length){var k=f(c,Y.v,i,a);C[Y.v]=k,s.has(k,"barycenter")&&p(Y,k)}});var U=v(P,i);y(U,C);var X=b(U,a);if(W&&(X.vs=s.flatten([W,X.vs,z],!0),c.predecessors(W).length)){var _=c.node(c.predecessors(W)[0]),$=c.node(c.predecessors(z)[0]);s.has(X,"barycenter")||(X.barycenter=0,X.weight=0),X.barycenter=(X.barycenter*X.weight+_.order+$.order)/(X.weight+2),X.weight+=2}return X}function y(c,o){s.forEach(c,function(i){i.vs=s.flatten(i.vs.map(function(a){return o[a]?o[a].vs:a}),!0)})}function p(c,o){s.isUndefined(c.barycenter)?(c.barycenter=o.barycenter,c.weight=o.weight):(c.barycenter=(c.barycenter*c.weight+o.barycenter*o.weight)/(c.weight+o.weight),c.weight+=o.weight)}},87304:function(E,V,r){var s=r(38436),m=r(11138);E.exports=v;function v(y,p){var c=m.partition(y,function(C){return s.has(C,"barycenter")}),o=c.lhs,i=s.sortBy(c.rhs,function(C){return-C.i}),a=[],h=0,O=0,W=0;o.sort(f(!!p)),W=b(a,i,W),s.forEach(o,function(C){W+=C.vs.length,a.push(C.vs),h+=C.barycenter*C.weight,O+=C.weight,W=b(a,i,W)});var z={vs:s.flatten(a,!0)};return O&&(z.barycenter=h/O,z.weight=O),z}function b(y,p,c){for(var o;p.length&&(o=s.last(p)).i<=c;)p.pop(),y.push(o.vs),c++;return c}function f(y){return function(p,c){return p.barycenter<c.barycenter?-1:p.barycenter>c.barycenter?1:y?c.i-p.i:p.i-c.i}}},24219:function(E,V,r){var s=r(38436);E.exports=m;function m(f){var y=b(f);s.forEach(f.graph().dummyChains,function(p){for(var c=f.node(p),o=c.edgeObj,i=v(f,y,o.v,o.w),a=i.path,h=i.lca,O=0,W=a[O],z=!0;p!==o.w;){if(c=f.node(p),z){for(;(W=a[O])!==h&&f.node(W).maxRank<c.rank;)O++;W===h&&(z=!1)}if(!z){for(;O<a.length-1&&f.node(W=a[O+1]).minRank<=c.rank;)O++;W=a[O]}f.setParent(p,W),p=f.successors(p)[0]}})}function v(f,y,p,c){var o=[],i=[],a=Math.min(y[p].low,y[c].low),h=Math.max(y[p].lim,y[c].lim),O,W;O=p;do O=f.parent(O),o.push(O);while(O&&(y[O].low>a||h>y[O].lim));for(W=O,O=c;(O=f.parent(O))!==W;)i.push(O);return{path:o.concat(i.reverse()),lca:W}}function b(f){var y={},p=0;function c(o){var i=p;s.forEach(f.children(o),c),y[o]={low:i,lim:p++}}return s.forEach(f.children(),c),y}},3573:function(E,V,r){"use strict";var s=r(38436),m=r(70574).Graph,v=r(11138);E.exports={positionX:z,findType1Conflicts:b,findType2Conflicts:f,addConflict:p,hasConflict:c,verticalAlignment:o,horizontalCompaction:i,alignCoordinates:O,findSmallestWidthAlignment:h,balance:W};function b(U,X){var _={};function $(Y,k){var A=0,w=0,x=Y.length,L=s.last(k);return s.forEach(k,function(F,Z){var G=y(U,F),Q=G?U.node(G).order:x;(G||F===L)&&(s.forEach(k.slice(w,Z+1),function(H){s.forEach(U.predecessors(H),function(J){var q=U.node(J),ft=q.order;(ft<A||Q<ft)&&!(q.dummy&&U.node(H).dummy)&&p(_,J,H)})}),w=Z+1,A=Q)}),k}return s.reduce(X,$),_}function f(U,X){var _={};function $(k,A,w,x,L){var F;s.forEach(s.range(A,w),function(Z){F=k[Z],U.node(F).dummy&&s.forEach(U.predecessors(F),function(G){var Q=U.node(G);Q.dummy&&(Q.order<x||Q.order>L)&&p(_,G,F)})})}function Y(k,A){var w=-1,x,L=0;return s.forEach(A,function(F,Z){if(U.node(F).dummy==="border"){var G=U.predecessors(F);G.length&&(x=U.node(G[0]).order,$(A,L,Z,w,x),L=Z,w=x)}$(A,L,A.length,x,k.length)}),A}return s.reduce(X,Y),_}function y(U,X){if(U.node(X).dummy)return s.find(U.predecessors(X),function(_){return U.node(_).dummy})}function p(U,X,_){if(X>_){var $=X;X=_,_=$}var Y=U[X];Y||(U[X]=Y={}),Y[_]=!0}function c(U,X,_){if(X>_){var $=X;X=_,_=$}return s.has(U[X],_)}function o(U,X,_,$){var Y={},k={},A={};return s.forEach(X,function(w){s.forEach(w,function(x,L){Y[x]=x,k[x]=x,A[x]=L})}),s.forEach(X,function(w){var x=-1;s.forEach(w,function(L){var F=$(L);if(F.length){F=s.sortBy(F,function(J){return A[J]});for(var Z=(F.length-1)/2,G=Math.floor(Z),Q=Math.ceil(Z);G<=Q;++G){var H=F[G];k[L]===L&&x<A[H]&&!c(_,L,H)&&(k[H]=L,k[L]=Y[L]=Y[H],x=A[H])}}})}),{root:Y,align:k}}function i(U,X,_,$,Y){var k={},A=a(U,X,_,Y),w=Y?"borderLeft":"borderRight";function x(Z,G){for(var Q=A.nodes(),H=Q.pop(),J={};H;)J[H]?Z(H):(J[H]=!0,Q.push(H),Q=Q.concat(G(H))),H=Q.pop()}function L(Z){k[Z]=A.inEdges(Z).reduce(function(G,Q){return Math.max(G,k[Q.v]+A.edge(Q))},0)}function F(Z){var G=A.outEdges(Z).reduce(function(H,J){return Math.min(H,k[J.w]-A.edge(J))},Number.POSITIVE_INFINITY),Q=U.node(Z);G!==Number.POSITIVE_INFINITY&&Q.borderType!==w&&(k[Z]=Math.max(k[Z],G))}return x(L,A.predecessors.bind(A)),x(F,A.successors.bind(A)),s.forEach($,function(Z){k[Z]=k[_[Z]]}),k}function a(U,X,_,$){var Y=new m,k=U.graph(),A=C(k.nodesep,k.edgesep,$);return s.forEach(X,function(w){var x;s.forEach(w,function(L){var F=_[L];if(Y.setNode(F),x){var Z=_[x],G=Y.edge(Z,F);Y.setEdge(Z,F,Math.max(A(U,L,x),G||0))}x=L})}),Y}function h(U,X){return s.minBy(s.values(X),function(_){var $=Number.NEGATIVE_INFINITY,Y=Number.POSITIVE_INFINITY;return s.forIn(_,function(k,A){var w=P(U,A)/2;$=Math.max(k+w,$),Y=Math.min(k-w,Y)}),$-Y})}function O(U,X){var _=s.values(X),$=s.min(_),Y=s.max(_);s.forEach(["u","d"],function(k){s.forEach(["l","r"],function(A){var w=k+A,x=U[w],L;if(x!==X){var F=s.values(x);L=A==="l"?$-s.min(F):Y-s.max(F),L&&(U[w]=s.mapValues(x,function(Z){return Z+L}))}})})}function W(U,X){return s.mapValues(U.ul,function(_,$){if(X)return U[X.toLowerCase()][$];var Y=s.sortBy(s.map(U,$));return(Y[1]+Y[2])/2})}function z(U){var X=v.buildLayerMatrix(U),_=s.merge(b(U,X),f(U,X)),$={},Y;s.forEach(["u","d"],function(A){Y=A==="u"?X:s.values(X).reverse(),s.forEach(["l","r"],function(w){w==="r"&&(Y=s.map(Y,function(Z){return s.values(Z).reverse()}));var x=(A==="u"?U.predecessors:U.successors).bind(U),L=o(U,Y,_,x),F=i(U,Y,L.root,L.align,w==="r");w==="r"&&(F=s.mapValues(F,function(Z){return-Z})),$[A+w]=F})});var k=h(U,$);return O($,k),W($,U.graph().align)}function C(U,X,_){return function($,Y,k){var A=$.node(Y),w=$.node(k),x=0,L;if(x+=A.width/2,s.has(A,"labelpos"))switch(A.labelpos.toLowerCase()){case"l":L=-A.width/2;break;case"r":L=A.width/2;break}if(L&&(x+=_?L:-L),L=0,x+=(A.dummy?X:U)/2,x+=(w.dummy?X:U)/2,x+=w.width/2,s.has(w,"labelpos"))switch(w.labelpos.toLowerCase()){case"l":L=w.width/2;break;case"r":L=-w.width/2;break}return L&&(x+=_?L:-L),L=0,x}}function P(U,X){return U.node(X).width}},17873:function(E,V,r){"use strict";var s=r(38436),m=r(11138),v=r(3573).positionX;E.exports=b;function b(y){y=m.asNonCompoundGraph(y),f(y),s.forEach(v(y),function(p,c){y.node(c).x=p})}function f(y){var p=m.buildLayerMatrix(y),c=y.graph().ranksep,o=0;s.forEach(p,function(i){var a=s.max(s.map(i,function(h){return y.node(h).height}));s.forEach(i,function(h){y.node(h).y=o+a/2}),o+=a+c})}},8457:function(E,V,r){"use strict";var s=r(38436),m=r(70574).Graph,v=r(76681).slack;E.exports=b;function b(c){var o=new m({directed:!1}),i=c.nodes()[0],a=c.nodeCount();o.setNode(i,{});for(var h,O;f(o,c)<a;)h=y(o,c),O=o.hasNode(h.v)?v(c,h):-v(c,h),p(o,c,O);return o}function f(c,o){function i(a){s.forEach(o.nodeEdges(a),function(h){var O=h.v,W=a===O?h.w:O;!c.hasNode(W)&&!v(o,h)&&(c.setNode(W,{}),c.setEdge(a,W,{}),i(W))})}return s.forEach(c.nodes(),i),c.nodeCount()}function y(c,o){return s.minBy(o.edges(),function(i){if(c.hasNode(i.v)!==c.hasNode(i.w))return v(o,i)})}function p(c,o,i){s.forEach(c.nodes(),function(a){o.node(a).rank+=i})}},78093:function(E,V,r){"use strict";var s=r(76681),m=s.longestPath,v=r(8457),b=r(42472);E.exports=f;function f(o){switch(o.graph().ranker){case"network-simplex":c(o);break;case"tight-tree":p(o);break;case"longest-path":y(o);break;default:c(o)}}var y=m;function p(o){m(o),v(o)}function c(o){b(o)}},42472:function(E,V,r){"use strict";var s=r(38436),m=r(8457),v=r(76681).slack,b=r(76681).longestPath,f=r(70574).alg.preorder,y=r(70574).alg.postorder,p=r(11138).simplify;E.exports=c,c.initLowLimValues=h,c.initCutValues=o,c.calcCutValue=a,c.leaveEdge=W,c.enterEdge=z,c.exchangeEdges=C;function c(_){_=p(_),b(_);var $=m(_);h($),o($,_);for(var Y,k;Y=W($);)k=z($,_,Y),C($,_,Y,k)}function o(_,$){var Y=y(_,_.nodes());Y=Y.slice(0,Y.length-1),s.forEach(Y,function(k){i(_,$,k)})}function i(_,$,Y){var k=_.node(Y),A=k.parent;_.edge(Y,A).cutvalue=a(_,$,Y)}function a(_,$,Y){var k=_.node(Y),A=k.parent,w=!0,x=$.edge(Y,A),L=0;return x||(w=!1,x=$.edge(A,Y)),L=x.weight,s.forEach($.nodeEdges(Y),function(F){var Z=F.v===Y,G=Z?F.w:F.v;if(G!==A){var Q=Z===w,H=$.edge(F).weight;if(L+=Q?H:-H,U(_,Y,G)){var J=_.edge(Y,G).cutvalue;L+=Q?-J:J}}}),L}function h(_,$){arguments.length<2&&($=_.nodes()[0]),O(_,{},1,$)}function O(_,$,Y,k,A){var w=Y,x=_.node(k);return $[k]=!0,s.forEach(_.neighbors(k),function(L){s.has($,L)||(Y=O(_,$,Y,L,k))}),x.low=w,x.lim=Y++,A?x.parent=A:delete x.parent,Y}function W(_){return s.find(_.edges(),function($){return _.edge($).cutvalue<0})}function z(_,$,Y){var k=Y.v,A=Y.w;$.hasEdge(k,A)||(k=Y.w,A=Y.v);var w=_.node(k),x=_.node(A),L=w,F=!1;w.lim>x.lim&&(L=x,F=!0);var Z=s.filter($.edges(),function(G){return F===X(_,_.node(G.v),L)&&F!==X(_,_.node(G.w),L)});return s.minBy(Z,function(G){return v($,G)})}function C(_,$,Y,k){var A=Y.v,w=Y.w;_.removeEdge(A,w),_.setEdge(k.v,k.w,{}),h(_),o(_,$),P(_,$)}function P(_,$){var Y=s.find(_.nodes(),function(A){return!$.node(A).parent}),k=f(_,Y);k=k.slice(1),s.forEach(k,function(A){var w=_.node(A).parent,x=$.edge(A,w),L=!1;x||(x=$.edge(w,A),L=!0),$.node(A).rank=$.node(w).rank+(L?x.minlen:-x.minlen)})}function U(_,$,Y){return _.hasEdge($,Y)}function X(_,$,Y){return Y.low<=$.lim&&$.lim<=Y.lim}},76681:function(E,V,r){"use strict";var s=r(38436);E.exports={longestPath:m,slack:v};function m(b){var f={};function y(p){var c=b.node(p);if(s.has(f,p))return c.rank;f[p]=!0;var o=s.min(s.map(b.outEdges(p),function(i){return y(i.w)-b.edge(i).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),c.rank=o}s.forEach(b.sources(),y)}function v(b,f){return b.node(f.w).rank-b.node(f.v).rank-b.edge(f).minlen}},11138:function(E,V,r){"use strict";var s=r(38436),m=r(70574).Graph;E.exports={addDummyNode:v,simplify:b,asNonCompoundGraph:f,successorWeights:y,predecessorWeights:p,intersectRect:c,buildLayerMatrix:o,normalizeRanks:i,removeEmptyRanks:a,addBorderNode:h,maxRank:O,partition:W,time:z,notime:C};function v(P,U,X,_){var $;do $=s.uniqueId(_);while(P.hasNode($));return X.dummy=U,P.setNode($,X),$}function b(P){var U=new m().setGraph(P.graph());return s.forEach(P.nodes(),function(X){U.setNode(X,P.node(X))}),s.forEach(P.edges(),function(X){var _=U.edge(X.v,X.w)||{weight:0,minlen:1},$=P.edge(X);U.setEdge(X.v,X.w,{weight:_.weight+$.weight,minlen:Math.max(_.minlen,$.minlen)})}),U}function f(P){var U=new m({multigraph:P.isMultigraph()}).setGraph(P.graph());return s.forEach(P.nodes(),function(X){P.children(X).length||U.setNode(X,P.node(X))}),s.forEach(P.edges(),function(X){U.setEdge(X,P.edge(X))}),U}function y(P){var U=s.map(P.nodes(),function(X){var _={};return s.forEach(P.outEdges(X),function($){_[$.w]=(_[$.w]||0)+P.edge($).weight}),_});return s.zipObject(P.nodes(),U)}function p(P){var U=s.map(P.nodes(),function(X){var _={};return s.forEach(P.inEdges(X),function($){_[$.v]=(_[$.v]||0)+P.edge($).weight}),_});return s.zipObject(P.nodes(),U)}function c(P,U){var X=P.x,_=P.y,$=U.x-X,Y=U.y-_,k=P.width/2,A=P.height/2;if(!$&&!Y)throw new Error("Not possible to find intersection inside of the rectangle");var w,x;return Math.abs(Y)*k>Math.abs($)*A?(Y<0&&(A=-A),w=A*$/Y,x=A):($<0&&(k=-k),w=k,x=k*Y/$),{x:X+w,y:_+x}}function o(P){var U=s.map(s.range(O(P)+1),function(){return[]});return s.forEach(P.nodes(),function(X){var _=P.node(X),$=_.rank;s.isUndefined($)||(U[$][_.order]=X)}),U}function i(P){var U=s.min(s.map(P.nodes(),function(X){return P.node(X).rank}));s.forEach(P.nodes(),function(X){var _=P.node(X);s.has(_,"rank")&&(_.rank-=U)})}function a(P){var U=s.min(s.map(P.nodes(),function(Y){return P.node(Y).rank})),X=[];s.forEach(P.nodes(),function(Y){var k=P.node(Y).rank-U;X[k]||(X[k]=[]),X[k].push(Y)});var _=0,$=P.graph().nodeRankFactor;s.forEach(X,function(Y,k){s.isUndefined(Y)&&k%$!==0?--_:_&&s.forEach(Y,function(A){P.node(A).rank+=_})})}function h(P,U,X,_){var $={width:0,height:0};return arguments.length>=4&&($.rank=X,$.order=_),v(P,"border",$,U)}function O(P){return s.max(s.map(P.nodes(),function(U){var X=P.node(U).rank;if(!s.isUndefined(X))return X}))}function W(P,U){var X={lhs:[],rhs:[]};return s.forEach(P,function(_){U(_)?X.lhs.push(_):X.rhs.push(_)}),X}function z(P,U){var X=s.now();try{return U()}finally{console.log(P+" time: "+(s.now()-X)+"ms")}}function C(P,U){return U()}},88177:function(E){E.exports="0.8.5"},28282:function(E,V,r){var s=r(82354);E.exports={Graph:s.Graph,json:r(28974),alg:r(12440),version:s.version}},2842:function(E,V,r){var s=r(89126);E.exports=m;function m(v){var b={},f=[],y;function p(c){s.has(b,c)||(b[c]=!0,y.push(c),s.each(v.successors(c),p),s.each(v.predecessors(c),p))}return s.each(v.nodes(),function(c){y=[],p(c),y.length&&f.push(y)}),f}},53984:function(E,V,r){var s=r(89126);E.exports=m;function m(b,f,y){s.isArray(f)||(f=[f]);var p=(b.isDirected()?b.successors:b.neighbors).bind(b),c=[],o={};return s.each(f,function(i){if(!b.hasNode(i))throw new Error("Graph does not have node: "+i);v(b,i,y==="post",o,p,c)}),c}function v(b,f,y,p,c,o){s.has(p,f)||(p[f]=!0,y||o.push(f),s.each(c(f),function(i){v(b,i,y,p,c,o)}),y&&o.push(f))}},84847:function(E,V,r){var s=r(63763),m=r(89126);E.exports=v;function v(b,f,y){return m.transform(b.nodes(),function(p,c){p[c]=s(b,c,f,y)},{})}},63763:function(E,V,r){var s=r(89126),m=r(75639);E.exports=b;var v=s.constant(1);function b(y,p,c,o){return f(y,String(p),c||v,o||function(i){return y.outEdges(i)})}function f(y,p,c,o){var i={},a=new m,h,O,W=function(z){var C=z.v!==h?z.v:z.w,P=i[C],U=c(z),X=O.distance+U;if(U<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+z+" Weight: "+U);X<P.distance&&(P.distance=X,P.predecessor=h,a.decrease(C,X))};for(y.nodes().forEach(function(z){var C=z===p?0:Number.POSITIVE_INFINITY;i[z]={distance:C},a.add(z,C)});a.size()>0&&(h=a.removeMin(),O=i[h],O.distance!==Number.POSITIVE_INFINITY);)o(h).forEach(W);return i}},9096:function(E,V,r){var s=r(89126),m=r(5023);E.exports=v;function v(b){return s.filter(m(b),function(f){return f.length>1||f.length===1&&b.hasEdge(f[0],f[0])})}},38924:function(E,V,r){var s=r(89126);E.exports=v;var m=s.constant(1);function v(f,y,p){return b(f,y||m,p||function(c){return f.outEdges(c)})}function b(f,y,p){var c={},o=f.nodes();return o.forEach(function(i){c[i]={},c[i][i]={distance:0},o.forEach(function(a){i!==a&&(c[i][a]={distance:Number.POSITIVE_INFINITY})}),p(i).forEach(function(a){var h=a.v===i?a.w:a.v,O=y(a);c[i][h]={distance:O,predecessor:i}})}),o.forEach(function(i){var a=c[i];o.forEach(function(h){var O=c[h];o.forEach(function(W){var z=O[i],C=a[W],P=O[W],U=z.distance+C.distance;U<P.distance&&(P.distance=U,P.predecessor=C.predecessor)})})}),c}},12440:function(E,V,r){E.exports={components:r(2842),dijkstra:r(63763),dijkstraAll:r(84847),findCycles:r(9096),floydWarshall:r(38924),isAcyclic:r(62707),postorder:r(63308),preorder:r(92648),prim:r(80514),tarjan:r(5023),topsort:r(2166)}},62707:function(E,V,r){var s=r(2166);E.exports=m;function m(v){try{s(v)}catch(b){if(b instanceof s.CycleException)return!1;throw b}return!0}},63308:function(E,V,r){var s=r(53984);E.exports=m;function m(v,b){return s(v,b,"post")}},92648:function(E,V,r){var s=r(53984);E.exports=m;function m(v,b){return s(v,b,"pre")}},80514:function(E,V,r){var s=r(89126),m=r(30771),v=r(75639);E.exports=b;function b(f,y){var p=new m,c={},o=new v,i;function a(O){var W=O.v===i?O.w:O.v,z=o.priority(W);if(z!==void 0){var C=y(O);C<z&&(c[W]=i,o.decrease(W,C))}}if(f.nodeCount()===0)return p;s.each(f.nodes(),function(O){o.add(O,Number.POSITIVE_INFINITY),p.setNode(O)}),o.decrease(f.nodes()[0],0);for(var h=!1;o.size()>0;){if(i=o.removeMin(),s.has(c,i))p.setEdge(i,c[i]);else{if(h)throw new Error("Input graph is not connected: "+f);h=!0}f.nodeEdges(i).forEach(a)}return p}},5023:function(E,V,r){var s=r(89126);E.exports=m;function m(v){var b=0,f=[],y={},p=[];function c(o){var i=y[o]={onStack:!0,lowlink:b,index:b++};if(f.push(o),v.successors(o).forEach(function(O){s.has(y,O)?y[O].onStack&&(i.lowlink=Math.min(i.lowlink,y[O].index)):(c(O),i.lowlink=Math.min(i.lowlink,y[O].lowlink))}),i.lowlink===i.index){var a=[],h;do h=f.pop(),y[h].onStack=!1,a.push(h);while(o!==h);p.push(a)}}return v.nodes().forEach(function(o){s.has(y,o)||c(o)}),p}},2166:function(E,V,r){var s=r(89126);E.exports=m,m.CycleException=v;function m(b){var f={},y={},p=[];function c(o){if(s.has(y,o))throw new v;s.has(f,o)||(y[o]=!0,f[o]=!0,s.each(b.predecessors(o),c),delete y[o],p.push(o))}if(s.each(b.sinks(),c),s.size(f)!==b.nodeCount())throw new v;return p}function v(){}v.prototype=new Error},75639:function(E,V,r){var s=r(89126);E.exports=m;function m(){this._arr=[],this._keyIndices={}}m.prototype.size=function(){return this._arr.length},m.prototype.keys=function(){return this._arr.map(function(v){return v.key})},m.prototype.has=function(v){return s.has(this._keyIndices,v)},m.prototype.priority=function(v){var b=this._keyIndices[v];if(b!==void 0)return this._arr[b].priority},m.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},m.prototype.add=function(v,b){var f=this._keyIndices;if(v=String(v),!s.has(f,v)){var y=this._arr,p=y.length;return f[v]=p,y.push({key:v,priority:b}),this._decrease(p),!0}return!1},m.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var v=this._arr.pop();return delete this._keyIndices[v.key],this._heapify(0),v.key},m.prototype.decrease=function(v,b){var f=this._keyIndices[v];if(b>this._arr[f].priority)throw new Error("New priority is greater than current priority. Key: "+v+" Old: "+this._arr[f].priority+" New: "+b);this._arr[f].priority=b,this._decrease(f)},m.prototype._heapify=function(v){var b=this._arr,f=2*v,y=f+1,p=v;f<b.length&&(p=b[f].priority<b[p].priority?f:p,y<b.length&&(p=b[y].priority<b[p].priority?y:p),p!==v&&(this._swap(v,p),this._heapify(p)))},m.prototype._decrease=function(v){for(var b=this._arr,f=b[v].priority,y;v!==0&&(y=v>>1,!(b[y].priority<f));)this._swap(v,y),v=y},m.prototype._swap=function(v,b){var f=this._arr,y=this._keyIndices,p=f[v],c=f[b];f[v]=c,f[b]=p,y[c.key]=v,y[p.key]=b}},30771:function(E,V,r){"use strict";var s=r(89126);E.exports=f;var m="\0",v="\0",b="";function f(a){this._isDirected=s.has(a,"directed")?a.directed:!0,this._isMultigraph=s.has(a,"multigraph")?a.multigraph:!1,this._isCompound=s.has(a,"compound")?a.compound:!1,this._label=void 0,this._defaultNodeLabelFn=s.constant(void 0),this._defaultEdgeLabelFn=s.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[v]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}f.prototype._nodeCount=0,f.prototype._edgeCount=0,f.prototype.isDirected=function(){return this._isDirected},f.prototype.isMultigraph=function(){return this._isMultigraph},f.prototype.isCompound=function(){return this._isCompound},f.prototype.setGraph=function(a){return this._label=a,this},f.prototype.graph=function(){return this._label},f.prototype.setDefaultNodeLabel=function(a){return s.isFunction(a)||(a=s.constant(a)),this._defaultNodeLabelFn=a,this},f.prototype.nodeCount=function(){return this._nodeCount},f.prototype.nodes=function(){return s.keys(this._nodes)},f.prototype.sources=function(){var a=this;return s.filter(this.nodes(),function(h){return s.isEmpty(a._in[h])})},f.prototype.sinks=function(){var a=this;return s.filter(this.nodes(),function(h){return s.isEmpty(a._out[h])})},f.prototype.setNodes=function(a,h){var O=arguments,W=this;return s.each(a,function(z){O.length>1?W.setNode(z,h):W.setNode(z)}),this},f.prototype.setNode=function(a,h){return s.has(this._nodes,a)?(arguments.length>1&&(this._nodes[a]=h),this):(this._nodes[a]=arguments.length>1?h:this._defaultNodeLabelFn(a),this._isCompound&&(this._parent[a]=v,this._children[a]={},this._children[v][a]=!0),this._in[a]={},this._preds[a]={},this._out[a]={},this._sucs[a]={},++this._nodeCount,this)},f.prototype.node=function(a){return this._nodes[a]},f.prototype.hasNode=function(a){return s.has(this._nodes,a)},f.prototype.removeNode=function(a){var h=this;if(s.has(this._nodes,a)){var O=function(W){h.removeEdge(h._edgeObjs[W])};delete this._nodes[a],this._isCompound&&(this._removeFromParentsChildList(a),delete this._parent[a],s.each(this.children(a),function(W){h.setParent(W)}),delete this._children[a]),s.each(s.keys(this._in[a]),O),delete this._in[a],delete this._preds[a],s.each(s.keys(this._out[a]),O),delete this._out[a],delete this._sucs[a],--this._nodeCount}return this},f.prototype.setParent=function(a,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(s.isUndefined(h))h=v;else{h+="";for(var O=h;!s.isUndefined(O);O=this.parent(O))if(O===a)throw new Error("Setting "+h+" as parent of "+a+" would create a cycle");this.setNode(h)}return this.setNode(a),this._removeFromParentsChildList(a),this._parent[a]=h,this._children[h][a]=!0,this},f.prototype._removeFromParentsChildList=function(a){delete this._children[this._parent[a]][a]},f.prototype.parent=function(a){if(this._isCompound){var h=this._parent[a];if(h!==v)return h}},f.prototype.children=function(a){if(s.isUndefined(a)&&(a=v),this._isCompound){var h=this._children[a];if(h)return s.keys(h)}else{if(a===v)return this.nodes();if(this.hasNode(a))return[]}},f.prototype.predecessors=function(a){var h=this._preds[a];if(h)return s.keys(h)},f.prototype.successors=function(a){var h=this._sucs[a];if(h)return s.keys(h)},f.prototype.neighbors=function(a){var h=this.predecessors(a);if(h)return s.union(h,this.successors(a))},f.prototype.isLeaf=function(a){var h;return this.isDirected()?h=this.successors(a):h=this.neighbors(a),h.length===0},f.prototype.filterNodes=function(a){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var O=this;s.each(this._nodes,function(C,P){a(P)&&h.setNode(P,C)}),s.each(this._edgeObjs,function(C){h.hasNode(C.v)&&h.hasNode(C.w)&&h.setEdge(C,O.edge(C))});var W={};function z(C){var P=O.parent(C);return P===void 0||h.hasNode(P)?(W[C]=P,P):P in W?W[P]:z(P)}return this._isCompound&&s.each(h.nodes(),function(C){h.setParent(C,z(C))}),h},f.prototype.setDefaultEdgeLabel=function(a){return s.isFunction(a)||(a=s.constant(a)),this._defaultEdgeLabelFn=a,this},f.prototype.edgeCount=function(){return this._edgeCount},f.prototype.edges=function(){return s.values(this._edgeObjs)},f.prototype.setPath=function(a,h){var O=this,W=arguments;return s.reduce(a,function(z,C){return W.length>1?O.setEdge(z,C,h):O.setEdge(z,C),C}),this},f.prototype.setEdge=function(){var a,h,O,W,z=!1,C=arguments[0];typeof C=="object"&&C!==null&&"v"in C?(a=C.v,h=C.w,O=C.name,arguments.length===2&&(W=arguments[1],z=!0)):(a=C,h=arguments[1],O=arguments[3],arguments.length>2&&(W=arguments[2],z=!0)),a=""+a,h=""+h,s.isUndefined(O)||(O=""+O);var P=c(this._isDirected,a,h,O);if(s.has(this._edgeLabels,P))return z&&(this._edgeLabels[P]=W),this;if(!s.isUndefined(O)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(a),this.setNode(h),this._edgeLabels[P]=z?W:this._defaultEdgeLabelFn(a,h,O);var U=o(this._isDirected,a,h,O);return a=U.v,h=U.w,Object.freeze(U),this._edgeObjs[P]=U,y(this._preds[h],a),y(this._sucs[a],h),this._in[h][P]=U,this._out[a][P]=U,this._edgeCount++,this},f.prototype.edge=function(a,h,O){var W=arguments.length===1?i(this._isDirected,arguments[0]):c(this._isDirected,a,h,O);return this._edgeLabels[W]},f.prototype.hasEdge=function(a,h,O){var W=arguments.length===1?i(this._isDirected,arguments[0]):c(this._isDirected,a,h,O);return s.has(this._edgeLabels,W)},f.prototype.removeEdge=function(a,h,O){var W=arguments.length===1?i(this._isDirected,arguments[0]):c(this._isDirected,a,h,O),z=this._edgeObjs[W];return z&&(a=z.v,h=z.w,delete this._edgeLabels[W],delete this._edgeObjs[W],p(this._preds[h],a),p(this._sucs[a],h),delete this._in[h][W],delete this._out[a][W],this._edgeCount--),this},f.prototype.inEdges=function(a,h){var O=this._in[a];if(O){var W=s.values(O);return h?s.filter(W,function(z){return z.v===h}):W}},f.prototype.outEdges=function(a,h){var O=this._out[a];if(O){var W=s.values(O);return h?s.filter(W,function(z){return z.w===h}):W}},f.prototype.nodeEdges=function(a,h){var O=this.inEdges(a,h);if(O)return O.concat(this.outEdges(a,h))};function y(a,h){a[h]?a[h]++:a[h]=1}function p(a,h){--a[h]||delete a[h]}function c(a,h,O,W){var z=""+h,C=""+O;if(!a&&z>C){var P=z;z=C,C=P}return z+b+C+b+(s.isUndefined(W)?m:W)}function o(a,h,O,W){var z=""+h,C=""+O;if(!a&&z>C){var P=z;z=C,C=P}var U={v:z,w:C};return W&&(U.name=W),U}function i(a,h){return c(a,h.v,h.w,h.name)}},82354:function(E,V,r){E.exports={Graph:r(30771),version:r(49631)}},28974:function(E,V,r){var s=r(89126),m=r(30771);E.exports={write:v,read:y};function v(p){var c={options:{directed:p.isDirected(),multigraph:p.isMultigraph(),compound:p.isCompound()},nodes:b(p),edges:f(p)};return s.isUndefined(p.graph())||(c.value=s.clone(p.graph())),c}function b(p){return s.map(p.nodes(),function(c){var o=p.node(c),i=p.parent(c),a={v:c};return s.isUndefined(o)||(a.value=o),s.isUndefined(i)||(a.parent=i),a})}function f(p){return s.map(p.edges(),function(c){var o=p.edge(c),i={v:c.v,w:c.w};return s.isUndefined(c.name)||(i.name=c.name),s.isUndefined(o)||(i.value=o),i})}function y(p){var c=new m(p.options).setGraph(p.value);return s.each(p.nodes,function(o){c.setNode(o.v,o.value),o.parent&&c.setParent(o.v,o.parent)}),s.each(p.edges,function(o){c.setEdge({v:o.v,w:o.w,name:o.name},o.value)}),c}},89126:function(E,V,r){var s;try{s={clone:r(66678),constant:r(75703),each:r(66073),filter:r(63105),has:r(18721),isArray:r(1469),isEmpty:r(41609),isFunction:r(23560),isUndefined:r(52353),keys:r(3674),map:r(35161),reduce:r(54061),size:r(84238),transform:r(68718),union:r(93386),values:r(52628)}}catch(m){}s||(s=window._),E.exports=s},49631:function(E){E.exports="2.1.8"},44091:function(E,V,r){"use strict";r.r(V),r.d(V,{isAnyArray:function(){return m}});const s=Object.prototype.toString;function m(v){const b=s.call(v);return b.endsWith("Array]")&&!b.includes("Big")}},96874:function(E){function V(r,s,m){switch(m.length){case 0:return r.call(s);case 1:return r.call(s,m[0]);case 2:return r.call(s,m[0],m[1]);case 3:return r.call(s,m[0],m[1],m[2])}return r.apply(s,m)}E.exports=V},77412:function(E){function V(r,s){for(var m=-1,v=r==null?0:r.length;++m<v&&s(r[m],m,r)!==!1;);return r}E.exports=V},47443:function(E,V,r){var s=r(42118);function m(v,b){var f=v==null?0:v.length;return!!f&&s(v,b,0)>-1}E.exports=m},1196:function(E){function V(r,s,m){for(var v=-1,b=r==null?0:r.length;++v<b;)if(m(s,r[v]))return!0;return!1}E.exports=V},62663:function(E){function V(r,s,m,v){var b=-1,f=r==null?0:r.length;for(v&&f&&(m=r[++b]);++b<f;)m=s(m,r[b],b,r);return m}E.exports=V},48983:function(E,V,r){var s=r(40371),m=s("length");E.exports=m},86556:function(E,V,r){var s=r(89465),m=r(77813);function v(b,f,y){(y!==void 0&&!m(b[f],y)||y===void 0&&!(f in b))&&s(b,f,y)}E.exports=v},34865:function(E,V,r){var s=r(89465),m=r(77813),v=Object.prototype,b=v.hasOwnProperty;function f(y,p,c){var o=y[p];(!(b.call(y,p)&&m(o,c))||c===void 0&&!(p in y))&&s(y,p,c)}E.exports=f},44037:function(E,V,r){var s=r(98363),m=r(3674);function v(b,f){return b&&s(f,m(f),b)}E.exports=v},63886:function(E,V,r){var s=r(98363),m=r(23360);function v(b,f){return b&&s(f,m(f),b)}E.exports=v},89465:function(E,V,r){var s=r(38777);function m(v,b,f){b=="__proto__"&&s?s(v,b,{configurable:!0,enumerable:!0,value:f,writable:!0}):v[b]=f}E.exports=m},85990:function(E,V,r){var s=r(46384),m=r(77412),v=r(34865),b=r(44037),f=r(63886),y=r(64626),p=r(6450),c=r(18805),o=r(1911),i=r(58234),a=r(46904),h=r(64160),O=r(43824),W=r(29148),z=r(38517),C=r(1469),P=r(44144),U=r(56688),X=r(13218),_=r(72928),$=r(3674),Y=r(23360),k=1,A=2,w=4,x="[object Arguments]",L="[object Array]",F="[object Boolean]",Z="[object Date]",G="[object Error]",Q="[object Function]",H="[object GeneratorFunction]",J="[object Map]",q="[object Number]",ft="[object Object]",ht="[object RegExp]",vt="[object Set]",Et="[object String]",mt="[object Symbol]",ct="[object WeakMap]",at="[object ArrayBuffer]",ut="[object DataView]",wt="[object Float32Array]",Ot="[object Float64Array]",et="[object Int8Array]",dt="[object Int16Array]",ot="[object Int32Array]",pt="[object Uint8Array]",At="[object Uint8ClampedArray]",Pt="[object Uint16Array]",Ct="[object Uint32Array]",Mt={};Mt[x]=Mt[L]=Mt[at]=Mt[ut]=Mt[F]=Mt[Z]=Mt[wt]=Mt[Ot]=Mt[et]=Mt[dt]=Mt[ot]=Mt[J]=Mt[q]=Mt[ft]=Mt[ht]=Mt[vt]=Mt[Et]=Mt[mt]=Mt[pt]=Mt[At]=Mt[Pt]=Mt[Ct]=!0,Mt[G]=Mt[Q]=Mt[ct]=!1;function Ut(St,Kt,re,$t,Yt,qt){var Lt,xt=Kt&k,Wt=Kt&A,Zt=Kt&w;if(re&&(Lt=Yt?re(St,$t,Yt,qt):re(St)),Lt!==void 0)return Lt;if(!X(St))return St;var Xt=C(St);if(Xt){if(Lt=O(St),!xt)return p(St,Lt)}else{var Ft=h(St),ae=Ft==Q||Ft==H;if(P(St))return y(St,xt);if(Ft==ft||Ft==x||ae&&!Yt){if(Lt=Wt||ae?{}:z(St),!xt)return Wt?o(St,f(Lt,St)):c(St,b(Lt,St))}else{if(!Mt[Ft])return Yt?St:{};Lt=W(St,Ft,xt)}}qt||(qt=new s);var Ne=qt.get(St);if(Ne)return Ne;qt.set(St,Lt),_(St)?St.forEach(function(we){Lt.add(Ut(we,Kt,re,we,St,qt))}):U(St)&&St.forEach(function(we,fe){Lt.set(fe,Ut(we,Kt,re,fe,St,qt))});var Oe=Zt?Wt?a:i:Wt?Y:$,me=Xt?void 0:Oe(St);return m(me||St,function(we,fe){me&&(fe=we,we=St[fe]),v(Lt,fe,Ut(we,Kt,re,fe,St,qt))}),Lt}E.exports=Ut},3118:function(E,V,r){var s=r(13218),m=Object.create,v=function(){function b(){}return function(f){if(!s(f))return{};if(m)return m(f);b.prototype=f;var y=new b;return b.prototype=void 0,y}}();E.exports=v},89881:function(E,V,r){var s=r(47816),m=r(99291),v=m(s);E.exports=v},56029:function(E,V,r){var s=r(33448);function m(v,b,f){for(var y=-1,p=v.length;++y<p;){var c=v[y],o=b(c);if(o!=null&&(i===void 0?o===o&&!s(o):f(o,i)))var i=o,a=c}return a}E.exports=m},80760:function(E,V,r){var s=r(89881);function m(v,b){var f=[];return s(v,function(y,p,c){b(y,p,c)&&f.push(y)}),f}E.exports=m},21078:function(E,V,r){var s=r(62488),m=r(37285);function v(b,f,y,p,c){var o=-1,i=b.length;for(y||(y=m),c||(c=[]);++o<i;){var a=b[o];f>0&&y(a)?f>1?v(a,f-1,y,p,c):s(c,a):p||(c[c.length]=a)}return c}E.exports=v},28483:function(E,V,r){var s=r(25063),m=s();E.exports=m},47816:function(E,V,r){var s=r(28483),m=r(3674);function v(b,f){return b&&s(b,f,m)}E.exports=v},53325:function(E){function V(r,s){return r>s}E.exports=V},78565:function(E){var V=Object.prototype,r=V.hasOwnProperty;function s(m,v){return m!=null&&r.call(m,v)}E.exports=s},42118:function(E,V,r){var s=r(41848),m=r(62722),v=r(39375);function b(f,y,p){return y===y?v(f,y,p):s(f,m,p)}E.exports=b},25588:function(E,V,r){var s=r(64160),m=r(37005),v="[object Map]";function b(f){return m(f)&&s(f)==v}E.exports=b},62722:function(E){function V(r){return r!==r}E.exports=V},29221:function(E,V,r){var s=r(64160),m=r(37005),v="[object Set]";function b(f){return m(f)&&s(f)==v}E.exports=b},10313:function(E,V,r){var s=r(13218),m=r(25726),v=r(33498),b=Object.prototype,f=b.hasOwnProperty;function y(p){if(!s(p))return v(p);var c=m(p),o=[];for(var i in p)i=="constructor"&&(c||!f.call(p,i))||o.push(i);return o}E.exports=y},70433:function(E){function V(r,s){return r<s}E.exports=V},69199:function(E,V,r){var s=r(89881),m=r(98612);function v(b,f){var y=-1,p=m(b)?Array(b.length):[];return s(b,function(c,o,i){p[++y]=f(c,o,i)}),p}E.exports=v},42980:function(E,V,r){var s=r(46384),m=r(86556),v=r(28483),b=r(59783),f=r(13218),y=r(23360),p=r(36390);function c(o,i,a,h,O){o!==i&&v(i,function(W,z){if(O||(O=new s),f(W))b(o,i,z,a,c,h,O);else{var C=h?h(p(o,z),W,z+"",o,i,O):void 0;C===void 0&&(C=W),m(o,z,C)}},y)}E.exports=c},59783:function(E,V,r){var s=r(86556),m=r(64626),v=r(77133),b=r(6450),f=r(38517),y=r(35694),p=r(1469),c=r(29246),o=r(44144),i=r(23560),a=r(13218),h=r(68630),O=r(36719),W=r(36390),z=r(59881);function C(P,U,X,_,$,Y,k){var A=W(P,X),w=W(U,X),x=k.get(w);if(x){s(P,X,x);return}var L=Y?Y(A,w,X+"",P,U,k):void 0,F=L===void 0;if(F){var Z=p(w),G=!Z&&o(w),Q=!Z&&!G&&O(w);L=w,Z||G||Q?p(A)?L=A:c(A)?L=b(A):G?(F=!1,L=m(w,!0)):Q?(F=!1,L=v(w,!0)):L=[]:h(w)||y(w)?(L=A,y(A)?L=z(A):(!a(A)||i(A))&&(L=f(w))):F=!1}F&&(k.set(w,L),$(L,w,_,Y,k),k.delete(w)),s(P,X,L)}E.exports=C},82689:function(E,V,r){var s=r(29932),m=r(97786),v=r(67206),b=r(69199),f=r(71131),y=r(51717),p=r(85022),c=r(6557),o=r(1469);function i(a,h,O){h.length?h=s(h,function(C){return o(C)?function(P){return m(P,C.length===1?C[0]:C)}:C}):h=[c];var W=-1;h=s(h,y(v));var z=b(a,function(C,P,U){var X=s(h,function(_){return _(C)});return{criteria:X,index:++W,value:C}});return f(z,function(C,P){return p(C,P,O)})}E.exports=i},25970:function(E,V,r){var s=r(63012),m=r(79095);function v(b,f){return s(b,f,function(y,p){return m(b,p)})}E.exports=v},63012:function(E,V,r){var s=r(97786),m=r(10611),v=r(71811);function b(f,y,p){for(var c=-1,o=y.length,i={};++c<o;){var a=y[c],h=s(f,a);p(h,a)&&m(i,v(a,f),h)}return i}E.exports=b},40098:function(E){var V=Math.ceil,r=Math.max;function s(m,v,b,f){for(var y=-1,p=r(V((v-m)/(b||1)),0),c=Array(p);p--;)c[f?p:++y]=m,m+=b;return c}E.exports=s},10107:function(E){function V(r,s,m,v,b){return b(r,function(f,y,p){m=v?(v=!1,f):s(m,f,y,p)}),m}E.exports=V},5976:function(E,V,r){var s=r(6557),m=r(45357),v=r(30061);function b(f,y){return v(m(f,y,s),f+"")}E.exports=b},10611:function(E,V,r){var s=r(34865),m=r(71811),v=r(65776),b=r(13218),f=r(40327);function y(p,c,o,i){if(!b(p))return p;c=m(c,p);for(var a=-1,h=c.length,O=h-1,W=p;W!=null&&++a<h;){var z=f(c[a]),C=o;if(z==="__proto__"||z==="constructor"||z==="prototype")return p;if(a!=O){var P=W[z];C=i?i(P,z,W):void 0,C===void 0&&(C=b(P)?P:v(c[a+1])?[]:{})}s(W,z,C),W=W[z]}return p}E.exports=y},56560:function(E,V,r){var s=r(75703),m=r(38777),v=r(6557),b=m?function(f,y){return m(f,"toString",{configurable:!0,enumerable:!1,value:s(y),writable:!0})}:v;E.exports=b},71131:function(E){function V(r,s){var m=r.length;for(r.sort(s);m--;)r[m]=r[m].value;return r}E.exports=V},45652:function(E,V,r){var s=r(88668),m=r(47443),v=r(1196),b=r(74757),f=r(23593),y=r(21814),p=200;function c(o,i,a){var h=-1,O=m,W=o.length,z=!0,C=[],P=C;if(a)z=!1,O=v;else if(W>=p){var U=i?null:f(o);if(U)return y(U);z=!1,O=b,P=new s}else P=i?[]:C;t:for(;++h<W;){var X=o[h],_=i?i(X):X;if(X=a||X!==0?X:0,z&&_===_){for(var $=P.length;$--;)if(P[$]===_)continue t;i&&P.push(_),C.push(X)}else O(P,_,a)||(P!==C&&P.push(_),C.push(X))}return C}E.exports=c},47415:function(E,V,r){var s=r(29932);function m(v,b){return s(b,function(f){return v[f]})}E.exports=m},1757:function(E){function V(r,s,m){for(var v=-1,b=r.length,f=s.length,y={};++v<b;){var p=v<f?s[v]:void 0;m(y,r[v],p)}return y}E.exports=V},54290:function(E,V,r){var s=r(6557);function m(v){return typeof v=="function"?v:s}E.exports=m},74318:function(E,V,r){var s=r(11149);function m(v){var b=new v.constructor(v.byteLength);return new s(b).set(new s(v)),b}E.exports=m},64626:function(E,V,r){E=r.nmd(E);var s=r(55639),m=V&&!V.nodeType&&V,v=m&&!0&&E&&!E.nodeType&&E,b=v&&v.exports===m,f=b?s.Buffer:void 0,y=f?f.allocUnsafe:void 0;function p(c,o){if(o)return c.slice();var i=c.length,a=y?y(i):new c.constructor(i);return c.copy(a),a}E.exports=p},57157:function(E,V,r){var s=r(74318);function m(v,b){var f=b?s(v.buffer):v.buffer;return new v.constructor(f,v.byteOffset,v.byteLength)}E.exports=m},93147:function(E){var V=/\w*$/;function r(s){var m=new s.constructor(s.source,V.exec(s));return m.lastIndex=s.lastIndex,m}E.exports=r},40419:function(E,V,r){var s=r(62705),m=s?s.prototype:void 0,v=m?m.valueOf:void 0;function b(f){return v?Object(v.call(f)):{}}E.exports=b},77133:function(E,V,r){var s=r(74318);function m(v,b){var f=b?s(v.buffer):v.buffer;return new v.constructor(f,v.byteOffset,v.length)}E.exports=m},26393:function(E,V,r){var s=r(33448);function m(v,b){if(v!==b){var f=v!==void 0,y=v===null,p=v===v,c=s(v),o=b!==void 0,i=b===null,a=b===b,h=s(b);if(!i&&!h&&!c&&v>b||c&&o&&a&&!i&&!h||y&&o&&a||!f&&a||!p)return 1;if(!y&&!c&&!h&&v<b||h&&f&&p&&!y&&!c||i&&f&&p||!o&&p||!a)return-1}return 0}E.exports=m},85022:function(E,V,r){var s=r(26393);function m(v,b,f){for(var y=-1,p=v.criteria,c=b.criteria,o=p.length,i=f.length;++y<o;){var a=s(p[y],c[y]);if(a){if(y>=i)return a;var h=f[y];return a*(h=="desc"?-1:1)}}return v.index-b.index}E.exports=m},6450:function(E){function V(r,s){var m=-1,v=r.length;for(s||(s=Array(v));++m<v;)s[m]=r[m];return s}E.exports=V},98363:function(E,V,r){var s=r(34865),m=r(89465);function v(b,f,y,p){var c=!y;y||(y={});for(var o=-1,i=f.length;++o<i;){var a=f[o],h=p?p(y[a],b[a],a,y,b):void 0;h===void 0&&(h=b[a]),c?m(y,a,h):s(y,a,h)}return y}E.exports=v},18805:function(E,V,r){var s=r(98363),m=r(99551);function v(b,f){return s(b,m(b),f)}E.exports=v},1911:function(E,V,r){var s=r(98363),m=r(51442);function v(b,f){return s(b,m(b),f)}E.exports=v},21463:function(E,V,r){var s=r(5976),m=r(16612);function v(b){return s(function(f,y){var p=-1,c=y.length,o=c>1?y[c-1]:void 0,i=c>2?y[2]:void 0;for(o=b.length>3&&typeof o=="function"?(c--,o):void 0,i&&m(y[0],y[1],i)&&(o=c<3?void 0:o,c=1),f=Object(f);++p<c;){var a=y[p];a&&b(f,a,p,o)}return f})}E.exports=v},99291:function(E,V,r){var s=r(98612);function m(v,b){return function(f,y){if(f==null)return f;if(!s(f))return v(f,y);for(var p=f.length,c=b?p:-1,o=Object(f);(b?c--:++c<p)&&y(o[c],c,o)!==!1;);return f}}E.exports=m},25063:function(E){function V(r){return function(s,m,v){for(var b=-1,f=Object(s),y=v(s),p=y.length;p--;){var c=y[r?p:++b];if(m(f[c],c,f)===!1)break}return s}}E.exports=V},47445:function(E,V,r){var s=r(40098),m=r(16612),v=r(18601);function b(f){return function(y,p,c){return c&&typeof c!="number"&&m(y,p,c)&&(p=c=void 0),y=v(y),p===void 0?(p=y,y=0):p=v(p),c=c===void 0?y<p?1:-1:v(c),s(y,p,c,f)}}E.exports=b},23593:function(E,V,r){var s=r(58525),m=r(28117),v=r(21814),b=1/0,f=s&&1/v(new s([,-0]))[1]==b?function(y){return new s(y)}:m;E.exports=f},38777:function(E,V,r){var s=r(10852),m=function(){try{var v=s(Object,"defineProperty");return v({},"",{}),v}catch(b){}}();E.exports=m},99021:function(E,V,r){var s=r(85564),m=r(45357),v=r(30061);function b(f){return v(m(f,void 0,s),f+"")}E.exports=b},46904:function(E,V,r){var s=r(68866),m=r(51442),v=r(23360);function b(f){return s(f,v,m)}E.exports=b},85924:function(E,V,r){var s=r(5569),m=s(Object.getPrototypeOf,Object);E.exports=m},51442:function(E,V,r){var s=r(62488),m=r(85924),v=r(99551),b=r(70479),f=Object.getOwnPropertySymbols,y=f?function(p){for(var c=[];p;)s(c,v(p)),p=m(p);return c}:b;E.exports=y},62689:function(E){var V="\\ud800-\\udfff",r="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",m="\\u20d0-\\u20ff",v=r+s+m,b="\\ufe0e\\ufe0f",f="\\u200d",y=RegExp("["+f+V+v+b+"]");function p(c){return y.test(c)}E.exports=p},43824:function(E){var V=Object.prototype,r=V.hasOwnProperty;function s(m){var v=m.length,b=new m.constructor(v);return v&&typeof m[0]=="string"&&r.call(m,"index")&&(b.index=m.index,b.input=m.input),b}E.exports=s},29148:function(E,V,r){var s=r(74318),m=r(57157),v=r(93147),b=r(40419),f=r(77133),y="[object Boolean]",p="[object Date]",c="[object Map]",o="[object Number]",i="[object RegExp]",a="[object Set]",h="[object String]",O="[object Symbol]",W="[object ArrayBuffer]",z="[object DataView]",C="[object Float32Array]",P="[object Float64Array]",U="[object Int8Array]",X="[object Int16Array]",_="[object Int32Array]",$="[object Uint8Array]",Y="[object Uint8ClampedArray]",k="[object Uint16Array]",A="[object Uint32Array]";function w(x,L,F){var Z=x.constructor;switch(L){case W:return s(x);case y:case p:return new Z(+x);case z:return m(x,F);case C:case P:case U:case X:case _:case $:case Y:case k:case A:return f(x,F);case c:return new Z;case o:case h:return new Z(x);case i:return v(x);case a:return new Z;case O:return b(x)}}E.exports=w},38517:function(E,V,r){var s=r(3118),m=r(85924),v=r(25726);function b(f){return typeof f.constructor=="function"&&!v(f)?s(m(f)):{}}E.exports=b},37285:function(E,V,r){var s=r(62705),m=r(35694),v=r(1469),b=s?s.isConcatSpreadable:void 0;function f(y){return v(y)||m(y)||!!(b&&y&&y[b])}E.exports=f},16612:function(E,V,r){var s=r(77813),m=r(98612),v=r(65776),b=r(13218);function f(y,p,c){if(!b(c))return!1;var o=typeof p;return(o=="number"?m(c)&&v(p,c.length):o=="string"&&p in c)?s(c[p],y):!1}E.exports=f},33498:function(E){function V(r){var s=[];if(r!=null)for(var m in Object(r))s.push(m);return s}E.exports=V},45357:function(E,V,r){var s=r(96874),m=Math.max;function v(b,f,y){return f=m(f===void 0?b.length-1:f,0),function(){for(var p=arguments,c=-1,o=m(p.length-f,0),i=Array(o);++c<o;)i[c]=p[f+c];c=-1;for(var a=Array(f+1);++c<f;)a[c]=p[c];return a[f]=y(i),s(b,this,a)}}E.exports=v},36390:function(E){function V(r,s){if(!(s==="constructor"&&typeof r[s]=="function")&&s!="__proto__")return r[s]}E.exports=V},30061:function(E,V,r){var s=r(56560),m=r(21275),v=m(s);E.exports=v},21275:function(E){var V=800,r=16,s=Date.now;function m(v){var b=0,f=0;return function(){var y=s(),p=r-(y-f);if(f=y,p>0){if(++b>=V)return arguments[0]}else b=0;return v.apply(void 0,arguments)}}E.exports=m},39375:function(E){function V(r,s,m){for(var v=m-1,b=r.length;++v<b;)if(r[v]===s)return v;return-1}E.exports=V},88016:function(E,V,r){var s=r(48983),m=r(62689),v=r(21903);function b(f){return m(f)?v(f):s(f)}E.exports=b},21903:function(E){var V="\\ud800-\\udfff",r="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",m="\\u20d0-\\u20ff",v=r+s+m,b="\\ufe0e\\ufe0f",f="["+V+"]",y="["+v+"]",p="\\ud83c[\\udffb-\\udfff]",c="(?:"+y+"|"+p+")",o="[^"+V+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",O=c+"?",W="["+b+"]?",z="(?:"+h+"(?:"+[o,i,a].join("|")+")"+W+O+")*",C=W+O+z,P="(?:"+[o+y+"?",y,i,a,f].join("|")+")",U=RegExp(p+"(?="+p+")|"+P+C,"g");function X(_){for(var $=U.lastIndex=0;U.test(_);)++$;return $}E.exports=X},66678:function(E,V,r){var s=r(85990),m=4;function v(b){return s(b,m)}E.exports=v},50361:function(E,V,r){var s=r(85990),m=1,v=4;function b(f){return s(f,m|v)}E.exports=b},75703:function(E){function V(r){return function(){return r}}E.exports=V},91747:function(E,V,r){var s=r(5976),m=r(77813),v=r(16612),b=r(23360),f=Object.prototype,y=f.hasOwnProperty,p=s(function(c,o){c=Object(c);var i=-1,a=o.length,h=a>2?o[2]:void 0;for(h&&v(o[0],o[1],h)&&(a=1);++i<a;)for(var O=o[i],W=b(O),z=-1,C=W.length;++z<C;){var P=W[z],U=c[P];(U===void 0||m(U,f[P])&&!y.call(c,P))&&(c[P]=O[P])}return c});E.exports=p},66073:function(E,V,r){E.exports=r(84486)},63105:function(E,V,r){var s=r(34963),m=r(80760),v=r(67206),b=r(1469);function f(y,p){var c=b(y)?s:m;return c(y,v(p,3))}E.exports=f},85564:function(E,V,r){var s=r(21078);function m(v){var b=v==null?0:v.length;return b?s(v,1):[]}E.exports=m},84486:function(E,V,r){var s=r(77412),m=r(89881),v=r(54290),b=r(1469);function f(y,p){var c=b(y)?s:m;return c(y,v(p))}E.exports=f},62620:function(E,V,r){var s=r(28483),m=r(54290),v=r(23360);function b(f,y){return f==null?f:s(f,m(y),v)}E.exports=b},18721:function(E,V,r){var s=r(78565),m=r(222);function v(b,f){return b!=null&&m(b,f,s)}E.exports=v},29246:function(E,V,r){var s=r(98612),m=r(37005);function v(b){return m(b)&&s(b)}E.exports=v},41609:function(E,V,r){var s=r(280),m=r(64160),v=r(35694),b=r(1469),f=r(98612),y=r(44144),p=r(25726),c=r(36719),o="[object Map]",i="[object Set]",a=Object.prototype,h=a.hasOwnProperty;function O(W){if(W==null)return!0;if(f(W)&&(b(W)||typeof W=="string"||typeof W.splice=="function"||y(W)||c(W)||v(W)))return!W.length;var z=m(W);if(z==o||z==i)return!W.size;if(p(W))return!s(W).length;for(var C in W)if(h.call(W,C))return!1;return!0}E.exports=O},56688:function(E,V,r){var s=r(25588),m=r(51717),v=r(31167),b=v&&v.isMap,f=b?m(b):s;E.exports=f},68630:function(E,V,r){var s=r(44239),m=r(85924),v=r(37005),b="[object Object]",f=Function.prototype,y=Object.prototype,p=f.toString,c=y.hasOwnProperty,o=p.call(Object);function i(a){if(!v(a)||s(a)!=b)return!1;var h=m(a);if(h===null)return!0;var O=c.call(h,"constructor")&&h.constructor;return typeof O=="function"&&O instanceof O&&p.call(O)==o}E.exports=i},72928:function(E,V,r){var s=r(29221),m=r(51717),v=r(31167),b=v&&v.isSet,f=b?m(b):s;E.exports=f},47037:function(E,V,r){var s=r(44239),m=r(1469),v=r(37005),b="[object String]";function f(y){return typeof y=="string"||!m(y)&&v(y)&&s(y)==b}E.exports=f},52353:function(E){function V(r){return r===void 0}E.exports=V},23360:function(E,V,r){var s=r(14636),m=r(10313),v=r(98612);function b(f){return v(f)?s(f,!0):m(f)}E.exports=b},10928:function(E){function V(r){var s=r==null?0:r.length;return s?r[s-1]:void 0}E.exports=V},35161:function(E,V,r){var s=r(29932),m=r(67206),v=r(69199),b=r(1469);function f(y,p){var c=b(y)?s:v;return c(y,m(p,3))}E.exports=f},66604:function(E,V,r){var s=r(89465),m=r(47816),v=r(67206);function b(f,y){var p={};return y=v(y,3),m(f,function(c,o,i){s(p,o,y(c,o,i))}),p}E.exports=b},6162:function(E,V,r){var s=r(56029),m=r(53325),v=r(6557);function b(f){return f&&f.length?s(f,v,m):void 0}E.exports=b},82492:function(E,V,r){var s=r(42980),m=r(21463),v=m(function(b,f,y){s(b,f,y)});E.exports=v},53632:function(E,V,r){var s=r(56029),m=r(70433),v=r(6557);function b(f){return f&&f.length?s(f,v,m):void 0}E.exports=b},22762:function(E,V,r){var s=r(56029),m=r(67206),v=r(70433);function b(f,y){return f&&f.length?s(f,m(y,2),v):void 0}E.exports=b},7771:function(E,V,r){var s=r(55639),m=function(){return s.Date.now()};E.exports=m},78718:function(E,V,r){var s=r(25970),m=r(99021),v=m(function(b,f){return b==null?{}:s(b,f)});E.exports=v},96026:function(E,V,r){var s=r(47445),m=s();E.exports=m},54061:function(E,V,r){var s=r(62663),m=r(89881),v=r(67206),b=r(10107),f=r(1469);function y(p,c,o){var i=f(p)?s:b,a=arguments.length<3;return i(p,v(c,4),o,a,m)}E.exports=y},84238:function(E,V,r){var s=r(280),m=r(64160),v=r(98612),b=r(47037),f=r(88016),y="[object Map]",p="[object Set]";function c(o){if(o==null)return 0;if(v(o))return b(o)?f(o):o.length;var i=m(o);return i==y||i==p?o.size:s(o).length}E.exports=c},89734:function(E,V,r){var s=r(21078),m=r(82689),v=r(5976),b=r(16612),f=v(function(y,p){if(y==null)return[];var c=p.length;return c>1&&b(y,p[0],p[1])?p=[]:c>2&&b(p[0],p[1],p[2])&&(p=[p[0]]),m(y,s(p,1),[])});E.exports=f},59881:function(E,V,r){var s=r(98363),m=r(23360);function v(b){return s(b,m(b))}E.exports=v},68718:function(E,V,r){var s=r(77412),m=r(3118),v=r(47816),b=r(67206),f=r(85924),y=r(1469),p=r(44144),c=r(23560),o=r(13218),i=r(36719);function a(h,O,W){var z=y(h),C=z||p(h)||i(h);if(O=b(O,4),W==null){var P=h&&h.constructor;C?W=z?new P:[]:o(h)?W=c(P)?m(f(h)):{}:W={}}return(C?s:v)(h,function(U,X,_){return O(W,U,X,_)}),W}E.exports=a},93386:function(E,V,r){var s=r(21078),m=r(5976),v=r(45652),b=r(29246),f=m(function(y){return v(s(y,1,b,!0))});E.exports=f},73955:function(E,V,r){var s=r(79833),m=0;function v(b){var f=++m;return s(b)+f}E.exports=v},52628:function(E,V,r){var s=r(47415),m=r(3674);function v(b){return b==null?[]:s(b,m(b))}E.exports=v},7287:function(E,V,r){var s=r(34865),m=r(1757);function v(b,f){return m(b||[],f||[],s)}E.exports=v},75823:function(E,V,r){"use strict";r.r(V),r.d(V,{default:function(){return b}});var s=r(44091);function m(f){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,s.isAnyArray)(f))throw new TypeError("input must be an array");if(f.length===0)throw new TypeError("input must not be empty");var p=y.fromIndex,c=p===void 0?0:p,o=y.toIndex,i=o===void 0?f.length:o;if(c<0||c>=f.length||!Number.isInteger(c))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=c||i>f.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=f[c],h=c+1;h<i;h++)f[h]>a&&(a=f[h]);return a}function v(f){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,s.isAnyArray)(f))throw new TypeError("input must be an array");if(f.length===0)throw new TypeError("input must not be empty");var p=y.fromIndex,c=p===void 0?0:p,o=y.toIndex,i=o===void 0?f.length:o;if(c<0||c>=f.length||!Number.isInteger(c))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=c||i>f.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=f[c],h=c+1;h<i;h++)f[h]<a&&(a=f[h]);return a}function b(f){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,s.isAnyArray)(f)){if(f.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var p;if(y.output!==void 0){if(!(0,s.isAnyArray)(y.output))throw new TypeError("output option must be an array if specified");p=y.output}else p=new Array(f.length);var c=v(f),o=m(f);if(c===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=y.min,a=i===void 0?y.autoMinMax?c:0:i,h=y.max,O=h===void 0?y.autoMinMax?o:1:h;if(a>=O)throw new RangeError("min option must be smaller than max option");for(var W=(O-a)/(o-c),z=0;z<f.length;z++)p[z]=(f[z]-c)*W+a;return p}},25098:function(E){function V(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}E.exports=V,E.exports.__esModule=!0,E.exports.default=E.exports},97235:function(E){function V(r,s){if(s.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}E.exports=V,E.exports.__esModule=!0,E.exports.default=E.exports},28771:function(E){function V(r,s){return s.get?s.get.call(r):s.value}E.exports=V,E.exports.__esModule=!0,E.exports.default=E.exports},40008:function(E){function V(r,s,m){if(s.set)s.set.call(r,m);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=m}}E.exports=V,E.exports.__esModule=!0,E.exports.default=E.exports},56194:function(E){function V(r,s,m){if(!s.has(r))throw new TypeError("attempted to "+m+" private field on non-instance");return s.get(r)}E.exports=V,E.exports.__esModule=!0,E.exports.default=E.exports},33862:function(E,V,r){var s=r(28771),m=r(56194);function v(b,f){var y=m(b,f,"get");return s(b,y)}E.exports=v,E.exports.__esModule=!0,E.exports.default=E.exports},29777:function(E,V,r){var s=r(97235);function m(v,b,f){s(v,b),b.set(v,f)}E.exports=m,E.exports.__esModule=!0,E.exports.default=E.exports},25457:function(E,V,r){var s=r(40008),m=r(56194);function v(b,f,y){var p=m(b,f,"set");return s(b,p,y),y}E.exports=v,E.exports.__esModule=!0,E.exports.default=E.exports},74978:function(E){function V(r,s,m){if(!s.has(r))throw new TypeError("attempted to get private field on non-instance");return m}E.exports=V,E.exports.__esModule=!0,E.exports.default=E.exports},80363:function(E,V,r){var s=r(97235);function m(v,b){s(v,b),b.add(v)}E.exports=m,E.exports.__esModule=!0,E.exports.default=E.exports},26037:function(E,V,r){var s=r(48374),m=r(21771),v=r(73408);function b(f){var y=m();return function(){var c=s(f),o;if(y){var i=s(this).constructor;o=Reflect.construct(c,arguments,i)}else o=c.apply(this,arguments);return v(this,o)}}E.exports=b,E.exports.__esModule=!0,E.exports.default=E.exports},28785:function(E,V,r){var s=r(70426);function m(){return typeof Reflect!="undefined"&&Reflect.get?(E.exports=m=Reflect.get.bind(),E.exports.__esModule=!0,E.exports.default=E.exports):(E.exports=m=function(b,f,y){var p=s(b,f);if(p){var c=Object.getOwnPropertyDescriptor(p,f);return c.get?c.get.call(arguments.length<3?b:y):c.value}},E.exports.__esModule=!0,E.exports.default=E.exports),m.apply(this,arguments)}E.exports=m,E.exports.__esModule=!0,E.exports.default=E.exports},48374:function(E){function V(r){return E.exports=V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},E.exports.__esModule=!0,E.exports.default=E.exports,V(r)}E.exports=V,E.exports.__esModule=!0,E.exports.default=E.exports},31996:function(E,V,r){var s=r(21314);function m(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),b&&s(v,b)}E.exports=m,E.exports.__esModule=!0,E.exports.default=E.exports},21771:function(E){function V(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}E.exports=V,E.exports.__esModule=!0,E.exports.default=E.exports},73408:function(E,V,r){var s=r(52677).default,m=r(25098);function v(b,f){if(f&&(s(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(b)}E.exports=v,E.exports.__esModule=!0,E.exports.default=E.exports},21314:function(E){function V(r,s){return E.exports=V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,b){return v.__proto__=b,v},E.exports.__esModule=!0,E.exports.default=E.exports,V(r,s)}E.exports=V,E.exports.__esModule=!0,E.exports.default=E.exports},70426:function(E,V,r){var s=r(48374);function m(v,b){for(;!Object.prototype.hasOwnProperty.call(v,b)&&(v=s(v),v!==null););return v}E.exports=m,E.exports.__esModule=!0,E.exports.default=E.exports},17049:function(E,V){"use strict";var r={value:function(){}};function s(){for(var y=0,p=arguments.length,c={},o;y<p;++y){if(!(o=arguments[y]+"")||o in c||/[\s.]/.test(o))throw new Error("illegal type: "+o);c[o]=[]}return new m(c)}function m(y){this._=y}function v(y,p){return y.trim().split(/^|\s+/).map(function(c){var o="",i=c.indexOf(".");if(i>=0&&(o=c.slice(i+1),c=c.slice(0,i)),c&&!p.hasOwnProperty(c))throw new Error("unknown type: "+c);return{type:c,name:o}})}m.prototype=s.prototype={constructor:m,on:function(p,c){var o=this._,i=v(p+"",o),a,h=-1,O=i.length;if(arguments.length<2){for(;++h<O;)if((a=(p=i[h]).type)&&(a=b(o[a],p.name)))return a;return}if(c!=null&&typeof c!="function")throw new Error("invalid callback: "+c);for(;++h<O;)if(a=(p=i[h]).type)o[a]=f(o[a],p.name,c);else if(c==null)for(a in o)o[a]=f(o[a],p.name,null);return this},copy:function(){var p={},c=this._;for(var o in c)p[o]=c[o].slice();return new m(p)},call:function(p,c){if((a=arguments.length-2)>0)for(var o=new Array(a),i=0,a,h;i<a;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(p))throw new Error("unknown type: "+p);for(h=this._[p],i=0,a=h.length;i<a;++i)h[i].value.apply(c,o)},apply:function(p,c,o){if(!this._.hasOwnProperty(p))throw new Error("unknown type: "+p);for(var i=this._[p],a=0,h=i.length;a<h;++a)i[a].value.apply(c,o)}};function b(y,p){for(var c=0,o=y.length,i;c<o;++c)if((i=y[c]).name===p)return i.value}function f(y,p,c){for(var o=0,i=y.length;o<i;++o)if(y[o].name===p){y[o]=r,y=y.slice(0,o).concat(y.slice(o+1));break}return c!=null&&y.push({name:p,value:c}),y}V.Z=s},32014:function(E,V,r){"use strict";r.d(V,{Sc:function(){return w},y3:function(){return i}});var s=r(49612),m=s.XA,v=s.a_,b=s.yQ,f=s.Hs,y=s.Ec,p=s.dx,c=s.LU,o=s.Rm,i=s.y3,a=s.qK,h=s.pb,O=s.j,W=s.sO,z=s.BZ,C=s.EK,P=s.Db,U=s.Fx,X=s.tU,_=s.Ym,$=s.rs,Y=s.QR,k=s.TB,A=s.oH,w=s.Sc,x=s.BN,L=s.it,F=s.$r,Z=s.QM,G=s.AV,Q=(s.y3,s.y3),H=s.GH,J=s.SO,q=s.uZ,ft=s.yU,ht=s.F1,vt=s.re},33953:function(E,V,r){"use strict";r.d(V,{Z:function(){return $}});function s(w){const x=+this._x.call(null,w),L=+this._y.call(null,w),F=+this._z.call(null,w);return m(this.cover(x,L,F),x,L,F,w)}function m(w,x,L,F,Z){if(isNaN(x)||isNaN(L)||isNaN(F))return w;var G,Q=w._root,H={data:Z},J=w._x0,q=w._y0,ft=w._z0,ht=w._x1,vt=w._y1,Et=w._z1,mt,ct,at,ut,wt,Ot,et,dt,ot,pt,At;if(!Q)return w._root=H,w;for(;Q.length;)if((et=x>=(mt=(J+ht)/2))?J=mt:ht=mt,(dt=L>=(ct=(q+vt)/2))?q=ct:vt=ct,(ot=F>=(at=(ft+Et)/2))?ft=at:Et=at,G=Q,!(Q=Q[pt=ot<<2|dt<<1|et]))return G[pt]=H,w;if(ut=+w._x.call(null,Q.data),wt=+w._y.call(null,Q.data),Ot=+w._z.call(null,Q.data),x===ut&&L===wt&&F===Ot)return H.next=Q,G?G[pt]=H:w._root=H,w;do G=G?G[pt]=new Array(8):w._root=new Array(8),(et=x>=(mt=(J+ht)/2))?J=mt:ht=mt,(dt=L>=(ct=(q+vt)/2))?q=ct:vt=ct,(ot=F>=(at=(ft+Et)/2))?ft=at:Et=at;while((pt=ot<<2|dt<<1|et)===(At=(Ot>=at)<<2|(wt>=ct)<<1|ut>=mt));return G[At]=Q,G[pt]=H,w}function v(w){Array.isArray(w)||(w=Array.from(w));const x=w.length,L=new Float64Array(x),F=new Float64Array(x),Z=new Float64Array(x);let G=1/0,Q=1/0,H=1/0,J=-1/0,q=-1/0,ft=-1/0;for(let ht=0,vt,Et,mt,ct;ht<x;++ht)isNaN(Et=+this._x.call(null,vt=w[ht]))||isNaN(mt=+this._y.call(null,vt))||isNaN(ct=+this._z.call(null,vt))||(L[ht]=Et,F[ht]=mt,Z[ht]=ct,Et<G&&(G=Et),Et>J&&(J=Et),mt<Q&&(Q=mt),mt>q&&(q=mt),ct<H&&(H=ct),ct>ft&&(ft=ct));if(G>J||Q>q||H>ft)return this;this.cover(G,Q,H).cover(J,q,ft);for(let ht=0;ht<x;++ht)m(this,L[ht],F[ht],Z[ht],w[ht]);return this}function b(w,x,L){if(isNaN(w=+w)||isNaN(x=+x)||isNaN(L=+L))return this;var F=this._x0,Z=this._y0,G=this._z0,Q=this._x1,H=this._y1,J=this._z1;if(isNaN(F))Q=(F=Math.floor(w))+1,H=(Z=Math.floor(x))+1,J=(G=Math.floor(L))+1;else{for(var q=Q-F||1,ft=this._root,ht,vt;F>w||w>=Q||Z>x||x>=H||G>L||L>=J;)switch(vt=(L<G)<<2|(x<Z)<<1|w<F,ht=new Array(8),ht[vt]=ft,ft=ht,q*=2,vt){case 0:Q=F+q,H=Z+q,J=G+q;break;case 1:F=Q-q,H=Z+q,J=G+q;break;case 2:Q=F+q,Z=H-q,J=G+q;break;case 3:F=Q-q,Z=H-q,J=G+q;break;case 4:Q=F+q,H=Z+q,G=J-q;break;case 5:F=Q-q,H=Z+q,G=J-q;break;case 6:Q=F+q,Z=H-q,G=J-q;break;case 7:F=Q-q,Z=H-q,G=J-q;break}this._root&&this._root.length&&(this._root=ft)}return this._x0=F,this._y0=Z,this._z0=G,this._x1=Q,this._y1=H,this._z1=J,this}function f(){var w=[];return this.visit(function(x){if(!x.length)do w.push(x.data);while(x=x.next)}),w}function y(w){return arguments.length?this.cover(+w[0][0],+w[0][1],+w[0][2]).cover(+w[1][0],+w[1][1],+w[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function p(w,x,L,F,Z,G,Q){this.node=w,this.x0=x,this.y0=L,this.z0=F,this.x1=Z,this.y1=G,this.z1=Q}function c(w,x,L,F){var Z,G=this._x0,Q=this._y0,H=this._z0,J,q,ft,ht,vt,Et,mt=this._x1,ct=this._y1,at=this._z1,ut=[],wt=this._root,Ot,et;for(wt&&ut.push(new p(wt,G,Q,H,mt,ct,at)),F==null?F=1/0:(G=w-F,Q=x-F,H=L-F,mt=w+F,ct=x+F,at=L+F,F*=F);Ot=ut.pop();)if(!(!(wt=Ot.node)||(J=Ot.x0)>mt||(q=Ot.y0)>ct||(ft=Ot.z0)>at||(ht=Ot.x1)<G||(vt=Ot.y1)<Q||(Et=Ot.z1)<H))if(wt.length){var dt=(J+ht)/2,ot=(q+vt)/2,pt=(ft+Et)/2;ut.push(new p(wt[7],dt,ot,pt,ht,vt,Et),new p(wt[6],J,ot,pt,dt,vt,Et),new p(wt[5],dt,q,pt,ht,ot,Et),new p(wt[4],J,q,pt,dt,ot,Et),new p(wt[3],dt,ot,ft,ht,vt,pt),new p(wt[2],J,ot,ft,dt,vt,pt),new p(wt[1],dt,q,ft,ht,ot,pt),new p(wt[0],J,q,ft,dt,ot,pt)),(et=(L>=pt)<<2|(x>=ot)<<1|w>=dt)&&(Ot=ut[ut.length-1],ut[ut.length-1]=ut[ut.length-1-et],ut[ut.length-1-et]=Ot)}else{var At=w-+this._x.call(null,wt.data),Pt=x-+this._y.call(null,wt.data),Ct=L-+this._z.call(null,wt.data),Mt=At*At+Pt*Pt+Ct*Ct;if(Mt<F){var Ut=Math.sqrt(F=Mt);G=w-Ut,Q=x-Ut,H=L-Ut,mt=w+Ut,ct=x+Ut,at=L+Ut,Z=wt.data}}return Z}function o(w){if(isNaN(vt=+this._x.call(null,w))||isNaN(Et=+this._y.call(null,w))||isNaN(mt=+this._z.call(null,w)))return this;var x,L=this._root,F,Z,G,Q=this._x0,H=this._y0,J=this._z0,q=this._x1,ft=this._y1,ht=this._z1,vt,Et,mt,ct,at,ut,wt,Ot,et,dt,ot;if(!L)return this;if(L.length)for(;;){if((wt=vt>=(ct=(Q+q)/2))?Q=ct:q=ct,(Ot=Et>=(at=(H+ft)/2))?H=at:ft=at,(et=mt>=(ut=(J+ht)/2))?J=ut:ht=ut,x=L,!(L=L[dt=et<<2|Ot<<1|wt]))return this;if(!L.length)break;(x[dt+1&7]||x[dt+2&7]||x[dt+3&7]||x[dt+4&7]||x[dt+5&7]||x[dt+6&7]||x[dt+7&7])&&(F=x,ot=dt)}for(;L.data!==w;)if(Z=L,!(L=L.next))return this;return(G=L.next)&&delete L.next,Z?(G?Z.next=G:delete Z.next,this):x?(G?x[dt]=G:delete x[dt],(L=x[0]||x[1]||x[2]||x[3]||x[4]||x[5]||x[6]||x[7])&&L===(x[7]||x[6]||x[5]||x[4]||x[3]||x[2]||x[1]||x[0])&&!L.length&&(F?F[ot]=L:this._root=L),this):(this._root=G,this)}function i(w){for(var x=0,L=w.length;x<L;++x)this.remove(w[x]);return this}function a(){return this._root}function h(){var w=0;return this.visit(function(x){if(!x.length)do++w;while(x=x.next)}),w}function O(w){var x=[],L,F=this._root,Z,G,Q,H,J,q,ft;for(F&&x.push(new p(F,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));L=x.pop();)if(!w(F=L.node,G=L.x0,Q=L.y0,H=L.z0,J=L.x1,q=L.y1,ft=L.z1)&&F.length){var ht=(G+J)/2,vt=(Q+q)/2,Et=(H+ft)/2;(Z=F[7])&&x.push(new p(Z,ht,vt,Et,J,q,ft)),(Z=F[6])&&x.push(new p(Z,G,vt,Et,ht,q,ft)),(Z=F[5])&&x.push(new p(Z,ht,Q,Et,J,vt,ft)),(Z=F[4])&&x.push(new p(Z,G,Q,Et,ht,vt,ft)),(Z=F[3])&&x.push(new p(Z,ht,vt,H,J,q,Et)),(Z=F[2])&&x.push(new p(Z,G,vt,H,ht,q,Et)),(Z=F[1])&&x.push(new p(Z,ht,Q,H,J,vt,Et)),(Z=F[0])&&x.push(new p(Z,G,Q,H,ht,vt,Et))}return this}function W(w){var x=[],L=[],F;for(this._root&&x.push(new p(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));F=x.pop();){var Z=F.node;if(Z.length){var G,Q=F.x0,H=F.y0,J=F.z0,q=F.x1,ft=F.y1,ht=F.z1,vt=(Q+q)/2,Et=(H+ft)/2,mt=(J+ht)/2;(G=Z[0])&&x.push(new p(G,Q,H,J,vt,Et,mt)),(G=Z[1])&&x.push(new p(G,vt,H,J,q,Et,mt)),(G=Z[2])&&x.push(new p(G,Q,Et,J,vt,ft,mt)),(G=Z[3])&&x.push(new p(G,vt,Et,J,q,ft,mt)),(G=Z[4])&&x.push(new p(G,Q,H,mt,vt,Et,ht)),(G=Z[5])&&x.push(new p(G,vt,H,mt,q,Et,ht)),(G=Z[6])&&x.push(new p(G,Q,Et,mt,vt,ft,ht)),(G=Z[7])&&x.push(new p(G,vt,Et,mt,q,ft,ht))}L.push(F)}for(;F=L.pop();)w(F.node,F.x0,F.y0,F.z0,F.x1,F.y1,F.z1);return this}function z(w){return w[0]}function C(w){return arguments.length?(this._x=w,this):this._x}function P(w){return w[1]}function U(w){return arguments.length?(this._y=w,this):this._y}function X(w){return w[2]}function _(w){return arguments.length?(this._z=w,this):this._z}function $(w,x,L,F){var Z=new Y(x==null?z:x,L==null?P:L,F==null?X:F,NaN,NaN,NaN,NaN,NaN,NaN);return w==null?Z:Z.addAll(w)}function Y(w,x,L,F,Z,G,Q,H,J){this._x=w,this._y=x,this._z=L,this._x0=F,this._y0=Z,this._z0=G,this._x1=Q,this._y1=H,this._z1=J,this._root=void 0}function k(w){for(var x={data:w.data},L=x;w=w.next;)L=L.next={data:w.data};return x}var A=$.prototype=Y.prototype;A.copy=function(){var w=new Y(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),x=this._root,L,F;if(!x)return w;if(!x.length)return w._root=k(x),w;for(L=[{source:x,target:w._root=new Array(8)}];x=L.pop();)for(var Z=0;Z<8;++Z)(F=x.source[Z])&&(F.length?L.push({source:F,target:x.target[Z]=new Array(8)}):x.target[Z]=k(F));return w},A.add=s,A.addAll=v,A.cover=b,A.data=f,A.extent=y,A.find=c,A.remove=o,A.removeAll=i,A.root=a,A.size=h,A.visit=O,A.visitAfter=W,A.x=C,A.y=U,A.z=_},81269:function(E,V,r){"use strict";r.d(V,{Z:function(){return X}});function s(k){const A=+this._x.call(null,k),w=+this._y.call(null,k);return m(this.cover(A,w),A,w,k)}function m(k,A,w,x){if(isNaN(A)||isNaN(w))return k;var L,F=k._root,Z={data:x},G=k._x0,Q=k._y0,H=k._x1,J=k._y1,q,ft,ht,vt,Et,mt,ct,at;if(!F)return k._root=Z,k;for(;F.length;)if((Et=A>=(q=(G+H)/2))?G=q:H=q,(mt=w>=(ft=(Q+J)/2))?Q=ft:J=ft,L=F,!(F=F[ct=mt<<1|Et]))return L[ct]=Z,k;if(ht=+k._x.call(null,F.data),vt=+k._y.call(null,F.data),A===ht&&w===vt)return Z.next=F,L?L[ct]=Z:k._root=Z,k;do L=L?L[ct]=new Array(4):k._root=new Array(4),(Et=A>=(q=(G+H)/2))?G=q:H=q,(mt=w>=(ft=(Q+J)/2))?Q=ft:J=ft;while((ct=mt<<1|Et)===(at=(vt>=ft)<<1|ht>=q));return L[at]=F,L[ct]=Z,k}function v(k){var A,w,x=k.length,L,F,Z=new Array(x),G=new Array(x),Q=1/0,H=1/0,J=-1/0,q=-1/0;for(w=0;w<x;++w)isNaN(L=+this._x.call(null,A=k[w]))||isNaN(F=+this._y.call(null,A))||(Z[w]=L,G[w]=F,L<Q&&(Q=L),L>J&&(J=L),F<H&&(H=F),F>q&&(q=F));if(Q>J||H>q)return this;for(this.cover(Q,H).cover(J,q),w=0;w<x;++w)m(this,Z[w],G[w],k[w]);return this}function b(k,A){if(isNaN(k=+k)||isNaN(A=+A))return this;var w=this._x0,x=this._y0,L=this._x1,F=this._y1;if(isNaN(w))L=(w=Math.floor(k))+1,F=(x=Math.floor(A))+1;else{for(var Z=L-w||1,G=this._root,Q,H;w>k||k>=L||x>A||A>=F;)switch(H=(A<x)<<1|k<w,Q=new Array(4),Q[H]=G,G=Q,Z*=2,H){case 0:L=w+Z,F=x+Z;break;case 1:w=L-Z,F=x+Z;break;case 2:L=w+Z,x=F-Z;break;case 3:w=L-Z,x=F-Z;break}this._root&&this._root.length&&(this._root=G)}return this._x0=w,this._y0=x,this._x1=L,this._y1=F,this}function f(){var k=[];return this.visit(function(A){if(!A.length)do k.push(A.data);while(A=A.next)}),k}function y(k){return arguments.length?this.cover(+k[0][0],+k[0][1]).cover(+k[1][0],+k[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function p(k,A,w,x,L){this.node=k,this.x0=A,this.y0=w,this.x1=x,this.y1=L}function c(k,A,w){var x,L=this._x0,F=this._y0,Z,G,Q,H,J=this._x1,q=this._y1,ft=[],ht=this._root,vt,Et;for(ht&&ft.push(new p(ht,L,F,J,q)),w==null?w=1/0:(L=k-w,F=A-w,J=k+w,q=A+w,w*=w);vt=ft.pop();)if(!(!(ht=vt.node)||(Z=vt.x0)>J||(G=vt.y0)>q||(Q=vt.x1)<L||(H=vt.y1)<F))if(ht.length){var mt=(Z+Q)/2,ct=(G+H)/2;ft.push(new p(ht[3],mt,ct,Q,H),new p(ht[2],Z,ct,mt,H),new p(ht[1],mt,G,Q,ct),new p(ht[0],Z,G,mt,ct)),(Et=(A>=ct)<<1|k>=mt)&&(vt=ft[ft.length-1],ft[ft.length-1]=ft[ft.length-1-Et],ft[ft.length-1-Et]=vt)}else{var at=k-+this._x.call(null,ht.data),ut=A-+this._y.call(null,ht.data),wt=at*at+ut*ut;if(wt<w){var Ot=Math.sqrt(w=wt);L=k-Ot,F=A-Ot,J=k+Ot,q=A+Ot,x=ht.data}}return x}function o(k){if(isNaN(J=+this._x.call(null,k))||isNaN(q=+this._y.call(null,k)))return this;var A,w=this._root,x,L,F,Z=this._x0,G=this._y0,Q=this._x1,H=this._y1,J,q,ft,ht,vt,Et,mt,ct;if(!w)return this;if(w.length)for(;;){if((vt=J>=(ft=(Z+Q)/2))?Z=ft:Q=ft,(Et=q>=(ht=(G+H)/2))?G=ht:H=ht,A=w,!(w=w[mt=Et<<1|vt]))return this;if(!w.length)break;(A[mt+1&3]||A[mt+2&3]||A[mt+3&3])&&(x=A,ct=mt)}for(;w.data!==k;)if(L=w,!(w=w.next))return this;return(F=w.next)&&delete w.next,L?(F?L.next=F:delete L.next,this):A?(F?A[mt]=F:delete A[mt],(w=A[0]||A[1]||A[2]||A[3])&&w===(A[3]||A[2]||A[1]||A[0])&&!w.length&&(x?x[ct]=w:this._root=w),this):(this._root=F,this)}function i(k){for(var A=0,w=k.length;A<w;++A)this.remove(k[A]);return this}function a(){return this._root}function h(){var k=0;return this.visit(function(A){if(!A.length)do++k;while(A=A.next)}),k}function O(k){var A=[],w,x=this._root,L,F,Z,G,Q;for(x&&A.push(new p(x,this._x0,this._y0,this._x1,this._y1));w=A.pop();)if(!k(x=w.node,F=w.x0,Z=w.y0,G=w.x1,Q=w.y1)&&x.length){var H=(F+G)/2,J=(Z+Q)/2;(L=x[3])&&A.push(new p(L,H,J,G,Q)),(L=x[2])&&A.push(new p(L,F,J,H,Q)),(L=x[1])&&A.push(new p(L,H,Z,G,J)),(L=x[0])&&A.push(new p(L,F,Z,H,J))}return this}function W(k){var A=[],w=[],x;for(this._root&&A.push(new p(this._root,this._x0,this._y0,this._x1,this._y1));x=A.pop();){var L=x.node;if(L.length){var F,Z=x.x0,G=x.y0,Q=x.x1,H=x.y1,J=(Z+Q)/2,q=(G+H)/2;(F=L[0])&&A.push(new p(F,Z,G,J,q)),(F=L[1])&&A.push(new p(F,J,G,Q,q)),(F=L[2])&&A.push(new p(F,Z,q,J,H)),(F=L[3])&&A.push(new p(F,J,q,Q,H))}w.push(x)}for(;x=w.pop();)k(x.node,x.x0,x.y0,x.x1,x.y1);return this}function z(k){return k[0]}function C(k){return arguments.length?(this._x=k,this):this._x}function P(k){return k[1]}function U(k){return arguments.length?(this._y=k,this):this._y}function X(k,A,w){var x=new _(A==null?z:A,w==null?P:w,NaN,NaN,NaN,NaN);return k==null?x:x.addAll(k)}function _(k,A,w,x,L,F){this._x=k,this._y=A,this._x0=w,this._y0=x,this._x1=L,this._y1=F,this._root=void 0}function $(k){for(var A={data:k.data},w=A;k=k.next;)w=w.next={data:k.data};return A}var Y=X.prototype=_.prototype;Y.copy=function(){var k=new _(this._x,this._y,this._x0,this._y0,this._x1,this._y1),A=this._root,w,x;if(!A)return k;if(!A.length)return k._root=$(A),k;for(w=[{source:A,target:k._root=new Array(4)}];A=w.pop();)for(var L=0;L<4;++L)(x=A.source[L])&&(x.length?w.push({source:x,target:A.target[L]=new Array(4)}):A.target[L]=$(x));return k},Y.add=s,Y.addAll=v,Y.cover=b,Y.data=f,Y.extent=y,Y.find=c,Y.remove=o,Y.removeAll=i,Y.root=a,Y.size=h,Y.visit=O,Y.visitAfter=W,Y.x=C,Y.y=U},91739:function(E,V,r){"use strict";r.d(V,{HT:function(){return z}});var s=0,m=0,v=0,b=1e3,f,y,p=0,c=0,o=0,i=typeof performance=="object"&&performance.now?performance:Date,a=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function($){setTimeout($,17)};function h(){return c||(a(O),c=i.now()+o)}function O(){c=0}function W(){this._call=this._time=this._next=null}W.prototype=z.prototype={constructor:W,restart:function($,Y,k){if(typeof $!="function")throw new TypeError("callback is not a function");k=(k==null?h():+k)+(Y==null?0:+Y),!this._next&&y!==this&&(y?y._next=this:f=this,y=this),this._call=$,this._time=k,_()},stop:function(){this._call&&(this._call=null,this._time=1/0,_())}};function z($,Y,k){var A=new W;return A.restart($,Y,k),A}function C(){h(),++s;for(var $=f,Y;$;)(Y=c-$._time)>=0&&$._call.call(void 0,Y),$=$._next;--s}function P(){c=(p=i.now())+o,s=m=0;try{C()}finally{s=0,X(),c=0}}function U(){var $=i.now(),Y=$-p;Y>b&&(o-=Y,p=$)}function X(){for(var $,Y=f,k,A=1/0;Y;)Y._call?(A>Y._time&&(A=Y._time),$=Y,Y=Y._next):(k=Y._next,Y._next=null,Y=$?$._next=k:f=k);y=$,_(A)}function _($){if(!s){m&&(m=clearTimeout(m));var Y=$-c;Y>24?($<1/0&&(m=setTimeout(P,$-i.now()-o)),v&&(v=clearInterval(v))):(v||(p=i.now(),v=setInterval(U,b)),s=1,a(P))}}}}]);
}());